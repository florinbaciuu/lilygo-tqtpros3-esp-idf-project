<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" />
        <!-- Global site tag (gtag.js) - Google Analytics -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-73KGWFC8DM"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());

            gtag('config', 'G-73KGWFC8DM');
        </script><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Wi-Fi Security - ESP32 -  &mdash; ESP-IDF Programming Guide v5.4.2 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=a60756f2" />
      <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=949a1ff5" />
      <link rel="stylesheet" type="text/css" href="../_static/theme_overrides.css?v=851bd809" />

  
    <link rel="canonical" href="https://docs.espressif.com/projects/esp-idf/en/stable/esp32/api-guides/wifi-security.html" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js?v=c241bbaf"></script>
        <script src="../_static/doctools.js?v=888ff710"></script>
        <script src="../_static/sphinx_highlight.js?v=4825356b"></script>
        <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../_static/copybutton.js?v=ff8fa330"></script>
        <script src="https://wavedrom.com/skins/default.js"></script>
        <script src="https://wavedrom.com/wavedrom.min.js"></script>
    <script src="../_static/js/theme.js"></script>

    
        

    <script type="text/javascript">
        DOCUMENTATION_OPTIONS.PAGENAME = 'api-guides/wifi-security';
        DOCUMENTATION_OPTIONS.PROJECT_SLUG = 'esp-idf';
        DOCUMENTATION_OPTIONS.LATEST_BRANCH_NAME = 'master';
        DOCUMENTATION_OPTIONS.VERSIONS_URL = 'https://dl.espressif.com/dl/esp-idf/idf_versions.js';
        DOCUMENTATION_OPTIONS.LANGUAGES = ["en", "zh_CN"];
        DOCUMENTATION_OPTIONS.IDF_TARGET = 'esp32';
        DOCUMENTATION_OPTIONS.HAS_IDF_TARGETS = ["esp32", "esp32s2", "esp32s3", "esp32c3", "esp32c2", "esp32c5", "esp32c6", "esp32p4"]
        DOCUMENTATION_OPTIONS.RELEASE = 'v5.4.2';
        DOCUMENTATION_OPTIONS.LANGUAGE_URL = 'en';

    </script>

    <script type="text/javascript" src="https://dl.espressif.com/dl/esp-idf/idf_versions.js"></script>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Wi-Fi Expansion" href="wifi-expansion.html" />
    <link rel="prev" title="Espressif Wireshark User Guide" href="wireshark-user-guide.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            ESP-IDF Programming Guide
              <img src="../_static/espressif-logo.svg" class="logo" alt="Logo"/>
          </a>

          
            <div class="selectors">
              <select id="target-select" style="width: 150px;" hidden>
                <option value="" disabled selected>Choose target...</option>
              </select>
            </div>
          

          <div class="selectors">
            <select id="version-select" style="width: 150px;" hidden>
              <option value="" disabled selected>Choose version...</option>
            </select>
          </div>

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../get-started/index.html">Get Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api-reference/index.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hw-reference/index.html">Hardware Reference</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">API Guides</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="app_trace.html">Application Level Tracing Library</a></li>
<li class="toctree-l2"><a class="reference internal" href="startup.html">Application Startup Flow</a></li>
<li class="toctree-l2"><a class="reference internal" href="classic-bt/index.html">Bluetooth<sup>®</sup> Classic</a></li>
<li class="toctree-l2"><a class="reference internal" href="ble/index.html">Bluetooth<sup>®</sup> Low Energy</a></li>
<li class="toctree-l2"><a class="reference internal" href="esp-ble-mesh/ble-mesh-index.html">ESP-BLE-MESH</a></li>
<li class="toctree-l2"><a class="reference internal" href="bootloader.html">Bootloader</a></li>
<li class="toctree-l2"><a class="reference internal" href="build-system.html">Build System</a></li>
<li class="toctree-l2"><a class="reference internal" href="coexist.html">RF Coexistence</a></li>
<li class="toctree-l2"><a class="reference internal" href="c.html">C Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="cplusplus.html">C++ Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="code-quality/index.html">Code Quality</a></li>
<li class="toctree-l2"><a class="reference internal" href="core_dump.html">Core Dump</a></li>
<li class="toctree-l2"><a class="reference internal" href="current-consumption-measurement-modules.html">Current Consumption Measurement of Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="deep-sleep-stub.html">Deep-sleep Wake Stubs</a></li>
<li class="toctree-l2"><a class="reference internal" href="error-handling.html">Error Handling</a></li>
<li class="toctree-l2"><a class="reference internal" href="esp-wifi-mesh.html">ESP-WIFI-MESH</a></li>
<li class="toctree-l2"><a class="reference internal" href="external-ram.html">Support for External RAM</a></li>
<li class="toctree-l2"><a class="reference internal" href="fatal-errors.html">Fatal Errors</a></li>
<li class="toctree-l2"><a class="reference internal" href="file-system-considerations.html">File System Considerations</a></li>
<li class="toctree-l2"><a class="reference internal" href="hardware-abstraction.html">Hardware Abstraction</a></li>
<li class="toctree-l2"><a class="reference internal" href="hlinterrupts.html">High Priority Interrupts</a></li>
<li class="toctree-l2"><a class="reference internal" href="jtag-debugging/index.html">JTAG Debugging</a></li>
<li class="toctree-l2"><a class="reference internal" href="linker-script-generation.html">Linker Script Generation</a></li>
<li class="toctree-l2"><a class="reference internal" href="low-power-mode/index.html">Low Power Modes</a></li>
<li class="toctree-l2"><a class="reference internal" href="lwip.html">lwIP</a></li>
<li class="toctree-l2"><a class="reference internal" href="memory-types.html">Memory Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="openthread.html">OpenThread</a></li>
<li class="toctree-l2"><a class="reference internal" href="partition-tables.html">Partition Tables</a></li>
<li class="toctree-l2"><a class="reference internal" href="performance/index.html">Performance</a></li>
<li class="toctree-l2"><a class="reference internal" href="reproducible-builds.html">Reproducible Builds</a></li>
<li class="toctree-l2"><a class="reference internal" href="RF_calibration.html">RF Calibration</a></li>
<li class="toctree-l2"><a class="reference internal" href="stdio.html">Standard I/O and Console Output</a></li>
<li class="toctree-l2"><a class="reference internal" href="thread-local-storage.html">Thread Local Storage</a></li>
<li class="toctree-l2"><a class="reference internal" href="tools/index.html">Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="unit-tests.html">Unit Testing in ESP32</a></li>
<li class="toctree-l2"><a class="reference internal" href="host-apps.html">Running ESP-IDF Applications on Host</a></li>
<li class="toctree-l2"><a class="reference internal" href="wifi.html">Wi-Fi Driver</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Wi-Fi Security</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#esp32-wi-fi-security-features">ESP32 Wi-Fi Security Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#protected-management-frames-pmf">Protected Management Frames (PMF)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="#api-usage">API &amp; Usage</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#wi-fi-enterprise">Wi-Fi Enterprise</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id1">Introduction</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#wpa3-personal">WPA3-Personal</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id2">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="#setting-up-wpa3-personal-with-esp32">Setting up WPA3 Personal with ESP32</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#wi-fi-enhanced-open">Wi-Fi Enhanced Open™</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id3">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="#setting-up-owe-with-esp32">Setting up OWE with ESP32</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="wifi-expansion.html">Wi-Fi Expansion</a></li>
<li class="toctree-l2"><a class="reference internal" href="phy.html">PHY</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../security/index.html">Security Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../migration-guides/index.html">Migration Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../libraries-and-frameworks/index.html">Libraries and Frameworks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contribute/index.html">Contributions Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../versions.html">ESP-IDF Versions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../resources.html">Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../COPYRIGHT.html">Copyrights and Licenses</a></li>
<li class="toctree-l1"><a class="reference internal" href="../about.html">About</a></li>
<li class="toctree-l1"><a class="reference internal" href="../languages.html">Switch Between Languages</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">ESP-IDF Programming Guide</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">API Guides</a></li>
      <li class="breadcrumb-item active">Wi-Fi Security</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/espressif/esp-idf/blob/v5.4.2/docs/en/api-guides/wifi-security.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="wi-fi-security">
<h1>Wi-Fi Security<a class="headerlink" href="#wi-fi-security" title="Permalink to this heading"></a></h1>
<p><a class="reference external" href="../../../../zh_CN/v5.4.2/esp32/api-guides/wifi-security.html">[中文]</a></p>
<section id="esp32-wi-fi-security-features">
<h2>ESP32 Wi-Fi Security Features<a class="headerlink" href="#esp32-wi-fi-security-features" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><p>Support for Protected Management Frames (PMF)</p></li>
<li><p>Support for WPA3-Personal</p></li>
<li><p>Support for Opportunistic Wireless Encryption (OWE)</p></li>
</ul>
<p>In addition to traditional security methods (WEP/WPA-TKIP/WPA2-CCMP), ESP32 Wi-Fi supports state-of-the-art security protocols, namely Protected Management Frames (PMF), Wi-Fi Protected Access 3 and Enhanced Open™ based on Opportunistic Wireless Encryption. WPA3 provides better privacy and robustness against known attacks on traditional modes. Enhanced Open™ enhances the security and privacy of users connecting to open (public) Wireless Networks without authentication.</p>
</section>
<section id="protected-management-frames-pmf">
<h2>Protected Management Frames (PMF)<a class="headerlink" href="#protected-management-frames-pmf" title="Permalink to this heading"></a></h2>
<section id="introduction">
<h3>Introduction<a class="headerlink" href="#introduction" title="Permalink to this heading"></a></h3>
<p>In Wi-Fi, management frames such as beacons, probes, authentication/deauthentication, and association/disassociation are used by non-AP stations to scan and connect to an AP. Unlike data frames, these frames are sent unencrypted.</p>
<p>An attacker can use eavesdropping and packet injection to send spoofed authentication/deauthentication or association/disassociation frames at the right time, leading to attacks such as Denial-of-Service (DOS) and man-in-the-middle.</p>
<p>PMF provides protection against these attacks by encrypting unicast management frames and providing integrity checks for broadcast management frames. These include deauthentication, disassociation, and robust management frames. It also provides a Secure Association (SA) teardown mechanism to prevent spoofed association/authentication frames from disconnecting already connected clients.</p>
<p>There are three types of PMF configuration modes on both the station and AP sides:</p>
<blockquote>
<div><ul class="simple">
<li><p>PMF Optional</p></li>
<li><p>PMF Required</p></li>
<li><p>PMF Disabled</p></li>
</ul>
</div></blockquote>
</section>
<section id="api-usage">
<h3>API &amp; Usage<a class="headerlink" href="#api-usage" title="Permalink to this heading"></a></h3>
<p>ESP32 supports PMF in both the station and SoftAP mode. For both, the default mode is PMF Optional. For even higher security, PMF Required mode can be enabled by setting the <code class="docutils literal notranslate"><span class="pre">required</span></code> flag in <code class="docutils literal notranslate"><span class="pre">pmf_cfg</span></code> while using the <a class="reference internal" href="../api-reference/network/esp_wifi.html#_CPPv419esp_wifi_set_config16wifi_interface_tP13wifi_config_t" title="esp_wifi_set_config"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">esp_wifi_set_config()</span></code></a> API. This results in the device only connecting to a PMF-enabled device and rejecting others. PMF Optional can be disabled using <a class="reference internal" href="../api-reference/network/esp_wifi.html#_CPPv427esp_wifi_disable_pmf_config16wifi_interface_t" title="esp_wifi_disable_pmf_config"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">esp_wifi_disable_pmf_config()</span></code></a> API. If SoftAP is started in WPA3 or WPA2/WPA3 mixed mode, trying to disable PMF results in an error.</p>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p><code class="docutils literal notranslate"><span class="pre">capable</span></code> flag in <code class="docutils literal notranslate"><span class="pre">pmf_cfg</span></code> is deprecated and set to <code class="docutils literal notranslate"><span class="pre">true</span></code> internally. This is to take the additional security benefit of PMF whenever possible.</p>
</div>
</section>
</section>
<section id="wi-fi-enterprise">
<h2>Wi-Fi Enterprise<a class="headerlink" href="#wi-fi-enterprise" title="Permalink to this heading"></a></h2>
<section id="id1">
<h3>Introduction<a class="headerlink" href="#id1" title="Permalink to this heading"></a></h3>
<p>Enterprise security is the secure authentication mechanism for enterprise wireless networks. It uses the RADIUS server for authentication of network users before connecting to the Access Point (AP). The authentication process is based on 802.1X policy and comes with different Extended Authentication Protocol (EAP) methods such as TLS, TTLS, PEAP, and EAP-FAST. RADIUS server authenticates the users based on their credentials (username and password), digital certificates, or both.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>ESP32 supports Wi-Fi Enterprise only in station mode.</p>
</div>
<p>ESP32 supports <strong>WPA2-Enterprise</strong> and <strong>WPA3-Enterprise</strong>. WPA3-Enterprise builds upon the foundation of WPA2-Enterprise with the additional requirement of using Protected Management Frames (PMF) and server certificate validation on all WPA3 connections. <strong>WPA3-Enterprise also offers an additional secure mode using 192-bit minimum-strength security protocols and cryptographic tools to better protect sensitive data.</strong> The 192-bit security mode offered by WPA3-Enterprise ensures the right combination of cryptographic tools is used and sets a consistent baseline of security within a WPA3 network. WPA3-Enterprise 192-bit mode is only supported by modules having <code class="xref c c-macro docutils literal notranslate"><span class="pre">SOC_WIFI_GCMP_SUPPORT</span></code> support. Enable <a class="reference internal" href="../api-reference/kconfig.html#config-esp-wifi-suite-b-192"><span class="std std-ref">CONFIG_ESP_WIFI_SUITE_B_192</span></a> flag to support WPA3-Enterprise with 192-bit mode.</p>
<dl class="simple">
<dt>ESP32 supports the following EAP methods:</dt><dd><ul class="simple">
<li><p>EAP-TLS: This is a certificate-based method and only requires SSID and EAP-IDF.</p></li>
<li><p>PEAP: This is a Protected EAP method. Usernames and passwords are mandatory.</p></li>
<li><dl class="simple">
<dt>EAP-TTLS: This is a credential-based method. Only server authentication is mandatory while user authentication is optional. Username and Password are mandatory. It supports different Phase2 methods, such as:</dt><dd><ul>
<li><p>PAP: Password Authentication Protocol.</p></li>
<li><p>CHAP: Challenge Handshake Authentication Protocol.</p></li>
<li><p>MSCHAP and MSCHAP-V2.</p></li>
</ul>
</dd>
</dl>
</li>
<li><p>EAP-FAST: This is an authentication method based on Protected Access Credentials (PAC) which also uses identity and password. Currently, <a class="reference internal" href="../api-reference/kconfig.html#config-esp-wifi-mbedtls-tls-client"><span class="std std-ref">CONFIG_ESP_WIFI_MBEDTLS_TLS_CLIENT</span></a> flag should be disabled to use this feature.</p></li>
</ul>
</dd>
</dl>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/espressif/esp-idf/tree/v5.4.2/examples/wifi/wifi_eap_fast">wifi/wifi_eap_fast</a> demonstrates how to connect ESP32 to an AP with Wi-Fi Enterprise authentication using EAP-FAST, including the installation of a CA certificate, setting user credentials, enabling Wi-Fi Enterprise mode, and handling connection to the AP.</p></li>
<li><p><a class="reference external" href="https://github.com/espressif/esp-idf/tree/v5.4.2/examples/wifi/wifi_enterprise">wifi/wifi_enterprise</a> demonstrates how to connect ESP32 to an AP with Wi-Fi Enterprise authentication using other EAP methods, such as EAP-TLS, EAP-PEAP, EAP-TTLS. For details on generating certificates with OpenSSL commands and running the example, refer to <a class="reference external" href="https://github.com/espressif/esp-idf/blob/v5.4.2/examples/wifi/wifi_enterprise/README.md">wifi/wifi_enterprise/README.md</a>.</p></li>
</ul>
</section>
</section>
<section id="wpa3-personal">
<h2>WPA3-Personal<a class="headerlink" href="#wpa3-personal" title="Permalink to this heading"></a></h2>
<section id="id2">
<h3>Introduction<a class="headerlink" href="#id2" title="Permalink to this heading"></a></h3>
<p>Wi-Fi Protected Access-3 (WPA3) is a set of enhancements to Wi-Fi access security intended to replace the current WPA2 standard. It includes new features and capabilities that offer significantly better protection against different types of attacks. It improves upon WPA2-Personal in the following ways:</p>
<blockquote>
<div><ul class="simple">
<li><p>WPA3 uses Simultaneous Authentication of Equals (SAE), which is a password-authenticated key agreement method based on Diffie-Hellman key exchange. Unlike WPA2, the technology is resistant to offline-dictionary attacks, where the attacker attempts to determine a shared password based on a captured 4-way handshake without any further network interaction.</p></li>
<li><p>Disallows outdated protocols such as TKIP, which is susceptible to simple attacks like MIC key recovery attacks.</p></li>
<li><p>Mandates Protected Management Frames (PMF), which provides protection for unicast and multicast robust management frames which include Disassoc and Deauth frames. This means that the attacker cannot disrupt an established WPA3 session by sending forged Assoc frames to the AP or Deauth/Disassoc frames to the station.</p></li>
<li><p>Provides forward secrecy, which means the captured data cannot be decrypted even if the password is compromised after data transmission.</p></li>
</ul>
</div></blockquote>
<p>ESP32 station also supports following additional Wi-Fi CERTIFIED WPA3™ features:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>Transition Disable</strong> : WPA3 defines transition modes for client devices so that they can connect to a network even when some of the APs in that network do not support the strongest security mode. Client device implementations typically configure network profiles in a transition mode by default. However, such a client device could be subject to an active downgrade attack in which the attacker causes the client device to use a lower security mode in order to exploit a vulnerability with that mode. WPA3 has introduced the Transition Disable feature to mitigate such attacks, by enabling client devices to change from a transition mode to an &quot;only&quot; mode when connecting to a network, once that network indicates it fully supports the higher security mode. Enable <code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">transition_disable</span></code> in <a class="reference internal" href="../api-reference/network/esp_wifi.html#_CPPv417wifi_sta_config_t" title="wifi_sta_config_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">wifi_sta_config_t</span></code></a> to enable this feature for ESP32 station.</p></li>
<li><p><strong>SAE PUBLIC-KEY (PK)</strong> : As the password at small public networks is shared with multiple users, it may be relatively easy for an attacker to find out the password, which is sufficient to launch an evil twin attack. Such attacks are prevented by an extension to WPA3-Personal called SAE-PK. The SAE-PK authentication exchange is very similar to the regular SAE exchange, with the addition of a digital signature sent by the AP to the client device. The client device validates the public key asserted by the AP based on the password fingerprint and verifies the signature using the public key. So even if the attacker knows the password, it does not know the private key to generate a valid signature, and therefore the client device is protected against an evil twin attack. Enable <a class="reference internal" href="../api-reference/kconfig.html#config-esp-wifi-enable-sae-pk"><span class="std std-ref">CONFIG_ESP_WIFI_ENABLE_SAE_PK</span></a> and <code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">sae_pk_mode</span></code> in <a class="reference internal" href="../api-reference/network/esp_wifi.html#_CPPv417wifi_sta_config_t" title="wifi_sta_config_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">wifi_sta_config_t</span></code></a> to add support of SAE PK for ESP32 station.</p></li>
<li><p><strong>SAE PWE Methods</strong>: ESP32 station as well as SoftAP supports SAE Password Element derivation method <cite>Hunting And Pecking</cite> and <cite>Hash to Element (H2E)</cite>. H2E is computationally efficient as it uses fewer iterations than Hunt and Peck, and also it mitigates side-channel attacks. These can be configured using the parameter <code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">sae_pwe_h2e</span></code> from <a class="reference internal" href="../api-reference/network/esp_wifi.html#_CPPv417wifi_sta_config_t" title="wifi_sta_config_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">wifi_sta_config_t</span></code></a> and <a class="reference internal" href="../api-reference/network/esp_wifi.html#_CPPv416wifi_ap_config_t" title="wifi_ap_config_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">wifi_ap_config_t</span></code></a> for station and SoftAP respectively. Hunt and peck, H2E both can be enabled by using <a class="reference internal" href="../api-reference/network/esp_wifi.html#_CPPv4N21wifi_sae_pwe_method_t17WPA3_SAE_PWE_BOTHE" title="WPA3_SAE_PWE_BOTH"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">WPA3_SAE_PWE_BOTH</span></code></a> configuration.</p></li>
</ul>
</div></blockquote>
<p>Please refer to the <a class="reference external" href="https://www.wi-fi.org/discover-wi-fi/security">Security</a> section of Wi-Fi Alliance's official website for further details.</p>
</section>
<section id="setting-up-wpa3-personal-with-esp32">
<h3>Setting up WPA3 Personal with ESP32<a class="headerlink" href="#setting-up-wpa3-personal-with-esp32" title="Permalink to this heading"></a></h3>
<p>A configuration option <a class="reference internal" href="../api-reference/kconfig.html#config-esp-wifi-enable-wpa3-sae"><span class="std std-ref">CONFIG_ESP_WIFI_ENABLE_WPA3_SAE</span></a> is provided to enable/disable WPA3 for the station. By default, it is kept enabled. If disabled, ESP32 will not be able to establish a WPA3 connection. Also under the Wi-Fi component, a configuration option <a class="reference internal" href="../api-reference/kconfig.html#config-esp-wifi-softap-sae-support"><span class="std std-ref">CONFIG_ESP_WIFI_SOFTAP_SAE_SUPPORT</span></a> is provided to enable/disable WPA3 for SoftAP. Additionally, since PMF is mandated by WPA3 protocol, PMF Optional is set by default for station and SoftAP. PMF Required can be configured using Wi-Fi configuration. For WPA3 SoftAP, PMF Required is mandatory and will be configured and stored in NVS implicitly if not specified by the user.</p>
<p>Refer to <a class="reference internal" href="#protected-management-frames-pmf">Protected Management Frames (PMF)</a> on how to set this mode.</p>
<p>After configuring all required settings for the WPA3-Personal station, application developers need not worry about the underlying security mode of the AP. WPA3-Personal is now the highest supported protocol in terms of security, so it is automatically selected for the connection whenever available. For example, if an AP is configured to be in WPA3 Transition Mode, where it advertises as both WPA2 and WPA3 capable, the station chooses WPA3 for the connection with the above settings.</p>
<p>After configuring all required setting for WPA3-Personal SoftAP, application developers have to set <code class="docutils literal notranslate"><span class="pre">WIFI_AUTH_WPA3_PSK</span></code> for <cite>authmode</cite> in <a class="reference internal" href="../api-reference/network/esp_wifi.html#_CPPv416wifi_ap_config_t" title="wifi_ap_config_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">wifi_ap_config_t</span></code></a> to start AP in WPA3 security. SoftAP can be also configured to use <code class="docutils literal notranslate"><span class="pre">WIFI_AUTH_WPA2_WPA3_PSK</span></code> mixed mode.</p>
<p>Note that binary size will be increased by about 6.5 kilobytes after enabling <a class="reference internal" href="../api-reference/kconfig.html#config-esp-wifi-softap-sae-support"><span class="std std-ref">CONFIG_ESP_WIFI_SOFTAP_SAE_SUPPORT</span></a>.</p>
</section>
</section>
<section id="wi-fi-enhanced-open">
<h2>Wi-Fi Enhanced Open™<a class="headerlink" href="#wi-fi-enhanced-open" title="Permalink to this heading"></a></h2>
<section id="id3">
<h3>Introduction<a class="headerlink" href="#id3" title="Permalink to this heading"></a></h3>
<p>Enhanced Open™ is used for providing security and privacy to users connecting to open (public) wireless networks, particularly in scenarios where user authentication is not desired or distribution of credentials impractical. Each user is provided with unique individual encryption keys that protect data exchange between a user device and the Wi-Fi network. Protected Management Frames further protect management traffic between the access point and the user device. Enhanced Open™ is based on the Opportunistic Wireless Encryption (OWE) standard. OWE Transition Mode enables a seamless transition from Open unencrypted WLANs to OWE WLANs without adversely impacting the end-user experience.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>ESP32 supports Wi-Fi Enhanced Open™ only in station mode.</p>
</div>
</section>
<section id="setting-up-owe-with-esp32">
<h3>Setting up OWE with ESP32<a class="headerlink" href="#setting-up-owe-with-esp32" title="Permalink to this heading"></a></h3>
<p>A configuration option <a class="reference internal" href="../api-reference/kconfig.html#config-esp-wifi-enable-wpa3-owe-sta"><span class="std std-ref">CONFIG_ESP_WIFI_ENABLE_WPA3_OWE_STA</span></a> and configuration parameter <code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">owe_enabled</span></code> in <a class="reference internal" href="../api-reference/network/esp_wifi.html#_CPPv417wifi_sta_config_t" title="wifi_sta_config_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">wifi_sta_config_t</span></code></a> is provided to enable OWE support for the station. To use OWE transition mode, along with the configuration provided above, <cite>authmode</cite> from <a class="reference internal" href="../api-reference/network/esp_wifi.html#_CPPv421wifi_scan_threshold_t" title="wifi_scan_threshold_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">wifi_scan_threshold_t</span></code></a> should be set to <code class="docutils literal notranslate"><span class="pre">WIFI_AUTH_OPEN</span></code>.</p>
</section>
</section>
</section>

    <script type="text/javascript">
        function init() {
            WaveDrom.ProcessAll();
        }
        window.onload = init;
    </script>

           </div>
             <div class="articleComments">

<style>
    .expand-feedback-content {
        display: none;
    }
    .click-like-or-dislike {
        background-color: #d3d3d3;
        pointer-events: none;
    }
</style>

<script>
    function submitFeedbackForm(user_likes_document) {
        // Send to GA4 the user reaction
        gtag('event', 'user_reaction', {
            'user_likes_document': user_likes_document
        });

        if (user_likes_document === 1) {
            document.querySelector('.like-btn').classList.add('click-like-or-dislike');
            document.getElementById("expandContentLike").style.display = 'block';
        } else {
            document.querySelector('.dislike-btn').classList.add('click-like-or-dislike');
            document.getElementById("expandContent").style.display = 'block';
        }

        document.querySelector('.like-btn').style.pointerEvents = 'none';
        document.querySelector('.dislike-btn').style.pointerEvents = 'none';
    }
</script>

<hr>

<p style="text-align:center"><strong>Was this page helpful?</strong></p>
<p style="text-align:center">
    <button class="like-btn" onclick="submitFeedbackForm(1)">
        <svg aria-hidden="true" focusable="false" class="color-fg-muted" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible">
            <path d="M8.834.066c.763.087 1.5.295 2.01.884.505.581.656 1.378.656 2.3 0 .467-.087 1.119-.157 1.637L11.328 5h1.422c.603 0 1.174.085 1.668.333.508.254.911.679 1.137 1.2.453.998.438 2.447.188 4.316l-.04.306c-.105.79-.195 1.473-.313 2.033-.131.63-.315 1.209-.668 1.672C13.97 15.847 12.706 16 11 16c-1.848 0-3.234-.333-4.388-.653-.165-.045-.323-.09-.475-.133-.658-.186-1.2-.34-1.725-.415A1.75 1.75 0 0 1 2.75 16h-1A1.75 1.75 0 0 1 0 14.25v-7.5C0 5.784.784 5 1.75 5h1a1.75 1.75 0 0 1 1.514.872c.258-.105.59-.268.918-.508C5.853 4.874 6.5 4.079 6.5 2.75v-.5c0-1.202.994-2.337 2.334-2.184ZM4.5 13.3c.705.088 1.39.284 2.072.478l.441.125c1.096.305 2.334.598 3.987.598 1.794 0 2.28-.223 2.528-.549.147-.193.276-.505.394-1.07.105-.502.188-1.124.295-1.93l.04-.3c.25-1.882.189-2.933-.068-3.497a.921.921 0 0 0-.442-.48c-.208-.104-.52-.174-.997-.174H11c-.686 0-1.295-.577-1.206-1.336.023-.192.05-.39.076-.586.065-.488.13-.97.13-1.328 0-.809-.144-1.15-.288-1.316-.137-.158-.402-.304-1.048-.378C8.357 1.521 8 1.793 8 2.25v.5c0 1.922-.978 3.128-1.933 3.825a5.831 5.831 0 0 1-1.567.81ZM2.75 6.5h-1a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h1a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
        </svg>
    </button>
    <button class="dislike-btn" onclick="submitFeedbackForm(0)">
        <svg aria-hidden="true" focusable="false" class="" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible">
            <path d="M7.083 15.986c-.763-.087-1.499-.295-2.011-.884-.504-.581-.655-1.378-.655-2.299 0-.468.087-1.12.157-1.638l.015-.112H3.167c-.603 0-1.174-.086-1.669-.334a2.415 2.415 0 0 1-1.136-1.2c-.454-.998-.438-2.447-.188-4.316l.04-.306C.32 4.108.41 3.424.526 2.864c.132-.63.316-1.209.669-1.672C1.947.205 3.211.053 4.917.053c1.848 0 3.234.332 4.388.652l.474.133c.658.187 1.201.341 1.726.415a1.75 1.75 0 0 1 1.662-1.2h1c.966 0 1.75.784 1.75 1.75v7.5a1.75 1.75 0 0 1-1.75 1.75h-1a1.75 1.75 0 0 1-1.514-.872c-.259.105-.59.268-.919.508-.671.491-1.317 1.285-1.317 2.614v.5c0 1.201-.994 2.336-2.334 2.183Zm4.334-13.232c-.706-.089-1.39-.284-2.072-.479l-.441-.125c-1.096-.304-2.335-.597-3.987-.597-1.794 0-2.28.222-2.529.548-.147.193-.275.505-.393 1.07-.105.502-.188 1.124-.295 1.93l-.04.3c-.25 1.882-.19 2.933.067 3.497a.923.923 0 0 0 .443.48c.208.104.52.175.997.175h1.75c.685 0 1.295.577 1.205 1.335-.022.192-.049.39-.075.586-.066.488-.13.97-.13 1.329 0 .808.144 1.15.288 1.316.137.157.401.303 1.048.377.307.035.664-.237.664-.693v-.5c0-1.922.978-3.127 1.932-3.825a5.878 5.878 0 0 1 1.568-.809Zm1.75 6.798h1a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25h-1a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25Z"></path>
        </svg>
    </button>
</p>

<div class="expand-feedback-content" id="expandContentLike">
    <ul style="text-align:center">
        <li>Thank you! We received your feedback.</li>
        <li>If you have any comments, fill in <a href='https://www.espressif.com/en/company/documents/documentation_feedback?docId=4287&sections=Wi-Fi Security (api-guides/wifi-security)&version=esp32 v5.4.2 (v5.4.2)'>Espressif Documentation Feedback Form</a>.</li>
    </ul>
</div>

<div class="expand-feedback-content" id="expandContent">
    <ul style="text-align:center">
        <li>We value your feedback.</li>
        <li>Let us know how we can improve this page by filling in <a href='https://www.espressif.com/en/company/documents/documentation_feedback?docId=4287&sections=Wi-Fi Security (api-guides/wifi-security)&version=esp32 v5.4.2 (v5.4.2)'>Espressif Documentation Feedback Form</a>.</li>
    </ul>
</div>

<br>


             </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="wireshark-user-guide.html" class="btn btn-neutral float-left" title="Espressif Wireshark User Guide" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="wifi-expansion.html" class="btn btn-neutral float-right" title="Wi-Fi Expansion" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2016 - 2025, Espressif Systems (Shanghai) Co., Ltd.</p>
  </div>

  <ul class="footer">
        <li>
	    
            
            Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/espressif/sphinx_idf_theme">theme</a>  based on <a href="https://github.com/readthedocs/sphinx_rtd_theme">Read the Docs Sphinx Theme</a>.
         </li>
    <li class="footer-aside">
        <a href="../esp-idf-en-v5.4.2.zip"> Download HTML</a>
    </li>

  </ul> 

</footer>
        </div>
      </div>
    </section>
  </div>

  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>