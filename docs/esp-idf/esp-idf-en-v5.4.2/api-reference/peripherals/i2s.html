<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" />
        <!-- Global site tag (gtag.js) - Google Analytics -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-73KGWFC8DM"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());

            gtag('config', 'G-73KGWFC8DM');
        </script><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Inter-IC Sound (I2S) - ESP32 -  &mdash; ESP-IDF Programming Guide v5.4.2 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=a60756f2" />
      <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=949a1ff5" />
      <link rel="stylesheet" type="text/css" href="../../_static/theme_overrides.css?v=851bd809" />

  
    <link rel="canonical" href="https://docs.espressif.com/projects/esp-idf/en/stable/esp32/api-reference/peripherals/i2s.html" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js?v=c241bbaf"></script>
        <script src="../../_static/doctools.js?v=888ff710"></script>
        <script src="../../_static/sphinx_highlight.js?v=4825356b"></script>
        <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../../_static/copybutton.js?v=ff8fa330"></script>
        <script src="https://wavedrom.com/skins/default.js"></script>
        <script src="https://wavedrom.com/wavedrom.min.js"></script>
    <script src="../../_static/js/theme.js"></script>

    
        

    <script type="text/javascript">
        DOCUMENTATION_OPTIONS.PAGENAME = 'api-reference/peripherals/i2s';
        DOCUMENTATION_OPTIONS.PROJECT_SLUG = 'esp-idf';
        DOCUMENTATION_OPTIONS.LATEST_BRANCH_NAME = 'master';
        DOCUMENTATION_OPTIONS.VERSIONS_URL = 'https://dl.espressif.com/dl/esp-idf/idf_versions.js';
        DOCUMENTATION_OPTIONS.LANGUAGES = ["en", "zh_CN"];
        DOCUMENTATION_OPTIONS.IDF_TARGET = 'esp32';
        DOCUMENTATION_OPTIONS.HAS_IDF_TARGETS = ["esp32", "esp32s2", "esp32s3", "esp32c3", "esp32c2", "esp32c5", "esp32c6", "esp32p4"]
        DOCUMENTATION_OPTIONS.RELEASE = 'v5.4.2';
        DOCUMENTATION_OPTIONS.LANGUAGE_URL = 'en';

    </script>

    <script type="text/javascript" src="https://dl.espressif.com/dl/esp-idf/idf_versions.js"></script>
    <link rel="author" title="About these documents" href="../../about.html" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="LCD" href="lcd/index.html" />
    <link rel="prev" title="I2C Slave v1.0" href="i2c_slave_v1.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            ESP-IDF Programming Guide
              <img src="../../_static/espressif-logo.svg" class="logo" alt="Logo"/>
          </a>

          
            <div class="selectors">
              <select id="target-select" style="width: 150px;" hidden>
                <option value="" disabled selected>Choose target...</option>
              </select>
            </div>
          

          <div class="selectors">
            <select id="version-select" style="width: 150px;" hidden>
              <option value="" disabled selected>Choose version...</option>
            </select>
          </div>

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../get-started/index.html">Get Started</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">API Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../api-conventions.html">API Conventions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../protocols/index.html">Application Protocols</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bluetooth/index.html">Bluetooth® API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../error-codes.html">Error Codes Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="../network/index.html">Networking APIs</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Peripherals API</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="adc_oneshot.html">Analog to Digital Converter (ADC) Oneshot Mode Driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="adc_continuous.html">Analog to Digital Converter (ADC) Continuous Mode Driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="adc_calibration.html">Analog to Digital Converter (ADC) Calibration Driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="clk_tree.html">Clock Tree</a></li>
<li class="toctree-l3"><a class="reference internal" href="dac.html">Digital To Analog Converter (DAC)</a></li>
<li class="toctree-l3"><a class="reference internal" href="gpio.html">GPIO &amp; RTC GPIO</a></li>
<li class="toctree-l3"><a class="reference internal" href="gptimer.html">General Purpose Timer (GPTimer)</a></li>
<li class="toctree-l3"><a class="reference internal" href="i2c.html">Inter-Integrated Circuit (I2C)</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Inter-IC Sound (I2S)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="#i2s-file-structure">I2S File Structure</a></li>
<li class="toctree-l4"><a class="reference internal" href="#i2s-clock">I2S Clock</a></li>
<li class="toctree-l4"><a class="reference internal" href="#i2s-communication-mode">I2S Communication Mode</a></li>
<li class="toctree-l4"><a class="reference internal" href="#functional-overview">Functional Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="#application-example">Application Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="#application-notes">Application Notes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#api-reference">API Reference</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="lcd/index.html">LCD</a></li>
<li class="toctree-l3"><a class="reference internal" href="ledc.html">LED Control (LEDC)</a></li>
<li class="toctree-l3"><a class="reference internal" href="mcpwm.html">Motor Control Pulse Width Modulator (MCPWM)</a></li>
<li class="toctree-l3"><a class="reference internal" href="pcnt.html">Pulse Counter (PCNT)</a></li>
<li class="toctree-l3"><a class="reference internal" href="rmt.html">Remote Control Transceiver (RMT)</a></li>
<li class="toctree-l3"><a class="reference internal" href="sd_pullup_requirements.html">SD Pull-up Requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="sdmmc_host.html">SDMMC Host Driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="sdspi_host.html">SD SPI Host Driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="sdio_slave.html">SDIO Card Slave Driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="sdm.html">Sigma-Delta Modulation (SDM)</a></li>
<li class="toctree-l3"><a class="reference internal" href="spi_flash/index.html">SPI Flash API</a></li>
<li class="toctree-l3"><a class="reference internal" href="spi_master.html">SPI Master Driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="spi_slave.html">SPI Slave Driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="touch_pad.html">Touch Sensor</a></li>
<li class="toctree-l3"><a class="reference internal" href="twai.html">Two-Wire Automotive Interface (TWAI)</a></li>
<li class="toctree-l3"><a class="reference internal" href="uart.html">Universal Asynchronous Receiver/Transmitter (UART)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../kconfig.html">Project Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../provisioning/index.html">Provisioning API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../storage/index.html">Storage API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../system/index.html">System API</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../hw-reference/index.html">Hardware Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api-guides/index.html">API Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../security/index.html">Security Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../migration-guides/index.html">Migration Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../libraries-and-frameworks/index.html">Libraries and Frameworks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contribute/index.html">Contributions Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../versions.html">ESP-IDF Versions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../resources.html">Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../COPYRIGHT.html">Copyrights and Licenses</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../about.html">About</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../languages.html">Switch Between Languages</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">ESP-IDF Programming Guide</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">API Reference</a></li>
          <li class="breadcrumb-item"><a href="index.html">Peripherals API</a></li>
      <li class="breadcrumb-item active">Inter-IC Sound (I2S)</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/espressif/esp-idf/blob/v5.4.2/docs/en/api-reference/peripherals/i2s.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="inter-ic-sound-i2s">
<h1>Inter-IC Sound (I2S)<a class="headerlink" href="#inter-ic-sound-i2s" title="Permalink to this heading"></a></h1>
<p><a class="reference external" href="../../../../../zh_CN/v5.4.2/esp32/api-reference/peripherals/i2s.html">[中文]</a></p>
<section id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this heading"></a></h2>
<p>I2S (Inter-IC Sound) is a synchronous serial communication protocol usually used for transmitting audio data between two digital audio devices.</p>
<p>ESP32 contains two I2S peripheral(s). These peripherals can be configured to input and output sample data via the I2S driver.</p>
<p>An I2S bus that communicates in standard mode consists of the following lines:</p>
<ul class="simple">
<li><p><strong>MCLK:</strong> Master clock line. It is an optional signal depending on the slave side, mainly used for offering a reference clock to the I2S slave device.</p></li>
<li><p><strong>BCLK:</strong> Bit clock line. The bit clock for data line.</p></li>
<li><p><strong>WS:</strong> Word (Slot) select line. It is usually used to identify the vocal tract except PDM mode.</p></li>
<li><p><strong>DIN/DOUT:</strong> Serial data input/output line. Data will loopback internally if DIN and DOUT are set to a same GPIO.</p></li>
</ul>
<p>An I2S bus that communicates in PDM mode consists of the following lines:</p>
<ul class="simple">
<li><p><strong>CLK:</strong> PDM clock line.</p></li>
<li><p><strong>DIN/DOUT:</strong> Serial data input/output line.</p></li>
</ul>
<p>Each I2S controller has the following features that can be configured by the I2S driver:</p>
<ul class="simple">
<li><p>Operation as system master or slave</p></li>
<li><p>Capable of acting as transmitter or receiver</p></li>
<li><p>DMA controller that allows stream sampling of data without requiring the CPU to copy each data sample</p></li>
</ul>
<p>Each controller supports single RX or TX simplex communication. As RX and TX channels share a clock, they can only be combined with the same configuration to establish a full-duplex communication.</p>
</section>
<section id="i2s-file-structure">
<h2>I2S File Structure<a class="headerlink" href="#i2s-file-structure" title="Permalink to this heading"></a></h2>
<figure class="align-center" id="id16">
<img alt="I2S file structure" src="../../_images/i2s_file_structure.png" />
<figcaption>
<p><span class="caption-text">I2S File Structure</span><a class="headerlink" href="#id16" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p><strong>Public headers that need to be included in the I2S application are as follows:</strong></p>
<p><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">i2s.h</span></code>: The header file that provides legacy I2S APIs (for apps using legacy driver).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">i2s_std.h</span></code>: The header file that provides standard communication mode specific APIs (for apps using new driver with standard mode).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">i2s_pdm.h</span></code>: The header file that provides PDM communication mode specific APIs (for apps using new driver with PDM mode).</p></li>
</ul>
</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The legacy driver cannot coexist with the new driver. Include <code class="docutils literal notranslate"><span class="pre">i2s.h</span></code> to use the legacy driver, or include the other three headers to use the new driver. The legacy driver might be removed in future.</p>
</div>
<p><strong>Public headers that have been included in the headers above are as follows:</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">i2s_types_legacy.h</span></code>: The header file that provides legacy public types that are only used in the legacy driver.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">i2s_types.h</span></code>: The header file that provides public types.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">i2s_common.h</span></code>: The header file that provides common APIs for all communication modes.</p></li>
</ul>
</section>
<section id="i2s-clock">
<h2>I2S Clock<a class="headerlink" href="#i2s-clock" title="Permalink to this heading"></a></h2>
<section id="clock-source">
<h3>Clock Source<a class="headerlink" href="#clock-source" title="Permalink to this heading"></a></h3>
<p><ul class="simple">
<li><p><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">i2s_clock_src_t::I2S_CLK_SRC_DEFAULT</span></code>: Default PLL clock.</p></li>
<li><p><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">i2s_clock_src_t::I2S_CLK_SRC_PLL_160M</span></code>: 160 MHz PLL clock.</p></li>
<li><p><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">i2s_clock_src_t::I2S_CLK_SRC_APLL</span></code>: Audio PLL clock, which is more precise than <code class="docutils literal notranslate"><span class="pre">I2S_CLK_SRC_PLL_160M</span></code> in high sample rate applications. Its frequency is configurable according to the sample rate. However, if APLL has been occupied by EMAC or other channels, the APLL frequency cannot be changed, and the driver will try to work under this APLL frequency. If this frequency cannot meet the requirements of I2S, the clock configuration will fail.</p></li>
</ul>
</p>
</section>
<section id="clock-terminology">
<h3>Clock Terminology<a class="headerlink" href="#clock-terminology" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p><strong>Sample rate</strong>: The number of sampled data in one second per slot.</p></li>
<li><p><strong>SCLK</strong>: Source clock frequency. It is the frequency of the clock source.</p></li>
<li><p><strong>MCLK</strong>: Master clock frequency. BCLK is generated from this clock. The MCLK signal usually serves as a reference clock and is mostly needed to synchronize BCLK and WS between I2S master and slave roles.</p></li>
<li><p><strong>BCLK</strong>: Bit clock frequency. Every tick of this clock stands for one data bit on data pin. The slot bit width configured in <a class="reference internal" href="#_CPPv4N21i2s_std_slot_config_t14slot_bit_widthE" title="i2s_std_slot_config_t::slot_bit_width"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">i2s_std_slot_config_t::slot_bit_width</span></code></a> is equal to the number of BCLK ticks, which means there will be 8/16/24/32 BCLK ticks in one slot.</p></li>
<li><p><strong>LRCK</strong> / <strong>WS</strong>: Left/right clock or word select clock. For non-PDM mode, its frequency is equal to the sample rate.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Normally, MCLK should be the multiple of <code class="docutils literal notranslate"><span class="pre">sample</span> <span class="pre">rate</span></code> and BCLK at the same time. The field <a class="reference internal" href="#_CPPv4N20i2s_std_clk_config_t13mclk_multipleE" title="i2s_std_clk_config_t::mclk_multiple"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">i2s_std_clk_config_t::mclk_multiple</span></code></a> indicates the multiple of MCLK to the <code class="docutils literal notranslate"><span class="pre">sample</span> <span class="pre">rate</span></code>. In most cases, <code class="docutils literal notranslate"><span class="pre">I2S_MCLK_MULTIPLE_256</span></code> should be enough. However, if <code class="docutils literal notranslate"><span class="pre">slot_bit_width</span></code> is set to <code class="docutils literal notranslate"><span class="pre">I2S_SLOT_BIT_WIDTH_24BIT</span></code>, to keep MCLK a multiple to the BCLK, <a class="reference internal" href="#_CPPv4N20i2s_std_clk_config_t13mclk_multipleE" title="i2s_std_clk_config_t::mclk_multiple"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">i2s_std_clk_config_t::mclk_multiple</span></code></a> should be set to multiples that are divisible by 3 such as <code class="docutils literal notranslate"><span class="pre">I2S_MCLK_MULTIPLE_384</span></code>. Otherwise, WS will be inaccurate.</p>
</div>
</section>
</section>
<section id="i2s-communication-mode">
<span id="id1"></span><h2>I2S Communication Mode<a class="headerlink" href="#i2s-communication-mode" title="Permalink to this heading"></a></h2>
<section id="overview-of-all-modes">
<h3>Overview of All Modes<a class="headerlink" href="#overview-of-all-modes" title="Permalink to this heading"></a></h3>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Target</p></th>
<th class="head"><p>Standard</p></th>
<th class="head"><p>PDM TX</p></th>
<th class="head"><p>PDM RX</p></th>
<th class="head"><p>TDM</p></th>
<th class="head"><p>ADC/DAC</p></th>
<th class="head"><p>LCD/Camera</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>ESP32</p></td>
<td><p>I2S 0/1</p></td>
<td><p>I2S 0</p></td>
<td><p>I2S 0</p></td>
<td><p>none</p></td>
<td><p>I2S 0</p></td>
<td><p>I2S 0</p></td>
</tr>
<tr class="row-odd"><td><p>ESP32-S2</p></td>
<td><p>I2S 0</p></td>
<td><p>none</p></td>
<td><p>none</p></td>
<td><p>none</p></td>
<td><p>none</p></td>
<td><p>I2S 0</p></td>
</tr>
<tr class="row-even"><td><p>ESP32-C3</p></td>
<td><p>I2S 0</p></td>
<td><p>I2S 0</p></td>
<td><p>none</p></td>
<td><p>I2S 0</p></td>
<td><p>none</p></td>
<td><p>none</p></td>
</tr>
<tr class="row-odd"><td><p>ESP32-C6</p></td>
<td><p>I2S 0</p></td>
<td><p>I2S 0</p></td>
<td><p>none</p></td>
<td><p>I2S 0</p></td>
<td><p>none</p></td>
<td><p>none</p></td>
</tr>
<tr class="row-even"><td><p>ESP32-S3</p></td>
<td><p>I2S 0/1</p></td>
<td><p>I2S 0</p></td>
<td><p>I2S 0</p></td>
<td><p>I2S 0/1</p></td>
<td><p>none</p></td>
<td><p>none</p></td>
</tr>
<tr class="row-odd"><td><p>ESP32-H2</p></td>
<td><p>I2S 0</p></td>
<td><p>I2S 0</p></td>
<td><p>none</p></td>
<td><p>I2S 0</p></td>
<td><p>none</p></td>
<td><p>none</p></td>
</tr>
<tr class="row-even"><td><p>ESP32-P4</p></td>
<td><p>I2S 0~2</p></td>
<td><p>I2S 0</p></td>
<td><p>I2S 0</p></td>
<td><p>I2S 0~2</p></td>
<td><p>none</p></td>
<td><p>none</p></td>
</tr>
<tr class="row-odd"><td><p>ESP32-C5</p></td>
<td><p>I2S 0</p></td>
<td><p>I2S 0</p></td>
<td><p>none</p></td>
<td><p>I2S 0</p></td>
<td><p>none</p></td>
<td><p>none</p></td>
</tr>
<tr class="row-even"><td><p>ESP32-C61</p></td>
<td><p>I2S 0</p></td>
<td><p>I2S 0</p></td>
<td><p>none</p></td>
<td><p>I2S 0</p></td>
<td><p>none</p></td>
<td><p>none</p></td>
</tr>
</tbody>
</table>
</section>
<section id="standard-mode">
<h3>Standard Mode<a class="headerlink" href="#standard-mode" title="Permalink to this heading"></a></h3>
<p>In standard mode, there are always two sound channels, i.e., the left and right channels, which are called &quot;slots&quot;. These slots support 8/16/24/32-bit width sample data. The communication format for the slots mainly includes the following:</p>
<ul class="simple">
<li><p><strong>Philips Format</strong>: Data signal has one-bit shift comparing to the WS signal, and the duty of WS signal is 50%.</p></li>
</ul>

<div style="overflow-x:auto">
<script type="WaveDrom">
{
    "head": {
        "text": "Standard Philips Timing Diagram"
    },
    "signal": [
        {
            "node": "...C.....D",
            "phase": 0.65
        },
        {
            "node": "...A...B",
            "phase": 0.65
        },
        {
            "name": "BCLK",
            "wave": "p..dp.dp.dp.dp."
        },
        {
            "name": "WS",
            "wave": "xx0.d0.d1.u1u10.",
            "node": "..P",
            "phase": 0.65
        },
        {
            "name": "DIN / DOUT",
            "wave": "xx.2x|2x|2x|2x|2",
            "data": [
                "MSB",
                "LSB",
                "MSB",
                "LSB",
                "MSB"
            ],
            "node": ".......K.......L",
            "phase": 0.65
        },
        {
            "node": "..ME.....F.....G",
            "phase": 0.65
        }
    ],
    "edge": [
        "C<->D slot_bit_width",
        "A<->B data_bit_width",
        "M<->E bit shift",
        "E<->F Left Slot",
        "F<->G Right Slot",
        "P-M",
        "E-C",
        "K-B",
        "F-D",
        "L-G"
    ]
}

</script>
</div>
<ul class="simple">
<li><p><strong>MSB Format</strong>: Basically the same as Philips format, but without data shift.</p></li>
</ul>

<div style="overflow-x:auto">
<script type="WaveDrom">
{
    "head": {
        "text": "Standard MSB Timing Diagram"
    },
    "signal": [
        {
            "node": "..C.....D",
            "phase": 0.65
        },
        {
            "node": "..A...B",
            "phase": 0.65
        },
        {
            "name": "BCLK",
            "wave": "p..pd.pd.pd.pd"
        },
        {
            "name": "WS",
            "wave": "xx0.d0.d1.u1u10",
            "node": ".H.....I......J",
            "phase": 0.65
        },
        {
            "name": "DIN / DOUT",
            "wave": "xx2x|2x|2x|2x|2",
            "data": [
                "MSB",
                "LSB",
                "MSB",
                "LSB",
                "MSB"
            ],
            "node": "......K",
            "phase": 0.65
        },
        {
            "node": "..E.....F.....G",
            "phase": 0.65
        }
    ],
    "edge": [
        "C<->D slot_bit_width",
        "A<->B data_bit_width",
        "E<->F Left Slot",
        "F<->G Right Slot",
        "E-C",
        "K-B",
        "F-D",
        "J-G"
    ]
}

</script>
</div>
<ul class="simple">
<li><p><strong>PCM Short Format</strong>: Data has one-bit shift and meanwhile the WS signal becomes a pulse lasting for one BCLK cycle.</p></li>
</ul>

<div style="overflow-x:auto">
<script type="WaveDrom">
{
    "head": {
        "text": "Standard PCM Timing Diagram"
    },
    "signal": [
        {
            "node": "...C.....D",
            "phase": 0.65
        },
        {
            "node": "...A...B",
            "phase": 0.65
        },
        {
            "name": "BCLK",
            "wave": "p..dp.dp.dp.dp."
        },
        {
            "name": "WS",
            "wave": "x10d0.d10d0.d10",
            "node": "..P",
            "phase": 0.65
        },
        {
            "name": "DIN / DOUT",
            "wave": "xx.2x|2x|2x|2x|2",
            "data": [
                "MSB",
                "LSB",
                "MSB",
                "LSB",
                "MSB"
            ],
            "node": ".......K.......L",
            "phase": 0.65
        },
        {
            "node": "..ME.....F.....G",
            "phase": 0.65
        }
    ],
    "edge": [
        "C<->D slot_bit_width",
        "A<->B data_bit_width",
        "M<->E bit shift",
        "E<->F Left Slot",
        "F<->G Right Slot",
        "P-M",
        "E-C",
        "K-B",
        "F-D",
        "G-L"
    ]
}

</script>
</div>
</section>
<section id="pdm-mode-tx">
<h3>PDM Mode (TX)<a class="headerlink" href="#pdm-mode-tx" title="Permalink to this heading"></a></h3>
<p>PDM (Pulse-density Modulation) mode for the TX channel can convert PCM data into PDM format which always has left and right slots. PDM TX is only supported on I2S0 and it only supports 16-bit width sample data. It needs at least a CLK pin for clock signal and a DOUT pin for data signal (i.e., the WS and SD signal in the following figure; the BCK signal is an internal bit sampling clock, which is not needed between PDM devices). This mode allows users to configure the up-sampling parameters <a class="reference internal" href="#_CPPv4N23i2s_pdm_tx_clk_config_t12up_sample_fpE" title="i2s_pdm_tx_clk_config_t::up_sample_fp"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">i2s_pdm_tx_clk_config_t::up_sample_fp</span></code></a> and <a class="reference internal" href="#_CPPv4N23i2s_pdm_tx_clk_config_t12up_sample_fsE" title="i2s_pdm_tx_clk_config_t::up_sample_fs"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">i2s_pdm_tx_clk_config_t::up_sample_fs</span></code></a>. The up-sampling rate can be calculated by <code class="docutils literal notranslate"><span class="pre">up_sample_rate</span> <span class="pre">=</span> <span class="pre">i2s_pdm_tx_clk_config_t::up_sample_fp</span> <span class="pre">/</span> <span class="pre">i2s_pdm_tx_clk_config_t::up_sample_fs</span></code>. There are two up-sampling modes in PDM TX:</p>
<ul class="simple">
<li><p><strong>Fixed Clock Frequency</strong>: In this mode, the up-sampling rate changes according to the sample rate. Setting <code class="docutils literal notranslate"><span class="pre">fp</span> <span class="pre">=</span> <span class="pre">960</span></code> and <code class="docutils literal notranslate"><span class="pre">fs</span> <span class="pre">=</span> <span class="pre">sample_rate</span> <span class="pre">/</span> <span class="pre">100</span></code>, then the clock frequency (Fpdm) on CLK pin will be fixed to <code class="docutils literal notranslate"><span class="pre">128</span> <span class="pre">*</span> <span class="pre">48</span> <span class="pre">KHz</span> <span class="pre">=</span> <span class="pre">6.144</span> <span class="pre">MHz</span></code>. Note that this frequency is not equal to the sample rate (Fpcm).</p></li>
<li><p><strong>Fixed Up-sampling Rate</strong>: In this mode, the up-sampling rate is fixed to 2. Setting <code class="docutils literal notranslate"><span class="pre">fp</span> <span class="pre">=</span> <span class="pre">960</span></code> and <code class="docutils literal notranslate"><span class="pre">fs</span> <span class="pre">=</span> <span class="pre">480</span></code>, then the clock frequency (Fpdm) on CLK pin will be <code class="docutils literal notranslate"><span class="pre">128</span> <span class="pre">*</span> <span class="pre">sample_rate</span></code>.</p></li>
</ul>

<div style="overflow-x:auto">
<script type="WaveDrom">
{
    "head": {
        "text": "PDM Timing Diagram"
    },
    "signal": [
        {
            "node": ".A.B.C..D.E.F.G.H."
        },
        {
            "name": "CLK",
            "wave": "10.1.x|.0.1.0.1.x"
        },
        {
            "name": "DIN / DOUT",
            "wave": "x2.2.x|.2.2.2.2.x",
            "data": [
                "LMSB",
                "RMSB",
                "LLSB",
                "RLSB",
                "LMSB",
                "RMSB"
            ],
            "node": "...L.M..O.P...R.S."
        },
        {
            "node": ".I..........J"
        }
    ],
    "edge": [
        "A<->B left",
        "B<->C right",
        "D<->E left",
        "E<->F right",
        "F<->G left",
        "G<->H right",
        "I<->J left slot & right slot",
        "A-I",
        "B-L",
        "C-M",
        "D-O",
        "E-P",
        "F-J",
        "G-R",
        "H-S"
    ]
}

</script>
</div>
</section>
<section id="pdm-mode-rx">
<h3>PDM Mode (RX)<a class="headerlink" href="#pdm-mode-rx" title="Permalink to this heading"></a></h3>
<p>PDM (Pulse-density Modulation) mode for RX channel can receive PDM-format data and convert the data into PCM format. PDM RX is only supported on I2S0, and it only supports 16-bit width sample data. PDM RX needs at least a CLK pin for clock signal and a DIN pin for data signal. This mode allows users to configure the down-sampling parameter <a class="reference internal" href="#_CPPv4N23i2s_pdm_rx_clk_config_t14dn_sample_modeE" title="i2s_pdm_rx_clk_config_t::dn_sample_mode"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">i2s_pdm_rx_clk_config_t::dn_sample_mode</span></code></a>. There are two down-sampling modes in PDM RX:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#_CPPv4N13i2s_pdm_dsr_t14I2S_PDM_DSR_8SE" title="i2s_pdm_dsr_t::I2S_PDM_DSR_8S"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">i2s_pdm_dsr_t::I2S_PDM_DSR_8S</span></code></a>: In this mode, the clock frequency (Fpdm) on the WS pin is <code class="docutils literal notranslate"><span class="pre">sample_rate</span> <span class="pre">(Fpcm)</span> <span class="pre">*</span> <span class="pre">64</span></code>.</p></li>
<li><p><a class="reference internal" href="#_CPPv4N13i2s_pdm_dsr_t15I2S_PDM_DSR_16SE" title="i2s_pdm_dsr_t::I2S_PDM_DSR_16S"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">i2s_pdm_dsr_t::I2S_PDM_DSR_16S</span></code></a>: In this mode, the clock frequency (Fpdm) on the WS pin is <code class="docutils literal notranslate"><span class="pre">sample_rate</span> <span class="pre">(Fpcm)</span> <span class="pre">*</span> <span class="pre">128</span></code>.</p></li>
</ul>
</section>
<section id="lcd-camera-mode">
<h3>LCD/Camera Mode<a class="headerlink" href="#lcd-camera-mode" title="Permalink to this heading"></a></h3>
<p>LCD/Camera mode is only supported on I2S0 over a parallel bus. For LCD mode, I2S0 should work at master TX mode. For camera mode, I2S0 should work at slave RX mode. These two modes are not implemented by the I2S driver. Please refer to <a class="reference internal" href="lcd/i80_lcd.html"><span class="doc">I80 Interfaced LCD</span></a> for details about the LCD implementation. For more information, see <strong>ESP32 Technical Reference Manual</strong> &gt; <strong>I2S Controller (I2S)</strong> &gt; LCD Mode [<a class="reference external" href="https://www.espressif.com/sites/default/files/documentation/esp32_technical_reference_manual_en.pdf#camlcdctrl">PDF</a>].</p>
</section>
<section id="adc-dac-mode">
<h3>ADC/DAC Mode<a class="headerlink" href="#adc-dac-mode" title="Permalink to this heading"></a></h3>
<p>ADC and DAC modes only exist on ESP32 and are only supported on I2S0. Actually, they are two sub-modes of LCD/Camera mode. I2S0 can be routed directly to the internal analog-to-digital converter (ADC) and digital-to-analog converter (DAC). In other words, ADC and DAC peripherals can read or write continuously via I2S0 DMA. As they are not actual communication modes, the I2S driver does not implement them.</p>
</section>
</section>
<section id="functional-overview">
<h2>Functional Overview<a class="headerlink" href="#functional-overview" title="Permalink to this heading"></a></h2>
<p>The I2S driver offers the following services:</p>
<section id="resource-management">
<h3>Resource Management<a class="headerlink" href="#resource-management" title="Permalink to this heading"></a></h3>
<p>There are three levels of resources in the I2S driver:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">platform</span> <span class="pre">level</span></code>: Resources of all I2S controllers in the current target.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">controller</span> <span class="pre">level</span></code>: Resources in one I2S controller.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">channel</span> <span class="pre">level</span></code>: Resources of TX or RX channel in one I2S controller.</p></li>
</ul>
<p>The public APIs are all channel-level APIs. The channel handle <a class="reference internal" href="#_CPPv417i2s_chan_handle_t" title="i2s_chan_handle_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">i2s_chan_handle_t</span></code></a> can help users to manage the resources under a specific channel without considering the other two levels. The other two upper levels' resources are private and are managed by the driver automatically. Users can call <a class="reference internal" href="#_CPPv415i2s_new_channelPK17i2s_chan_config_tP17i2s_chan_handle_tP17i2s_chan_handle_t" title="i2s_new_channel"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">i2s_new_channel()</span></code></a> to allocate a channel handle and call <a class="reference internal" href="#_CPPv415i2s_del_channel17i2s_chan_handle_t" title="i2s_del_channel"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">i2s_del_channel()</span></code></a> to delete it.</p>
</section>
<section id="power-management">
<h3>Power Management<a class="headerlink" href="#power-management" title="Permalink to this heading"></a></h3>
<p>When the power management is enabled (i.e., <a class="reference internal" href="../kconfig.html#config-pm-enable"><span class="std std-ref">CONFIG_PM_ENABLE</span></a> is on), the system will adjust or stop the source clock of I2S before entering Light-sleep, thus potentially changing the I2S signals and leading to transmitting or receiving invalid data.</p>
<p>The I2S driver can prevent the system from changing or stopping the source clock by acquiring a power management lock. When the source clock is generated from APB, the lock type will be set to <a class="reference internal" href="../system/power_management.html#_CPPv4N18esp_pm_lock_type_t19ESP_PM_APB_FREQ_MAXE" title="esp_pm_lock_type_t::ESP_PM_APB_FREQ_MAX"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">esp_pm_lock_type_t::ESP_PM_APB_FREQ_MAX</span></code></a> and when the source clock is APLL (if supported), it will be set to <a class="reference internal" href="../system/power_management.html#_CPPv4N18esp_pm_lock_type_t21ESP_PM_NO_LIGHT_SLEEPE" title="esp_pm_lock_type_t::ESP_PM_NO_LIGHT_SLEEP"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">esp_pm_lock_type_t::ESP_PM_NO_LIGHT_SLEEP</span></code></a>. Whenever the user is reading or writing via I2S (i.e., calling <a class="reference internal" href="#_CPPv416i2s_channel_read17i2s_chan_handle_tPv6size_tP6size_t8uint32_t" title="i2s_channel_read"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">i2s_channel_read()</span></code></a> or <a class="reference internal" href="#_CPPv417i2s_channel_write17i2s_chan_handle_tPKv6size_tP6size_t8uint32_t" title="i2s_channel_write"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">i2s_channel_write()</span></code></a>), the driver guarantees that the power management lock is acquired. Likewise, the driver releases the lock after the reading or writing finishes.</p>
</section>
<section id="finite-state-machine">
<h3>Finite State Machine<a class="headerlink" href="#finite-state-machine" title="Permalink to this heading"></a></h3>
<p>There are three states for an I2S channel, namely, <code class="docutils literal notranslate"><span class="pre">registered</span></code>, <code class="docutils literal notranslate"><span class="pre">ready</span></code>, and <code class="docutils literal notranslate"><span class="pre">running</span></code>. Their relationship is shown in the following diagram:</p>
<figure class="align-center" id="id17">
<img alt="I2S Finite State Machine" src="../../_images/i2s_state_machine.png" />
<figcaption>
<p><span class="caption-text">I2S Finite State Machine</span><a class="headerlink" href="#id17" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>The <code class="docutils literal notranslate"><span class="pre">&lt;mode&gt;</span></code> in the diagram can be replaced by corresponding I2S communication modes, e.g., <code class="docutils literal notranslate"><span class="pre">std</span></code> for standard two-slot mode. For more information about communication modes, please refer to the <a class="reference internal" href="#i2s-communication-mode"><span class="std std-ref">I2S Communication Mode</span></a> section.</p>
</section>
<section id="data-transport">
<h3>Data Transport<a class="headerlink" href="#data-transport" title="Permalink to this heading"></a></h3>
<p>The data transport of the I2S peripheral, including sending and receiving, is realized by DMA. Before transporting data, please call <a class="reference internal" href="#_CPPv418i2s_channel_enable17i2s_chan_handle_t" title="i2s_channel_enable"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">i2s_channel_enable()</span></code></a> to enable the specific channel. When the sent or received data reaches the size of one DMA buffer, the <code class="docutils literal notranslate"><span class="pre">I2S_OUT_EOF</span></code> or <code class="docutils literal notranslate"><span class="pre">I2S_IN_SUC_EOF</span></code> interrupt will be triggered. Note that the DMA buffer size is not equal to <a class="reference internal" href="#_CPPv4N17i2s_chan_config_t13dma_frame_numE" title="i2s_chan_config_t::dma_frame_num"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">i2s_chan_config_t::dma_frame_num</span></code></a>. One frame here refers to all the sampled data in one WS circle. Therefore, <code class="docutils literal notranslate"><span class="pre">dma_buffer_size</span> <span class="pre">=</span> <span class="pre">dma_frame_num</span> <span class="pre">*</span> <span class="pre">slot_num</span> <span class="pre">*</span> <span class="pre">slot_bit_width</span> <span class="pre">/</span> <span class="pre">8</span></code>. For the data transmitting, users can input the data by calling <a class="reference internal" href="#_CPPv417i2s_channel_write17i2s_chan_handle_tPKv6size_tP6size_t8uint32_t" title="i2s_channel_write"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">i2s_channel_write()</span></code></a>. This function helps users to copy the data from the source buffer to the DMA TX buffer and wait for the transmission to finish. Then it will repeat until the sent bytes reach the given size. For the data receiving, the function <a class="reference internal" href="#_CPPv416i2s_channel_read17i2s_chan_handle_tPv6size_tP6size_t8uint32_t" title="i2s_channel_read"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">i2s_channel_read()</span></code></a> waits to receive the message queue which contains the DMA buffer address. It helps users copy the data from the DMA RX buffer to the destination buffer.</p>
<p>Both <a class="reference internal" href="#_CPPv417i2s_channel_write17i2s_chan_handle_tPKv6size_tP6size_t8uint32_t" title="i2s_channel_write"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">i2s_channel_write()</span></code></a> and <a class="reference internal" href="#_CPPv416i2s_channel_read17i2s_chan_handle_tPv6size_tP6size_t8uint32_t" title="i2s_channel_read"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">i2s_channel_read()</span></code></a> are blocking functions. They keeps waiting until the whole source buffer is sent or the whole destination buffer is loaded, unless they exceed the max blocking time, where the error code <code class="docutils literal notranslate"><span class="pre">ESP_ERR_TIMEOUT</span></code> returns. To send or receive data asynchronously, callbacks can be registered by  <a class="reference internal" href="#_CPPv435i2s_channel_register_event_callback17i2s_chan_handle_tPK21i2s_event_callbacks_tPv" title="i2s_channel_register_event_callback"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">i2s_channel_register_event_callback()</span></code></a>. Users are able to access the DMA buffer directly in the callback function instead of transmitting or receiving by the two blocking functions. However, please be aware that it is an interrupt callback, so do not add complex logic, run floating operation, or call non-reentrant functions in the callback.</p>
</section>
<section id="configuration">
<h3>Configuration<a class="headerlink" href="#configuration" title="Permalink to this heading"></a></h3>
<p>Users can initialize a channel by calling corresponding functions (i.e., <code class="xref py py-func docutils literal notranslate"><span class="pre">i2s_channel_init_std_mode()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">i2s_channel_init_pdm_rx_mode()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">i2s_channel_init_pdm_tx_mode()</span></code>, or <code class="xref py py-func docutils literal notranslate"><span class="pre">i2s_channel_init_tdm_mode()</span></code>) to a specific mode. If the configurations need to be updated after initialization, users have to first call <a class="reference internal" href="#_CPPv419i2s_channel_disable17i2s_chan_handle_t" title="i2s_channel_disable"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">i2s_channel_disable()</span></code></a> to ensure that the channel has stopped, and then call corresponding <code class="docutils literal notranslate"><span class="pre">reconfig</span></code> functions, like <a class="reference internal" href="#_CPPv429i2s_channel_reconfig_std_slot17i2s_chan_handle_tPK21i2s_std_slot_config_t" title="i2s_channel_reconfig_std_slot"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">i2s_channel_reconfig_std_slot()</span></code></a>, <a class="reference internal" href="#_CPPv430i2s_channel_reconfig_std_clock17i2s_chan_handle_tPK20i2s_std_clk_config_t" title="i2s_channel_reconfig_std_clock"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">i2s_channel_reconfig_std_clock()</span></code></a>, and <a class="reference internal" href="#_CPPv429i2s_channel_reconfig_std_gpio17i2s_chan_handle_tPK21i2s_std_gpio_config_t" title="i2s_channel_reconfig_std_gpio"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">i2s_channel_reconfig_std_gpio()</span></code></a>.</p>
</section>
<section id="iram-safe">
<h3>IRAM Safe<a class="headerlink" href="#iram-safe" title="Permalink to this heading"></a></h3>
<p>By default, the I2S interrupt will be deferred when the cache is disabled for reasons like writing/erasing flash. Thus the EOF interrupt will not get executed in time.</p>
<p>To avoid such case in real-time applications, you can enable the Kconfig option <a class="reference internal" href="../kconfig.html#config-i2s-isr-iram-safe"><span class="std std-ref">CONFIG_I2S_ISR_IRAM_SAFE</span></a> that:</p>
<ol class="arabic simple">
<li><p>Keeps the interrupt being serviced even when the cache is disabled.</p></li>
<li><p>Places driver object into DRAM (in case it is linked to PSRAM by accident).</p></li>
</ol>
<p>This allows the interrupt to run while the cache is disabled, but comes at the cost of increased IRAM consumption.</p>
</section>
<section id="thread-safety">
<h3>Thread Safety<a class="headerlink" href="#thread-safety" title="Permalink to this heading"></a></h3>
<p>All the public I2S APIs are guaranteed to be thread safe by the driver, which means users can call them from different RTOS tasks without protection by extra locks. Notice that the I2S driver uses mutex lock to ensure the thread safety, thus these APIs are not allowed to be used in ISR.</p>
</section>
<section id="kconfig-options">
<h3>Kconfig Options<a class="headerlink" href="#kconfig-options" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p><a class="reference internal" href="../kconfig.html#config-i2s-isr-iram-safe"><span class="std std-ref">CONFIG_I2S_ISR_IRAM_SAFE</span></a> controls whether the default ISR handler can work when the cache is disabled. See <a class="reference external" href="#iram-safe">IRAM Safe</a> for more information.</p></li>
<li><p><a class="reference internal" href="../kconfig.html#config-i2s-suppress-deprecate-warn"><span class="std std-ref">CONFIG_I2S_SUPPRESS_DEPRECATE_WARN</span></a> controls whether to suppress the compiling warning message while using the legacy I2S driver.</p></li>
<li><p><a class="reference internal" href="../kconfig.html#config-i2s-enable-debug-log"><span class="std std-ref">CONFIG_I2S_ENABLE_DEBUG_LOG</span></a> is used to enable the debug log output. Enable this option increases the firmware binary size.</p></li>
</ul>
</section>
</section>
<section id="application-example">
<h2>Application Example<a class="headerlink" href="#application-example" title="Permalink to this heading"></a></h2>
<p>The examples of the I2S driver can be found in the directory <a class="reference external" href="https://github.com/espressif/esp-idf/tree/v5.4.2/examples/peripherals/i2s">peripherals/i2s</a>. Here are some simple usages of each mode:</p>
<section id="standard-tx-rx-usage">
<h3>Standard TX/RX Usage<a class="headerlink" href="#standard-tx-rx-usage" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/espressif/esp-idf/tree/v5.4.2/examples/peripherals/i2s/i2s_codec/i2s_es8311">peripherals/i2s/i2s_codec/i2s_es8311</a> demonstrates how to use the I2S ES8311 audio codec with ESP32 to play music or echo sounds, featuring high performance and low power multi-bit delta-sigma audio ADC and DAC, with options to customize music and adjust mic gain and volume.</p></li>
<li><p><a class="reference external" href="https://github.com/espressif/esp-idf/tree/v5.4.2/examples/peripherals/i2s/i2s_basic/i2s_std">peripherals/i2s/i2s_basic/i2s_std</a> demonstrates how to use the I2S standard mode in either simplex or full-duplex mode on ESP32.</p></li>
</ul>
<p>Different slot communication formats can be generated by the following helper macros for standard mode. As described above, there are three formats in standard mode, and their helper macros are:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#c.I2S_STD_PHILIPS_SLOT_DEFAULT_CONFIG" title="I2S_STD_PHILIPS_SLOT_DEFAULT_CONFIG"><code class="xref c c-macro docutils literal notranslate"><span class="pre">I2S_STD_PHILIPS_SLOT_DEFAULT_CONFIG</span></code></a></p></li>
<li><p><a class="reference internal" href="#c.I2S_STD_PCM_SLOT_DEFAULT_CONFIG" title="I2S_STD_PCM_SLOT_DEFAULT_CONFIG"><code class="xref c c-macro docutils literal notranslate"><span class="pre">I2S_STD_PCM_SLOT_DEFAULT_CONFIG</span></code></a></p></li>
<li><p><a class="reference internal" href="#c.I2S_STD_MSB_SLOT_DEFAULT_CONFIG" title="I2S_STD_MSB_SLOT_DEFAULT_CONFIG"><code class="xref c c-macro docutils literal notranslate"><span class="pre">I2S_STD_MSB_SLOT_DEFAULT_CONFIG</span></code></a></p></li>
</ul>
<p>The clock config helper macro is:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#c.I2S_STD_CLK_DEFAULT_CONFIG" title="I2S_STD_CLK_DEFAULT_CONFIG"><code class="xref c c-macro docutils literal notranslate"><span class="pre">I2S_STD_CLK_DEFAULT_CONFIG</span></code></a></p></li>
</ul>
<p>Please refer to <a class="reference internal" href="#i2s-api-reference-i2s-std"><span class="std std-ref">Standard Mode</span></a> for  information about STD API. And for more details, please refer to <a class="reference external" href="https://github.com/espressif/esp-idf/blob/v5.4.2/components/esp_driver_i2s/include/driver/i2s_std.h">esp_driver_i2s/include/driver/i2s_std.h</a>.</p>
<section id="std-tx-mode">
<h4>STD TX Mode<a class="headerlink" href="#std-tx-mode" title="Permalink to this heading"></a></h4>
<p>Take 16-bit data width for example. When the data in a <code class="docutils literal notranslate"><span class="pre">uint16_t</span></code> writing buffer are:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>data 0</p></th>
<th class="head"><p>data 1</p></th>
<th class="head"><p>data 2</p></th>
<th class="head"><p>data 3</p></th>
<th class="head"><p>data 4</p></th>
<th class="head"><p>data 5</p></th>
<th class="head"><p>data 6</p></th>
<th class="head"><p>data 7</p></th>
<th class="head"><p>...</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0x0001</p></td>
<td><p>0x0002</p></td>
<td><p>0x0003</p></td>
<td><p>0x0004</p></td>
<td><p>0x0005</p></td>
<td><p>0x0006</p></td>
<td><p>0x0007</p></td>
<td><p>0x0008</p></td>
<td><p>...</p></td>
</tr>
</tbody>
</table>
<p>Here is the table of the real data on the line with different <a class="reference internal" href="#_CPPv4N21i2s_std_slot_config_t9slot_modeE" title="i2s_std_slot_config_t::slot_mode"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">i2s_std_slot_config_t::slot_mode</span></code></a> and <a class="reference internal" href="#_CPPv4N21i2s_std_slot_config_t9slot_maskE" title="i2s_std_slot_config_t::slot_mask"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">i2s_std_slot_config_t::slot_mask</span></code></a>.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>data bit width</p></th>
<th class="head"><p>slot mode</p></th>
<th class="head"><p>slot mask</p></th>
<th class="head"><p>WS low</p></th>
<th class="head"><p>WS high</p></th>
<th class="head"><p>WS low</p></th>
<th class="head"><p>WS high</p></th>
<th class="head"><p>WS low</p></th>
<th class="head"><p>WS high</p></th>
<th class="head"><p>WS low</p></th>
<th class="head"><p>WS high</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td rowspan="6"><p>16 bit</p></td>
<td rowspan="3"><p>mono</p></td>
<td><p>left</p></td>
<td><p>0x0002</p></td>
<td><p>0x0000</p></td>
<td><p>0x0001</p></td>
<td><p>0x0000</p></td>
<td><p>0x0004</p></td>
<td><p>0x0000</p></td>
<td><p>0x0003</p></td>
<td><p>0x0000</p></td>
</tr>
<tr class="row-odd"><td><p>right</p></td>
<td><p>0x0000</p></td>
<td><p>0x0002</p></td>
<td><p>0x0000</p></td>
<td><p>0x0001</p></td>
<td><p>0x0000</p></td>
<td><p>0x0004</p></td>
<td><p>0x0000</p></td>
<td><p>0x0003</p></td>
</tr>
<tr class="row-even"><td><p>both</p></td>
<td><p>0x0002</p></td>
<td><p>0x0002</p></td>
<td><p>0x0001</p></td>
<td><p>0x0001</p></td>
<td><p>0x0004</p></td>
<td><p>0x0004</p></td>
<td><p>0x0003</p></td>
<td><p>0x0003</p></td>
</tr>
<tr class="row-odd"><td rowspan="3"><p>stereo</p></td>
<td><p>left</p></td>
<td><p>0x0001</p></td>
<td><p>0x0001</p></td>
<td><p>0x0003</p></td>
<td><p>0x0003</p></td>
<td><p>0x0005</p></td>
<td><p>0x0005</p></td>
<td><p>0x0007</p></td>
<td><p>0x0007</p></td>
</tr>
<tr class="row-even"><td><p>right</p></td>
<td><p>0x0002</p></td>
<td><p>0x0002</p></td>
<td><p>0x0004</p></td>
<td><p>0x0004</p></td>
<td><p>0x0006</p></td>
<td><p>0x0006</p></td>
<td><p>0x0008</p></td>
<td><p>0x0008</p></td>
</tr>
<tr class="row-odd"><td><p>both</p></td>
<td><p>0x0001</p></td>
<td><p>0x0002</p></td>
<td><p>0x0003</p></td>
<td><p>0x0004</p></td>
<td><p>0x0005</p></td>
<td><p>0x0006</p></td>
<td><p>0x0007</p></td>
<td><p>0x0008</p></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It is similar when the data is 32-bit width, but take care when using 8-bit and 24-bit data width. For 8-bit width, the written buffer should still use <code class="docutils literal notranslate"><span class="pre">uint16_t</span></code> (i.e., align with 2 bytes), and only the high 8 bits are valid while the low 8 bits are dropped. For 24-bit width, the buffer is supposed to use <code class="docutils literal notranslate"><span class="pre">uint32_t</span></code> (i.e., align with 4 bytes), and only the high 24 bits are valid while the low 8 bits are dropped.</p>
<p>Besides, for 8-bit and 16-bit mono modes, the real data on the line is swapped. To get the correct data sequence, the writing buffer needs to swap the data every two bytes.</p>
</div>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;driver/i2s_std.h&quot;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;driver/gpio.h&quot;</span>

<span class="n">i2s_chan_handle_t</span><span class="w"> </span><span class="n">tx_handle</span><span class="p">;</span>
<span class="cm">/* Get the default channel configuration by the helper macro.</span>
<span class="cm"> * This helper macro is defined in `i2s_common.h` and shared by all the I2S communication modes.</span>
<span class="cm"> * It can help to specify the I2S role and port ID */</span>
<span class="n">i2s_chan_config_t</span><span class="w"> </span><span class="n">chan_cfg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">I2S_CHANNEL_DEFAULT_CONFIG</span><span class="p">(</span><span class="n">I2S_NUM_AUTO</span><span class="p">,</span><span class="w"> </span><span class="n">I2S_ROLE_MASTER</span><span class="p">);</span>
<span class="cm">/* Allocate a new TX channel and get the handle of this channel */</span>
<span class="n">i2s_new_channel</span><span class="p">(</span><span class="o">&amp;</span><span class="n">chan_cfg</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">tx_handle</span><span class="p">,</span><span class="w"> </span><span class="nb">NULL</span><span class="p">);</span>

<span class="cm">/* Setting the configurations, the slot configuration and clock configuration can be generated by the macros</span>
<span class="cm"> * These two helper macros are defined in `i2s_std.h` which can only be used in STD mode.</span>
<span class="cm"> * They can help to specify the slot and clock configurations for initialization or updating */</span>
<span class="n">i2s_std_config_t</span><span class="w"> </span><span class="n">std_cfg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="p">.</span><span class="n">clk_cfg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">I2S_STD_CLK_DEFAULT_CONFIG</span><span class="p">(</span><span class="mi">48000</span><span class="p">),</span>
<span class="w">    </span><span class="p">.</span><span class="n">slot_cfg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">I2S_STD_MSB_SLOT_DEFAULT_CONFIG</span><span class="p">(</span><span class="n">I2S_DATA_BIT_WIDTH_32BIT</span><span class="p">,</span><span class="w"> </span><span class="n">I2S_SLOT_MODE_STEREO</span><span class="p">),</span>
<span class="w">    </span><span class="p">.</span><span class="n">gpio_cfg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="p">.</span><span class="n">mclk</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">I2S_GPIO_UNUSED</span><span class="p">,</span>
<span class="w">        </span><span class="p">.</span><span class="n">bclk</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GPIO_NUM_4</span><span class="p">,</span>
<span class="w">        </span><span class="p">.</span><span class="n">ws</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GPIO_NUM_5</span><span class="p">,</span>
<span class="w">        </span><span class="p">.</span><span class="n">dout</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GPIO_NUM_18</span><span class="p">,</span>
<span class="w">        </span><span class="p">.</span><span class="n">din</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">I2S_GPIO_UNUSED</span><span class="p">,</span>
<span class="w">        </span><span class="p">.</span><span class="n">invert_flags</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="p">.</span><span class="n">mclk_inv</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">,</span>
<span class="w">            </span><span class="p">.</span><span class="n">bclk_inv</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">,</span>
<span class="w">            </span><span class="p">.</span><span class="n">ws_inv</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">,</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">    </span><span class="p">},</span>
<span class="p">};</span>
<span class="cm">/* Initialize the channel */</span>
<span class="n">i2s_channel_init_std_mode</span><span class="p">(</span><span class="n">tx_handle</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">std_cfg</span><span class="p">);</span>

<span class="cm">/* Before writing data, start the TX channel first */</span>
<span class="n">i2s_channel_enable</span><span class="p">(</span><span class="n">tx_handle</span><span class="p">);</span>
<span class="n">i2s_channel_write</span><span class="p">(</span><span class="n">tx_handle</span><span class="p">,</span><span class="w"> </span><span class="n">src_buf</span><span class="p">,</span><span class="w"> </span><span class="n">bytes_to_write</span><span class="p">,</span><span class="w"> </span><span class="n">bytes_written</span><span class="p">,</span><span class="w"> </span><span class="n">ticks_to_wait</span><span class="p">);</span>

<span class="cm">/* If the configurations of slot or clock need to be updated,</span>
<span class="cm"> * stop the channel first and then update it */</span>
<span class="c1">// i2s_channel_disable(tx_handle);</span>
<span class="c1">// std_cfg.slot_cfg.slot_mode = I2S_SLOT_MODE_MONO; // Default is stereo</span>
<span class="c1">// i2s_channel_reconfig_std_slot(tx_handle, &amp;std_cfg.slot_cfg);</span>
<span class="c1">// std_cfg.clk_cfg.sample_rate_hz = 96000;</span>
<span class="c1">// i2s_channel_reconfig_std_clock(tx_handle, &amp;std_cfg.clk_cfg);</span>

<span class="cm">/* Have to stop the channel before deleting it */</span>
<span class="n">i2s_channel_disable</span><span class="p">(</span><span class="n">tx_handle</span><span class="p">);</span>
<span class="cm">/* If the handle is not needed any more, delete it to release the channel resources */</span>
<span class="n">i2s_del_channel</span><span class="p">(</span><span class="n">tx_handle</span><span class="p">);</span>
</pre></div>
</div>
</section>
<section id="std-rx-mode">
<h4>STD RX Mode<a class="headerlink" href="#std-rx-mode" title="Permalink to this heading"></a></h4>
<p>Taking 16-bit data width for example, when the data on the line are:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>WS low</p></th>
<th class="head"><p>WS high</p></th>
<th class="head"><p>WS low</p></th>
<th class="head"><p>WS high</p></th>
<th class="head"><p>WS low</p></th>
<th class="head"><p>WS high</p></th>
<th class="head"><p>WS low</p></th>
<th class="head"><p>WS high</p></th>
<th class="head"><p>...</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0x0001</p></td>
<td><p>0x0002</p></td>
<td><p>0x0003</p></td>
<td><p>0x0004</p></td>
<td><p>0x0005</p></td>
<td><p>0x0006</p></td>
<td><p>0x0007</p></td>
<td><p>0x0008</p></td>
<td><p>...</p></td>
</tr>
</tbody>
</table>
<p>Here is the table of the data received in the buffer with different <a class="reference internal" href="#_CPPv4N21i2s_std_slot_config_t9slot_modeE" title="i2s_std_slot_config_t::slot_mode"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">i2s_std_slot_config_t::slot_mode</span></code></a> and <a class="reference internal" href="#_CPPv4N21i2s_std_slot_config_t9slot_maskE" title="i2s_std_slot_config_t::slot_mask"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">i2s_std_slot_config_t::slot_mask</span></code></a>.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>data bit width</p></th>
<th class="head"><p>slot mode</p></th>
<th class="head"><p>slot mask</p></th>
<th class="head"><p>data 0</p></th>
<th class="head"><p>data 1</p></th>
<th class="head"><p>data 2</p></th>
<th class="head"><p>data 3</p></th>
<th class="head"><p>data 4</p></th>
<th class="head"><p>data 5</p></th>
<th class="head"><p>data 6</p></th>
<th class="head"><p>data 7</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td rowspan="3"><p>16 bit</p></td>
<td rowspan="2"><p>mono</p></td>
<td><p>left</p></td>
<td><p>0x0001</p></td>
<td><p>0x0000</p></td>
<td><p>0x0005</p></td>
<td><p>0x0003</p></td>
<td><p>0x0009</p></td>
<td><p>0x0007</p></td>
<td><p>0x000d</p></td>
<td><p>0x000b</p></td>
</tr>
<tr class="row-odd"><td><p>right</p></td>
<td><p>0x0002</p></td>
<td><p>0x0000</p></td>
<td><p>0x0006</p></td>
<td><p>0x0004</p></td>
<td><p>0x000a</p></td>
<td><p>0x0008</p></td>
<td><p>0x000e</p></td>
<td><p>0x000c</p></td>
</tr>
<tr class="row-even"><td><p>stereo</p></td>
<td><p>any</p></td>
<td><p>0x0001</p></td>
<td><p>0x0002</p></td>
<td><p>0x0003</p></td>
<td><p>0x0004</p></td>
<td><p>0x0005</p></td>
<td><p>0x0006</p></td>
<td><p>0x0007</p></td>
<td><p>0x0008</p></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The receive case is a little bit complicated on ESP32. Firstly, when the data width is 8-bit or 24-bit, the received data will still align with two bytes or four bytes, which means that the valid data are put in the high 8 bits in every two bytes and high 24 bits in every four bytes. For example, the received data will be <code class="docutils literal notranslate"><span class="pre">0x5A00</span></code> when the data on the line is <code class="docutils literal notranslate"><span class="pre">0x5A</span></code> in 8-bit width, and <code class="docutils literal notranslate"><span class="pre">0x0000</span> <span class="pre">5A00</span></code> if the data on the line is <code class="docutils literal notranslate"><span class="pre">0x00</span> <span class="pre">005A</span></code>. Secondly, for the 8-bit or 16-bit mono case, the data in buffer is swapped every two data, so it may be necessary to manually swap the data back to the correct order.</p>
</div>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;driver/i2s_std.h&quot;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;driver/gpio.h&quot;</span>

<span class="n">i2s_chan_handle_t</span><span class="w"> </span><span class="n">rx_handle</span><span class="p">;</span>
<span class="cm">/* Get the default channel configuration by helper macro.</span>
<span class="cm"> * This helper macro is defined in `i2s_common.h` and shared by all the I2S communication modes.</span>
<span class="cm"> * It can help to specify the I2S role and port ID */</span>
<span class="n">i2s_chan_config_t</span><span class="w"> </span><span class="n">chan_cfg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">I2S_CHANNEL_DEFAULT_CONFIG</span><span class="p">(</span><span class="n">I2S_NUM_AUTO</span><span class="p">,</span><span class="w"> </span><span class="n">I2S_ROLE_MASTER</span><span class="p">);</span>
<span class="cm">/* Allocate a new RX channel and get the handle of this channel */</span>
<span class="n">i2s_new_channel</span><span class="p">(</span><span class="o">&amp;</span><span class="n">chan_cfg</span><span class="p">,</span><span class="w"> </span><span class="nb">NULL</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">rx_handle</span><span class="p">);</span>

<span class="cm">/* Setting the configurations, the slot configuration and clock configuration can be generated by the macros</span>
<span class="cm"> * These two helper macros are defined in `i2s_std.h` which can only be used in STD mode.</span>
<span class="cm"> * They can help to specify the slot and clock configurations for initialization or updating */</span>
<span class="n">i2s_std_config_t</span><span class="w"> </span><span class="n">std_cfg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="p">.</span><span class="n">clk_cfg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">I2S_STD_CLK_DEFAULT_CONFIG</span><span class="p">(</span><span class="mi">48000</span><span class="p">),</span>
<span class="w">    </span><span class="p">.</span><span class="n">slot_cfg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">I2S_STD_MSB_SLOT_DEFAULT_CONFIG</span><span class="p">(</span><span class="n">I2S_DATA_BIT_WIDTH_32BIT</span><span class="p">,</span><span class="w"> </span><span class="n">I2S_SLOT_MODE_STEREO</span><span class="p">),</span>
<span class="w">    </span><span class="p">.</span><span class="n">gpio_cfg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="p">.</span><span class="n">mclk</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">I2S_GPIO_UNUSED</span><span class="p">,</span>
<span class="w">        </span><span class="p">.</span><span class="n">bclk</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GPIO_NUM_4</span><span class="p">,</span>
<span class="w">        </span><span class="p">.</span><span class="n">ws</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GPIO_NUM_5</span><span class="p">,</span>
<span class="w">        </span><span class="p">.</span><span class="n">dout</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">I2S_GPIO_UNUSED</span><span class="p">,</span>
<span class="w">        </span><span class="p">.</span><span class="n">din</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GPIO_NUM_19</span><span class="p">,</span>
<span class="w">        </span><span class="p">.</span><span class="n">invert_flags</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="p">.</span><span class="n">mclk_inv</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">,</span>
<span class="w">            </span><span class="p">.</span><span class="n">bclk_inv</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">,</span>
<span class="w">            </span><span class="p">.</span><span class="n">ws_inv</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">,</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">    </span><span class="p">},</span>
<span class="p">};</span>
<span class="cm">/* Initialize the channel */</span>
<span class="n">i2s_channel_init_std_mode</span><span class="p">(</span><span class="n">rx_handle</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">std_cfg</span><span class="p">);</span>

<span class="cm">/* Before reading data, start the RX channel first */</span>
<span class="n">i2s_channel_enable</span><span class="p">(</span><span class="n">rx_handle</span><span class="p">);</span>
<span class="n">i2s_channel_read</span><span class="p">(</span><span class="n">rx_handle</span><span class="p">,</span><span class="w"> </span><span class="n">desc_buf</span><span class="p">,</span><span class="w"> </span><span class="n">bytes_to_read</span><span class="p">,</span><span class="w"> </span><span class="n">bytes_read</span><span class="p">,</span><span class="w"> </span><span class="n">ticks_to_wait</span><span class="p">);</span>

<span class="cm">/* Have to stop the channel before deleting it */</span>
<span class="n">i2s_channel_disable</span><span class="p">(</span><span class="n">rx_handle</span><span class="p">);</span>
<span class="cm">/* If the handle is not needed any more, delete it to release the channel resources */</span>
<span class="n">i2s_del_channel</span><span class="p">(</span><span class="n">rx_handle</span><span class="p">);</span>
</pre></div>
</div>
</section>
</section>
<section id="pdm-tx-usage">
<h3>PDM TX Usage<a class="headerlink" href="#pdm-tx-usage" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/espressif/esp-idf/tree/v5.4.2/examples/peripherals/i2s/i2s_basic/i2s_pdm">peripherals/i2s/i2s_basic/i2s_pdm</a> demonstrates how to use the PDM TX mode on ESP32, including the necessary hardware setup and configuration.</p></li>
</ul>
<p>For PDM mode in TX channel, the slot configuration helper macro is:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#c.I2S_PDM_TX_SLOT_DEFAULT_CONFIG" title="I2S_PDM_TX_SLOT_DEFAULT_CONFIG"><code class="xref c c-macro docutils literal notranslate"><span class="pre">I2S_PDM_TX_SLOT_DEFAULT_CONFIG</span></code></a></p></li>
</ul>
<p>The clock configuration helper macro is:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#c.I2S_PDM_TX_CLK_DEFAULT_CONFIG" title="I2S_PDM_TX_CLK_DEFAULT_CONFIG"><code class="xref c c-macro docutils literal notranslate"><span class="pre">I2S_PDM_TX_CLK_DEFAULT_CONFIG</span></code></a></p></li>
</ul>
<p>Please refer to <a class="reference internal" href="#i2s-api-reference-i2s-pdm"><span class="std std-ref">PDM Mode</span></a> for information about PDM TX API. And for more details, please refer to <a class="reference external" href="https://github.com/espressif/esp-idf/blob/v5.4.2/components/esp_driver_i2s/include/driver/i2s_pdm.h">esp_driver_i2s/include/driver/i2s_pdm.h</a>.</p>
<p>The PDM data width is fixed to 16-bit. When the data in an <code class="docutils literal notranslate"><span class="pre">int16_t</span></code> writing buffer is:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>data 0</p></th>
<th class="head"><p>data 1</p></th>
<th class="head"><p>data 2</p></th>
<th class="head"><p>data 3</p></th>
<th class="head"><p>data 4</p></th>
<th class="head"><p>data 5</p></th>
<th class="head"><p>data 6</p></th>
<th class="head"><p>data 7</p></th>
<th class="head"><p>...</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0x0001</p></td>
<td><p>0x0002</p></td>
<td><p>0x0003</p></td>
<td><p>0x0004</p></td>
<td><p>0x0005</p></td>
<td><p>0x0006</p></td>
<td><p>0x0007</p></td>
<td><p>0x0008</p></td>
<td><p>...</p></td>
</tr>
</tbody>
</table>
<p>Here is the table of the real data on the line with different <a class="reference internal" href="#_CPPv4N24i2s_pdm_tx_slot_config_t9slot_modeE" title="i2s_pdm_tx_slot_config_t::slot_mode"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">i2s_pdm_tx_slot_config_t::slot_mode</span></code></a> and <a class="reference internal" href="#_CPPv4N24i2s_pdm_tx_slot_config_t9slot_maskE" title="i2s_pdm_tx_slot_config_t::slot_mask"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">i2s_pdm_tx_slot_config_t::slot_mask</span></code></a> (The PDM format on the line is transferred to PCM format for better comprehension).</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>slot mode</p></th>
<th class="head"><p>slot mask</p></th>
<th class="head"><p>left</p></th>
<th class="head"><p>right</p></th>
<th class="head"><p>left</p></th>
<th class="head"><p>right</p></th>
<th class="head"><p>left</p></th>
<th class="head"><p>right</p></th>
<th class="head"><p>left</p></th>
<th class="head"><p>right</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td rowspan="3"><p>mono</p></td>
<td><p>left</p></td>
<td><p>0x0001</p></td>
<td><p>0x0000</p></td>
<td><p>0x0002</p></td>
<td><p>0x0000</p></td>
<td><p>0x0003</p></td>
<td><p>0x0000</p></td>
<td><p>0x0004</p></td>
<td><p>0x0000</p></td>
</tr>
<tr class="row-odd"><td><p>right</p></td>
<td><p>0x0000</p></td>
<td><p>0x0001</p></td>
<td><p>0x0000</p></td>
<td><p>0x0002</p></td>
<td><p>0x0000</p></td>
<td><p>0x0003</p></td>
<td><p>0x0000</p></td>
<td><p>0x0004</p></td>
</tr>
<tr class="row-even"><td><p>both</p></td>
<td><p>0x0001</p></td>
<td><p>0x0001</p></td>
<td><p>0x0002</p></td>
<td><p>0x0002</p></td>
<td><p>0x0003</p></td>
<td><p>0x0003</p></td>
<td><p>0x0004</p></td>
<td><p>0x0004</p></td>
</tr>
<tr class="row-odd"><td rowspan="3"><p>stereo</p></td>
<td><p>left</p></td>
<td><p>0x0001</p></td>
<td><p>0x0001</p></td>
<td><p>0x0003</p></td>
<td><p>0x0003</p></td>
<td><p>0x0005</p></td>
<td><p>0x0005</p></td>
<td><p>0x0007</p></td>
<td><p>0x0007</p></td>
</tr>
<tr class="row-even"><td><p>right</p></td>
<td><p>0x0002</p></td>
<td><p>0x0002</p></td>
<td><p>0x0004</p></td>
<td><p>0x0004</p></td>
<td><p>0x0006</p></td>
<td><p>0x0006</p></td>
<td><p>0x0008</p></td>
<td><p>0x0008</p></td>
</tr>
<tr class="row-odd"><td><p>both</p></td>
<td><p>0x0001</p></td>
<td><p>0x0002</p></td>
<td><p>0x0003</p></td>
<td><p>0x0004</p></td>
<td><p>0x0005</p></td>
<td><p>0x0006</p></td>
<td><p>0x0007</p></td>
<td><p>0x0008</p></td>
</tr>
</tbody>
</table>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;driver/i2s_pdm.h&quot;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;driver/gpio.h&quot;</span>

<span class="cm">/* Allocate an I2S TX channel */</span>
<span class="n">i2s_chan_config_t</span><span class="w"> </span><span class="n">chan_cfg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">I2S_CHANNEL_DEFAULT_CONFIG</span><span class="p">(</span><span class="n">I2S_NUM_0</span><span class="p">,</span><span class="w"> </span><span class="n">I2S_ROLE_MASTER</span><span class="p">);</span>
<span class="n">i2s_new_channel</span><span class="p">(</span><span class="o">&amp;</span><span class="n">chan_cfg</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">tx_handle</span><span class="p">,</span><span class="w"> </span><span class="nb">NULL</span><span class="p">);</span>

<span class="cm">/* Init the channel into PDM TX mode */</span>
<span class="n">i2s_pdm_tx_config_t</span><span class="w"> </span><span class="n">pdm_tx_cfg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="p">.</span><span class="n">clk_cfg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">I2S_PDM_TX_CLK_DEFAULT_CONFIG</span><span class="p">(</span><span class="mi">36000</span><span class="p">),</span>
<span class="w">    </span><span class="p">.</span><span class="n">slot_cfg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">I2S_PDM_TX_SLOT_DEFAULT_CONFIG</span><span class="p">(</span><span class="n">I2S_DATA_BIT_WIDTH_16BIT</span><span class="p">,</span><span class="w"> </span><span class="n">I2S_SLOT_MODE_MONO</span><span class="p">),</span>
<span class="w">    </span><span class="p">.</span><span class="n">gpio_cfg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="p">.</span><span class="n">clk</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GPIO_NUM_5</span><span class="p">,</span>
<span class="w">        </span><span class="p">.</span><span class="n">dout</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GPIO_NUM_18</span><span class="p">,</span>
<span class="w">        </span><span class="p">.</span><span class="n">invert_flags</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="p">.</span><span class="n">clk_inv</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">,</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">    </span><span class="p">},</span>
<span class="p">};</span>
<span class="n">i2s_channel_init_pdm_tx_mode</span><span class="p">(</span><span class="n">tx_handle</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">pdm_tx_cfg</span><span class="p">);</span>

<span class="p">...</span>
</pre></div>
</div>
</section>
<section id="pdm-rx-usage">
<h3>PDM RX Usage<a class="headerlink" href="#pdm-rx-usage" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/espressif/esp-idf/tree/v5.4.2/examples/peripherals/i2s/i2s_recorder">peripherals/i2s/i2s_recorder</a> demonstrates how to record audio from a digital MEMS microphone using the I2S peripheral in PDM data format and save it to an SD card in <code class="docutils literal notranslate"><span class="pre">.wav</span></code> file format on ESP32 development boards.</p></li>
<li><p><a class="reference external" href="https://github.com/espressif/esp-idf/tree/v5.4.2/examples/peripherals/i2s/i2s_basic/i2s_pdm">peripherals/i2s/i2s_basic/i2s_pdm</a> demonstrates how to use the PDM RX mode on ESP32, including the necessary hardware setup and configuration.</p></li>
</ul>
<p>For PDM mode in RX channel, the slot configuration helper macro is:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#c.I2S_PDM_RX_SLOT_DEFAULT_CONFIG" title="I2S_PDM_RX_SLOT_DEFAULT_CONFIG"><code class="xref c c-macro docutils literal notranslate"><span class="pre">I2S_PDM_RX_SLOT_DEFAULT_CONFIG</span></code></a></p></li>
</ul>
<p>The clock configuration helper macro is:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#c.I2S_PDM_RX_CLK_DEFAULT_CONFIG" title="I2S_PDM_RX_CLK_DEFAULT_CONFIG"><code class="xref c c-macro docutils literal notranslate"><span class="pre">I2S_PDM_RX_CLK_DEFAULT_CONFIG</span></code></a></p></li>
</ul>
<p>Please refer to <a class="reference internal" href="#i2s-api-reference-i2s-pdm"><span class="std std-ref">PDM Mode</span></a> for information about PDM RX API. And for more details, please refer to <a class="reference external" href="https://github.com/espressif/esp-idf/blob/v5.4.2/components/esp_driver_i2s/include/driver/i2s_pdm.h">esp_driver_i2s/include/driver/i2s_pdm.h</a>.</p>
<p>The PDM data width is fixed to 16-bit. When the data on the line (The PDM format on the line is transferred to PCM format for easier comprehension) is:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>left</p></th>
<th class="head"><p>right</p></th>
<th class="head"><p>left</p></th>
<th class="head"><p>right</p></th>
<th class="head"><p>left</p></th>
<th class="head"><p>right</p></th>
<th class="head"><p>left</p></th>
<th class="head"><p>right</p></th>
<th class="head"><p>...</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0x0001</p></td>
<td><p>0x0002</p></td>
<td><p>0x0003</p></td>
<td><p>0x0004</p></td>
<td><p>0x0005</p></td>
<td><p>0x0006</p></td>
<td><p>0x0007</p></td>
<td><p>0x0008</p></td>
<td><p>...</p></td>
</tr>
</tbody>
</table>
<p>Here is the table of the data received in a <code class="docutils literal notranslate"><span class="pre">int16_t</span></code> buffer with different <a class="reference internal" href="#_CPPv4N24i2s_pdm_rx_slot_config_t9slot_modeE" title="i2s_pdm_rx_slot_config_t::slot_mode"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">i2s_pdm_rx_slot_config_t::slot_mode</span></code></a> and <a class="reference internal" href="#_CPPv4N24i2s_pdm_rx_slot_config_t9slot_maskE" title="i2s_pdm_rx_slot_config_t::slot_mask"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">i2s_pdm_rx_slot_config_t::slot_mask</span></code></a>.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>slot mode</p></th>
<th class="head"><p>slot mask</p></th>
<th class="head"><p>data 0</p></th>
<th class="head"><p>data 1</p></th>
<th class="head"><p>data 2</p></th>
<th class="head"><p>data 3</p></th>
<th class="head"><p>data 4</p></th>
<th class="head"><p>data 5</p></th>
<th class="head"><p>data 6</p></th>
<th class="head"><p>data 7</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td rowspan="2"><p>mono</p></td>
<td><p>left</p></td>
<td><p>0x0001</p></td>
<td><p>0x0003</p></td>
<td><p>0x0005</p></td>
<td><p>0x0007</p></td>
<td><p>0x0009</p></td>
<td><p>0x000b</p></td>
<td><p>0x000d</p></td>
<td><p>0x000f</p></td>
</tr>
<tr class="row-odd"><td><p>right</p></td>
<td><p>0x0002</p></td>
<td><p>0x0004</p></td>
<td><p>0x0006</p></td>
<td><p>0x0008</p></td>
<td><p>0x000a</p></td>
<td><p>0x000c</p></td>
<td><p>0x000e</p></td>
<td><p>0x0010</p></td>
</tr>
<tr class="row-even"><td><p>stereo</p></td>
<td><p>both</p></td>
<td><p>0x0001</p></td>
<td><p>0x0002</p></td>
<td><p>0x0003</p></td>
<td><p>0x0004</p></td>
<td><p>0x0005</p></td>
<td><p>0x0006</p></td>
<td><p>0x0007</p></td>
<td><p>0x0008</p></td>
</tr>
</tbody>
</table>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;driver/i2s_pdm.h&quot;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;driver/gpio.h&quot;</span>

<span class="n">i2s_chan_handle_t</span><span class="w"> </span><span class="n">rx_handle</span><span class="p">;</span>

<span class="cm">/* Allocate an I2S RX channel */</span>
<span class="n">i2s_chan_config_t</span><span class="w"> </span><span class="n">chan_cfg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">I2S_CHANNEL_DEFAULT_CONFIG</span><span class="p">(</span><span class="n">I2S_NUM_0</span><span class="p">,</span><span class="w"> </span><span class="n">I2S_ROLE_MASTER</span><span class="p">);</span>
<span class="n">i2s_new_channel</span><span class="p">(</span><span class="o">&amp;</span><span class="n">chan_cfg</span><span class="p">,</span><span class="w"> </span><span class="nb">NULL</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">rx_handle</span><span class="p">);</span>

<span class="cm">/* Init the channel into PDM RX mode */</span>
<span class="n">i2s_pdm_rx_config_t</span><span class="w"> </span><span class="n">pdm_rx_cfg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="p">.</span><span class="n">clk_cfg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">I2S_PDM_RX_CLK_DEFAULT_CONFIG</span><span class="p">(</span><span class="mi">36000</span><span class="p">),</span>
<span class="w">    </span><span class="p">.</span><span class="n">slot_cfg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">I2S_PDM_RX_SLOT_DEFAULT_CONFIG</span><span class="p">(</span><span class="n">I2S_DATA_BIT_WIDTH_16BIT</span><span class="p">,</span><span class="w"> </span><span class="n">I2S_SLOT_MODE_MONO</span><span class="p">),</span>
<span class="w">    </span><span class="p">.</span><span class="n">gpio_cfg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="p">.</span><span class="n">clk</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GPIO_NUM_5</span><span class="p">,</span>
<span class="w">        </span><span class="p">.</span><span class="n">din</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GPIO_NUM_19</span><span class="p">,</span>
<span class="w">        </span><span class="p">.</span><span class="n">invert_flags</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="p">.</span><span class="n">clk_inv</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">,</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">    </span><span class="p">},</span>
<span class="p">};</span>
<span class="n">i2s_channel_init_pdm_rx_mode</span><span class="p">(</span><span class="n">rx_handle</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">pdm_rx_cfg</span><span class="p">);</span>

<span class="p">...</span>
</pre></div>
</div>
</section>
<section id="full-duplex">
<h3>Full-duplex<a class="headerlink" href="#full-duplex" title="Permalink to this heading"></a></h3>
<p>Full-duplex mode registers TX and RX channel in an I2S port at the same time, and the channels share the BCLK and WS signals. Currently, standard communication modes supports full-duplex mode in the following way, but PDM full-duplex is not supported because due to different PDM TX and RX clocks.</p>
<p>Note that one handle can only stand for one channel. Therefore, it is still necessary to configure the slot and clock for both TX and RX channels one by one.</p>
<p>Here is an example of how to allocate a pair of full-duplex channels:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;driver/i2s_std.h&quot;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;driver/gpio.h&quot;</span>

<span class="n">i2s_chan_handle_t</span><span class="w"> </span><span class="n">tx_handle</span><span class="p">;</span>
<span class="n">i2s_chan_handle_t</span><span class="w"> </span><span class="n">rx_handle</span><span class="p">;</span>

<span class="cm">/* Allocate a pair of I2S channel */</span>
<span class="n">i2s_chan_config_t</span><span class="w"> </span><span class="n">chan_cfg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">I2S_CHANNEL_DEFAULT_CONFIG</span><span class="p">(</span><span class="n">I2S_NUM_AUTO</span><span class="p">,</span><span class="w"> </span><span class="n">I2S_ROLE_MASTER</span><span class="p">);</span>
<span class="cm">/* Allocate for TX and RX channel at the same time, then they will work in full-duplex mode */</span>
<span class="n">i2s_new_channel</span><span class="p">(</span><span class="o">&amp;</span><span class="n">chan_cfg</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">tx_handle</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">rx_handle</span><span class="p">);</span>

<span class="cm">/* Set the configurations for BOTH TWO channels, since TX and RX channel have to be same in full-duplex mode */</span>
<span class="n">i2s_std_config_t</span><span class="w"> </span><span class="n">std_cfg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="p">.</span><span class="n">clk_cfg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">I2S_STD_CLK_DEFAULT_CONFIG</span><span class="p">(</span><span class="mi">32000</span><span class="p">),</span>
<span class="w">    </span><span class="p">.</span><span class="n">slot_cfg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">I2S_STD_PHILIPS_SLOT_DEFAULT_CONFIG</span><span class="p">(</span><span class="n">I2S_DATA_BIT_WIDTH_16BIT</span><span class="p">,</span><span class="w"> </span><span class="n">I2S_SLOT_MODE_STEREO</span><span class="p">),</span>
<span class="w">    </span><span class="p">.</span><span class="n">gpio_cfg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="p">.</span><span class="n">mclk</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">I2S_GPIO_UNUSED</span><span class="p">,</span>
<span class="w">        </span><span class="p">.</span><span class="n">bclk</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GPIO_NUM_4</span><span class="p">,</span>
<span class="w">        </span><span class="p">.</span><span class="n">ws</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GPIO_NUM_5</span><span class="p">,</span>
<span class="w">        </span><span class="p">.</span><span class="n">dout</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GPIO_NUM_18</span><span class="p">,</span>
<span class="w">        </span><span class="p">.</span><span class="n">din</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GPIO_NUM_19</span><span class="p">,</span>
<span class="w">        </span><span class="p">.</span><span class="n">invert_flags</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="p">.</span><span class="n">mclk_inv</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">,</span>
<span class="w">            </span><span class="p">.</span><span class="n">bclk_inv</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">,</span>
<span class="w">            </span><span class="p">.</span><span class="n">ws_inv</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">,</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">    </span><span class="p">},</span>
<span class="p">};</span>
<span class="n">i2s_channel_init_std_mode</span><span class="p">(</span><span class="n">tx_handle</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">std_cfg</span><span class="p">);</span>
<span class="n">i2s_channel_init_std_mode</span><span class="p">(</span><span class="n">rx_handle</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">std_cfg</span><span class="p">);</span>

<span class="n">i2s_channel_enable</span><span class="p">(</span><span class="n">tx_handle</span><span class="p">);</span>
<span class="n">i2s_channel_enable</span><span class="p">(</span><span class="n">rx_handle</span><span class="p">);</span>

<span class="p">...</span>
</pre></div>
</div>
</section>
<section id="simplex-mode">
<h3>Simplex Mode<a class="headerlink" href="#simplex-mode" title="Permalink to this heading"></a></h3>
<p>To allocate a channel handle in simplex mode, <a class="reference internal" href="#_CPPv415i2s_new_channelPK17i2s_chan_config_tP17i2s_chan_handle_tP17i2s_chan_handle_t" title="i2s_new_channel"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">i2s_new_channel()</span></code></a> should be called for each channel. The clock and GPIO pins of TX/RX channel on ESP32 are not independent, so the TX and RX channel cannot coexist on the same I2S port in simplex mode.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;driver/i2s_std.h&quot;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;driver/gpio.h&quot;</span>

<span class="n">i2s_chan_handle_t</span><span class="w"> </span><span class="n">tx_handle</span><span class="p">;</span>
<span class="n">i2s_chan_handle_t</span><span class="w"> </span><span class="n">rx_handle</span><span class="p">;</span>

<span class="n">i2s_chan_config_t</span><span class="w"> </span><span class="n">chan_cfg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">I2S_CHANNEL_DEFAULT_CONFIG</span><span class="p">(</span><span class="n">I2S_NUM_AUTO</span><span class="p">,</span><span class="w"> </span><span class="n">I2S_ROLE_MASTER</span><span class="p">);</span>
<span class="n">i2s_new_channel</span><span class="p">(</span><span class="o">&amp;</span><span class="n">chan_cfg</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">tx_handle</span><span class="p">,</span><span class="w"> </span><span class="nb">NULL</span><span class="p">);</span>
<span class="n">i2s_std_config_t</span><span class="w"> </span><span class="n">std_tx_cfg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="p">.</span><span class="n">clk_cfg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">I2S_STD_CLK_DEFAULT_CONFIG</span><span class="p">(</span><span class="mi">48000</span><span class="p">),</span>
<span class="w">    </span><span class="p">.</span><span class="n">slot_cfg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">I2S_STD_PHILIPS_SLOT_DEFAULT_CONFIG</span><span class="p">(</span><span class="n">I2S_DATA_BIT_WIDTH_16BIT</span><span class="p">,</span><span class="w"> </span><span class="n">I2S_SLOT_MODE_STEREO</span><span class="p">),</span>
<span class="w">    </span><span class="p">.</span><span class="n">gpio_cfg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="p">.</span><span class="n">mclk</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GPIO_NUM_0</span><span class="p">,</span>
<span class="w">        </span><span class="p">.</span><span class="n">bclk</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GPIO_NUM_4</span><span class="p">,</span>
<span class="w">        </span><span class="p">.</span><span class="n">ws</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GPIO_NUM_5</span><span class="p">,</span>
<span class="w">        </span><span class="p">.</span><span class="n">dout</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GPIO_NUM_18</span><span class="p">,</span>
<span class="w">        </span><span class="p">.</span><span class="n">din</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">I2S_GPIO_UNUSED</span><span class="p">,</span>
<span class="w">        </span><span class="p">.</span><span class="n">invert_flags</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="p">.</span><span class="n">mclk_inv</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">,</span>
<span class="w">            </span><span class="p">.</span><span class="n">bclk_inv</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">,</span>
<span class="w">            </span><span class="p">.</span><span class="n">ws_inv</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">,</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">    </span><span class="p">},</span>
<span class="p">};</span>
<span class="cm">/* Initialize the channel */</span>
<span class="n">i2s_channel_init_std_mode</span><span class="p">(</span><span class="n">tx_handle</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">std_tx_cfg</span><span class="p">);</span>
<span class="n">i2s_channel_enable</span><span class="p">(</span><span class="n">tx_handle</span><span class="p">);</span>

<span class="cm">/* RX channel will be registered on another I2S, if no other available I2S unit found</span>
<span class="cm"> * it will return ESP_ERR_NOT_FOUND */</span>
<span class="n">i2s_new_channel</span><span class="p">(</span><span class="o">&amp;</span><span class="n">chan_cfg</span><span class="p">,</span><span class="w"> </span><span class="nb">NULL</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">rx_handle</span><span class="p">);</span>
<span class="n">i2s_std_config_t</span><span class="w"> </span><span class="n">std_rx_cfg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="p">.</span><span class="n">clk_cfg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">I2S_STD_CLK_DEFAULT_CONFIG</span><span class="p">(</span><span class="mi">16000</span><span class="p">),</span>
<span class="w">    </span><span class="p">.</span><span class="n">slot_cfg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">I2S_STD_MSB_SLOT_DEFAULT_CONFIG</span><span class="p">(</span><span class="n">I2S_DATA_BIT_WIDTH_32BIT</span><span class="p">,</span><span class="w"> </span><span class="n">I2S_SLOT_MODE_STEREO</span><span class="p">),</span>
<span class="w">    </span><span class="p">.</span><span class="n">gpio_cfg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="p">.</span><span class="n">mclk</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">I2S_GPIO_UNUSED</span><span class="p">,</span>
<span class="w">        </span><span class="p">.</span><span class="n">bclk</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GPIO_NUM_6</span><span class="p">,</span>
<span class="w">        </span><span class="p">.</span><span class="n">ws</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GPIO_NUM_7</span><span class="p">,</span>
<span class="w">        </span><span class="p">.</span><span class="n">dout</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">I2S_GPIO_UNUSED</span><span class="p">,</span>
<span class="w">        </span><span class="p">.</span><span class="n">din</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GPIO_NUM_19</span><span class="p">,</span>
<span class="w">        </span><span class="p">.</span><span class="n">invert_flags</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="p">.</span><span class="n">mclk_inv</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">,</span>
<span class="w">            </span><span class="p">.</span><span class="n">bclk_inv</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">,</span>
<span class="w">            </span><span class="p">.</span><span class="n">ws_inv</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">,</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">    </span><span class="p">},</span>
<span class="p">};</span>
<span class="n">i2s_channel_init_std_mode</span><span class="p">(</span><span class="n">rx_handle</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">std_rx_cfg</span><span class="p">);</span>
<span class="n">i2s_channel_enable</span><span class="p">(</span><span class="n">rx_handle</span><span class="p">);</span>
</pre></div>
</div>
</section>
</section>
<section id="application-notes">
<h2>Application Notes<a class="headerlink" href="#application-notes" title="Permalink to this heading"></a></h2>
<section id="how-to-prevent-data-lost">
<h3>How to Prevent Data Lost<a class="headerlink" href="#how-to-prevent-data-lost" title="Permalink to this heading"></a></h3>
<p>For applications that need a high frequency sample rate, the massive data throughput may cause data lost. Users can receive data lost event by registering the ISR callback function to receive the event queue:</p>
<blockquote>
<div><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">static</span><span class="w"> </span><span class="n">IRAM_ATTR</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">i2s_rx_queue_overflow_callback</span><span class="p">(</span><span class="n">i2s_chan_handle_t</span><span class="w"> </span><span class="n">handle</span><span class="p">,</span><span class="w"> </span><span class="n">i2s_event_data_t</span><span class="w"> </span><span class="o">*</span><span class="n">event</span><span class="p">,</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">user_ctx</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="c1">// handle RX queue overflow event ...</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">i2s_event_callbacks_t</span><span class="w"> </span><span class="n">cbs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="p">.</span><span class="n">on_recv</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="p">.</span><span class="n">on_recv_q_ovf</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i2s_rx_queue_overflow_callback</span><span class="p">,</span>
<span class="w">    </span><span class="p">.</span><span class="n">on_sent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="p">.</span><span class="n">on_send_q_ovf</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">,</span>
<span class="p">};</span>
<span class="n">TEST_ESP_OK</span><span class="p">(</span><span class="n">i2s_channel_register_event_callback</span><span class="p">(</span><span class="n">rx_handle</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">cbs</span><span class="p">,</span><span class="w"> </span><span class="nb">NULL</span><span class="p">));</span>
</pre></div>
</div>
</div></blockquote>
<p>Please follow these steps to prevent data lost:</p>
<ol class="arabic">
<li><p>Determine the interrupt interval. Generally, when data lost happens, the bigger the interval, the better, which  helps to reduce the interrupt times. This means <code class="docutils literal notranslate"><span class="pre">dma_frame_num</span></code> should be as big as possible while the DMA buffer size is below the maximum value of 4092. The relationships are:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">interrupt_interval</span><span class="p">(</span><span class="n">unit</span><span class="p">:</span> <span class="n">sec</span><span class="p">)</span> <span class="o">=</span> <span class="n">dma_frame_num</span> <span class="o">/</span> <span class="n">sample_rate</span>
<span class="n">dma_buffer_size</span> <span class="o">=</span> <span class="n">dma_frame_num</span> <span class="o">*</span> <span class="n">slot_num</span> <span class="o">*</span> <span class="n">data_bit_width</span> <span class="o">/</span> <span class="mi">8</span> <span class="o">&lt;=</span> <span class="mi">4092</span>
</pre></div>
</div>
</li>
<li><p>Determine <code class="docutils literal notranslate"><span class="pre">dma_desc_num</span></code>. <code class="docutils literal notranslate"><span class="pre">dma_desc_num</span></code> is decided by the maximum time of <code class="docutils literal notranslate"><span class="pre">i2s_channel_read</span></code> polling cycle. All the received data is supposed to be stored between two <code class="docutils literal notranslate"><span class="pre">i2s_channel_read</span></code>. This cycle can be measured by a timer or an outputting GPIO signal. The relationship is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">dma_desc_num</span> <span class="o">&gt;</span> <span class="n">polling_cycle</span> <span class="o">/</span> <span class="n">interrupt_interval</span>
</pre></div>
</div>
</li>
<li><p>Determine the receiving buffer size. The receiving buffer offered by users in <code class="docutils literal notranslate"><span class="pre">i2s_channel_read</span></code> should be able to take all the data in all DMA buffers, which means that it should be larger than the total size of all the DMA buffers:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">recv_buffer_size</span> <span class="o">&gt;</span> <span class="n">dma_desc_num</span> <span class="o">*</span> <span class="n">dma_buffer_size</span>
</pre></div>
</div>
</li>
</ol>
<p>For example, if there is an I2S application, and the known values are:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sample_rate</span> <span class="o">=</span> <span class="mi">144000</span> <span class="n">Hz</span>
<span class="n">data_bit_width</span> <span class="o">=</span> <span class="mi">32</span> <span class="n">bits</span>
<span class="n">slot_num</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">polling_cycle</span> <span class="o">=</span> <span class="mi">10</span> <span class="n">ms</span>
</pre></div>
</div>
<p>Then the parameters <code class="docutils literal notranslate"><span class="pre">dma_frame_num</span></code>, <code class="docutils literal notranslate"><span class="pre">dma_desc_num</span></code>, and <code class="docutils literal notranslate"><span class="pre">recv_buf_size</span></code> can be calculated as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">dma_frame_num</span> <span class="o">*</span> <span class="n">slot_num</span> <span class="o">*</span> <span class="n">data_bit_width</span> <span class="o">/</span> <span class="mi">8</span> <span class="o">=</span> <span class="n">dma_buffer_size</span> <span class="o">&lt;=</span> <span class="mi">4092</span>
<span class="n">dma_frame_num</span> <span class="o">&lt;=</span> <span class="mi">511</span>
<span class="n">interrupt_interval</span> <span class="o">=</span> <span class="n">dma_frame_num</span> <span class="o">/</span> <span class="n">sample_rate</span> <span class="o">=</span> <span class="mi">511</span> <span class="o">/</span> <span class="mi">144000</span> <span class="o">=</span> <span class="mf">0.003549</span> <span class="n">s</span> <span class="o">=</span> <span class="mf">3.549</span> <span class="n">ms</span>
<span class="n">dma_desc_num</span> <span class="o">&gt;</span> <span class="n">polling_cycle</span> <span class="o">/</span> <span class="n">interrupt_interval</span> <span class="o">=</span> <span class="n">cell</span><span class="p">(</span><span class="mi">10</span> <span class="o">/</span> <span class="mf">3.549</span><span class="p">)</span> <span class="o">=</span> <span class="n">cell</span><span class="p">(</span><span class="mf">2.818</span><span class="p">)</span> <span class="o">=</span> <span class="mi">3</span>
<span class="n">recv_buffer_size</span> <span class="o">&gt;</span> <span class="n">dma_desc_num</span> <span class="o">*</span> <span class="n">dma_buffer_size</span> <span class="o">=</span> <span class="mi">3</span> <span class="o">*</span> <span class="mi">4092</span> <span class="o">=</span> <span class="mi">12276</span> <span class="nb">bytes</span>
</pre></div>
</div>
</section>
</section>
<section id="api-reference">
<h2>API Reference<a class="headerlink" href="#api-reference" title="Permalink to this heading"></a></h2>
<section id="i2s-api-reference-i2s-std">
<span id="id2"></span><h3>Standard Mode<a class="headerlink" href="#i2s-api-reference-i2s-std" title="Permalink to this heading"></a></h3>
</section>
<section id="header-file">
<h3>Header File<a class="headerlink" href="#header-file" title="Permalink to this heading"></a></h3>
<ul>
<li><p><a class="reference external" href="https://github.com/espressif/esp-idf/blob/v5.4.2/components/esp_driver_i2s/include/driver/i2s_std.h">components/esp_driver_i2s/include/driver/i2s_std.h</a></p></li>
<li><p>This header file can be included with:</p>
<blockquote>
<div><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;driver/i2s_std.h&quot;</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>This header file is a part of the API provided by the <code class="docutils literal notranslate"><span class="pre">esp_driver_i2s</span></code> component. To declare that your component depends on <code class="docutils literal notranslate"><span class="pre">esp_driver_i2s</span></code>, add the following to your CMakeLists.txt:</p>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>REQUIRES esp_driver_i2s
</pre></div>
</div>
<p>or</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>PRIV_REQUIRES esp_driver_i2s
</pre></div>
</div>
</div></blockquote>
</li>
</ul>
</section>
<section id="functions">
<h3>Functions<a class="headerlink" href="#functions" title="Permalink to this heading"></a></h3>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv425i2s_channel_init_std_mode17i2s_chan_handle_tPK16i2s_std_config_t">
<span id="_CPPv325i2s_channel_init_std_mode17i2s_chan_handle_tPK16i2s_std_config_t"></span><span id="_CPPv225i2s_channel_init_std_mode17i2s_chan_handle_tPK16i2s_std_config_t"></span><span id="i2s_channel_init_std_mode__i2s_chan_handle_t.i2s_std_config_tCP"></span><span class="target" id="i2s__std_8h_1a3a61ea12c8a24e8685dc50fb4459e602"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">i2s_channel_init_std_mode</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv417i2s_chan_handle_t" title="i2s_chan_handle_t"><span class="n"><span class="pre">i2s_chan_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">handle</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv416i2s_std_config_t" title="i2s_std_config_t"><span class="n"><span class="pre">i2s_std_config_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">std_cfg</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv425i2s_channel_init_std_mode17i2s_chan_handle_tPK16i2s_std_config_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Initialize I2S channel to standard mode. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Only allowed to be called when the channel state is REGISTERED, (i.e., channel has been allocated, but not initialized) and the state will be updated to READY if initialization success, otherwise the state will return to REGISTERED.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>handle</strong> -- <strong>[in]</strong> I2S channel handler </p></li>
<li><p><strong>std_cfg</strong> -- <strong>[in]</strong> Configurations for standard mode, including clock, slot and GPIO The clock configuration can be generated by the helper macro <code class="docutils literal notranslate"><span class="pre">I2S_STD_CLK_DEFAULT_CONFIG</span></code> The slot configuration can be generated by the helper macro <code class="docutils literal notranslate"><span class="pre">I2S_STD_PHILIPS_SLOT_DEFAULT_CONFIG</span></code>, <code class="docutils literal notranslate"><span class="pre">I2S_STD_PCM_SLOT_DEFAULT_CONFIG</span></code> or <code class="docutils literal notranslate"><span class="pre">I2S_STD_MSB_SLOT_DEFAULT_CONFIG</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK Initialize successfully</p></li>
<li><p>ESP_ERR_NO_MEM No memory for storing the channel information</p></li>
<li><p>ESP_ERR_INVALID_ARG NULL pointer or invalid configuration</p></li>
<li><p>ESP_ERR_INVALID_STATE This channel is not registered </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv430i2s_channel_reconfig_std_clock17i2s_chan_handle_tPK20i2s_std_clk_config_t">
<span id="_CPPv330i2s_channel_reconfig_std_clock17i2s_chan_handle_tPK20i2s_std_clk_config_t"></span><span id="_CPPv230i2s_channel_reconfig_std_clock17i2s_chan_handle_tPK20i2s_std_clk_config_t"></span><span id="i2s_channel_reconfig_std_clock__i2s_chan_handle_t.i2s_std_clk_config_tCP"></span><span class="target" id="i2s__std_8h_1aa325b532e1278d491c21b3e7cb0779c0"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">i2s_channel_reconfig_std_clock</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv417i2s_chan_handle_t" title="i2s_chan_handle_t"><span class="n"><span class="pre">i2s_chan_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">handle</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv420i2s_std_clk_config_t" title="i2s_std_clk_config_t"><span class="n"><span class="pre">i2s_std_clk_config_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">clk_cfg</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv430i2s_channel_reconfig_std_clock17i2s_chan_handle_tPK20i2s_std_clk_config_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Reconfigure the I2S clock for standard mode. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Only allowed to be called when the channel state is READY, i.e., channel has been initialized, but not started this function won't change the state. <code class="docutils literal notranslate"><span class="pre">i2s_channel_disable</span></code> should be called before calling this function if I2S has started. </p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The input channel handle has to be initialized to standard mode, i.e., <code class="docutils literal notranslate"><span class="pre">i2s_channel_init_std_mode</span></code> has been called before reconfiguring</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>handle</strong> -- <strong>[in]</strong> I2S channel handler </p></li>
<li><p><strong>clk_cfg</strong> -- <strong>[in]</strong> Standard mode clock configuration, can be generated by <code class="docutils literal notranslate"><span class="pre">I2S_STD_CLK_DEFAULT_CONFIG</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK Set clock successfully</p></li>
<li><p>ESP_ERR_INVALID_ARG NULL pointer, invalid configuration or not standard mode</p></li>
<li><p>ESP_ERR_INVALID_STATE This channel is not initialized or not stopped </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv429i2s_channel_reconfig_std_slot17i2s_chan_handle_tPK21i2s_std_slot_config_t">
<span id="_CPPv329i2s_channel_reconfig_std_slot17i2s_chan_handle_tPK21i2s_std_slot_config_t"></span><span id="_CPPv229i2s_channel_reconfig_std_slot17i2s_chan_handle_tPK21i2s_std_slot_config_t"></span><span id="i2s_channel_reconfig_std_slot__i2s_chan_handle_t.i2s_std_slot_config_tCP"></span><span class="target" id="i2s__std_8h_1a1ef79ad5483dc97ef286d8f468955664"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">i2s_channel_reconfig_std_slot</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv417i2s_chan_handle_t" title="i2s_chan_handle_t"><span class="n"><span class="pre">i2s_chan_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">handle</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv421i2s_std_slot_config_t" title="i2s_std_slot_config_t"><span class="n"><span class="pre">i2s_std_slot_config_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">slot_cfg</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv429i2s_channel_reconfig_std_slot17i2s_chan_handle_tPK21i2s_std_slot_config_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Reconfigure the I2S slot for standard mode. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Only allowed to be called when the channel state is READY, i.e., channel has been initialized, but not started this function won't change the state. <code class="docutils literal notranslate"><span class="pre">i2s_channel_disable</span></code> should be called before calling this function if I2S has started. </p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The input channel handle has to be initialized to standard mode, i.e., <code class="docutils literal notranslate"><span class="pre">i2s_channel_init_std_mode</span></code> has been called before reconfiguring</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>handle</strong> -- <strong>[in]</strong> I2S channel handler </p></li>
<li><p><strong>slot_cfg</strong> -- <strong>[in]</strong> Standard mode slot configuration, can be generated by <code class="docutils literal notranslate"><span class="pre">I2S_STD_PHILIPS_SLOT_DEFAULT_CONFIG</span></code>, <code class="docutils literal notranslate"><span class="pre">I2S_STD_PCM_SLOT_DEFAULT_CONFIG</span></code> and <code class="docutils literal notranslate"><span class="pre">I2S_STD_MSB_SLOT_DEFAULT_CONFIG</span></code>. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK Set clock successfully</p></li>
<li><p>ESP_ERR_NO_MEM No memory for DMA buffer</p></li>
<li><p>ESP_ERR_INVALID_ARG NULL pointer, invalid configuration or not standard mode</p></li>
<li><p>ESP_ERR_INVALID_STATE This channel is not initialized or not stopped </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv429i2s_channel_reconfig_std_gpio17i2s_chan_handle_tPK21i2s_std_gpio_config_t">
<span id="_CPPv329i2s_channel_reconfig_std_gpio17i2s_chan_handle_tPK21i2s_std_gpio_config_t"></span><span id="_CPPv229i2s_channel_reconfig_std_gpio17i2s_chan_handle_tPK21i2s_std_gpio_config_t"></span><span id="i2s_channel_reconfig_std_gpio__i2s_chan_handle_t.i2s_std_gpio_config_tCP"></span><span class="target" id="i2s__std_8h_1aebf87d8924567d60148de604cba6384e"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">i2s_channel_reconfig_std_gpio</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv417i2s_chan_handle_t" title="i2s_chan_handle_t"><span class="n"><span class="pre">i2s_chan_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">handle</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv421i2s_std_gpio_config_t" title="i2s_std_gpio_config_t"><span class="n"><span class="pre">i2s_std_gpio_config_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">gpio_cfg</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv429i2s_channel_reconfig_std_gpio17i2s_chan_handle_tPK21i2s_std_gpio_config_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Reconfigure the I2S GPIO for standard mode. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Only allowed to be called when the channel state is READY, i.e., channel has been initialized, but not started this function won't change the state. <code class="docutils literal notranslate"><span class="pre">i2s_channel_disable</span></code> should be called before calling this function if I2S has started. </p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The input channel handle has to be initialized to standard mode, i.e., <code class="docutils literal notranslate"><span class="pre">i2s_channel_init_std_mode</span></code> has been called before reconfiguring</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>handle</strong> -- <strong>[in]</strong> I2S channel handler </p></li>
<li><p><strong>gpio_cfg</strong> -- <strong>[in]</strong> Standard mode GPIO configuration, specified by user </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK Set clock successfully</p></li>
<li><p>ESP_ERR_INVALID_ARG NULL pointer, invalid configuration or not standard mode</p></li>
<li><p>ESP_ERR_INVALID_STATE This channel is not initialized or not stopped </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="structures">
<h3>Structures<a class="headerlink" href="#structures" title="Permalink to this heading"></a></h3>
<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv421i2s_std_slot_config_t">
<span id="_CPPv321i2s_std_slot_config_t"></span><span id="_CPPv221i2s_std_slot_config_t"></span><span id="i2s_std_slot_config_t"></span><span class="target" id="structi2s__std__slot__config__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">i2s_std_slot_config_t</span></span></span><a class="headerlink" href="#_CPPv421i2s_std_slot_config_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>I2S slot configuration for standard mode. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N21i2s_std_slot_config_t14data_bit_widthE">
<span id="_CPPv3N21i2s_std_slot_config_t14data_bit_widthE"></span><span id="_CPPv2N21i2s_std_slot_config_t14data_bit_widthE"></span><span id="i2s_std_slot_config_t::data_bit_width__i2s_data_bit_width_t"></span><span class="target" id="structi2s__std__slot__config__t_1accf302c1477f8c0e316804df4b5c5b95"></span><a class="reference internal" href="#_CPPv420i2s_data_bit_width_t" title="i2s_data_bit_width_t"><span class="n"><span class="pre">i2s_data_bit_width_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">data_bit_width</span></span></span><a class="headerlink" href="#_CPPv4N21i2s_std_slot_config_t14data_bit_widthE" title="Permalink to this definition"></a><br /></dt>
<dd><p>I2S sample data bit width (valid data bits per sample) </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N21i2s_std_slot_config_t14slot_bit_widthE">
<span id="_CPPv3N21i2s_std_slot_config_t14slot_bit_widthE"></span><span id="_CPPv2N21i2s_std_slot_config_t14slot_bit_widthE"></span><span id="i2s_std_slot_config_t::slot_bit_width__i2s_slot_bit_width_t"></span><span class="target" id="structi2s__std__slot__config__t_1adeb38ef808fac176f3c19b92b2a56b38"></span><a class="reference internal" href="#_CPPv420i2s_slot_bit_width_t" title="i2s_slot_bit_width_t"><span class="n"><span class="pre">i2s_slot_bit_width_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">slot_bit_width</span></span></span><a class="headerlink" href="#_CPPv4N21i2s_std_slot_config_t14slot_bit_widthE" title="Permalink to this definition"></a><br /></dt>
<dd><p>I2S slot bit width (total bits per slot) </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N21i2s_std_slot_config_t9slot_modeE">
<span id="_CPPv3N21i2s_std_slot_config_t9slot_modeE"></span><span id="_CPPv2N21i2s_std_slot_config_t9slot_modeE"></span><span id="i2s_std_slot_config_t::slot_mode__i2s_slot_mode_t"></span><span class="target" id="structi2s__std__slot__config__t_1a77960020f24aea3ba8b7199a74338004"></span><a class="reference internal" href="#_CPPv415i2s_slot_mode_t" title="i2s_slot_mode_t"><span class="n"><span class="pre">i2s_slot_mode_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">slot_mode</span></span></span><a class="headerlink" href="#_CPPv4N21i2s_std_slot_config_t9slot_modeE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Set mono or stereo mode with I2S_SLOT_MODE_MONO or I2S_SLOT_MODE_STEREO In TX direction, mono means the written buffer contains only one slot data and stereo means the written buffer contains both left and right data </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N21i2s_std_slot_config_t9slot_maskE">
<span id="_CPPv3N21i2s_std_slot_config_t9slot_maskE"></span><span id="_CPPv2N21i2s_std_slot_config_t9slot_maskE"></span><span id="i2s_std_slot_config_t::slot_mask__i2s_std_slot_mask_t"></span><span class="target" id="structi2s__std__slot__config__t_1ac6eee97ee68a7102c86d9204614b7d65"></span><a class="reference internal" href="#_CPPv419i2s_std_slot_mask_t" title="i2s_std_slot_mask_t"><span class="n"><span class="pre">i2s_std_slot_mask_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">slot_mask</span></span></span><a class="headerlink" href="#_CPPv4N21i2s_std_slot_config_t9slot_maskE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Select the left, right or both slot </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N21i2s_std_slot_config_t8ws_widthE">
<span id="_CPPv3N21i2s_std_slot_config_t8ws_widthE"></span><span id="_CPPv2N21i2s_std_slot_config_t8ws_widthE"></span><span id="i2s_std_slot_config_t::ws_width__uint32_t"></span><span class="target" id="structi2s__std__slot__config__t_1ac981ec757995d47013d12a96c709aee1"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ws_width</span></span></span><a class="headerlink" href="#_CPPv4N21i2s_std_slot_config_t8ws_widthE" title="Permalink to this definition"></a><br /></dt>
<dd><p>WS signal width (i.e. the number of BCLK ticks that WS signal is high) </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N21i2s_std_slot_config_t6ws_polE">
<span id="_CPPv3N21i2s_std_slot_config_t6ws_polE"></span><span id="_CPPv2N21i2s_std_slot_config_t6ws_polE"></span><span id="i2s_std_slot_config_t::ws_pol__b"></span><span class="target" id="structi2s__std__slot__config__t_1a46180b2dfe6ab8de249b1bb863120efb"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ws_pol</span></span></span><a class="headerlink" href="#_CPPv4N21i2s_std_slot_config_t6ws_polE" title="Permalink to this definition"></a><br /></dt>
<dd><p>WS signal polarity, set true to enable high lever first </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N21i2s_std_slot_config_t9bit_shiftE">
<span id="_CPPv3N21i2s_std_slot_config_t9bit_shiftE"></span><span id="_CPPv2N21i2s_std_slot_config_t9bit_shiftE"></span><span id="i2s_std_slot_config_t::bit_shift__b"></span><span class="target" id="structi2s__std__slot__config__t_1a7e04ab5d37d8fed5b51c1fb22ffbddf2"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">bit_shift</span></span></span><a class="headerlink" href="#_CPPv4N21i2s_std_slot_config_t9bit_shiftE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Set to enable bit shift in Philips mode </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N21i2s_std_slot_config_t9msb_rightE">
<span id="_CPPv3N21i2s_std_slot_config_t9msb_rightE"></span><span id="_CPPv2N21i2s_std_slot_config_t9msb_rightE"></span><span id="i2s_std_slot_config_t::msb_right__b"></span><span class="target" id="structi2s__std__slot__config__t_1a7217e466e6fa9ce64302073bd74a96c8"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">msb_right</span></span></span><a class="headerlink" href="#_CPPv4N21i2s_std_slot_config_t9msb_rightE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Set to place right channel data at the MSB in the FIFO </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv420i2s_std_clk_config_t">
<span id="_CPPv320i2s_std_clk_config_t"></span><span id="_CPPv220i2s_std_clk_config_t"></span><span id="i2s_std_clk_config_t"></span><span class="target" id="structi2s__std__clk__config__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">i2s_std_clk_config_t</span></span></span><a class="headerlink" href="#_CPPv420i2s_std_clk_config_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>I2S clock configuration for standard mode. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N20i2s_std_clk_config_t14sample_rate_hzE">
<span id="_CPPv3N20i2s_std_clk_config_t14sample_rate_hzE"></span><span id="_CPPv2N20i2s_std_clk_config_t14sample_rate_hzE"></span><span id="i2s_std_clk_config_t::sample_rate_hz__uint32_t"></span><span class="target" id="structi2s__std__clk__config__t_1a2d6c1412505263975bd9170a1aa730e3"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">sample_rate_hz</span></span></span><a class="headerlink" href="#_CPPv4N20i2s_std_clk_config_t14sample_rate_hzE" title="Permalink to this definition"></a><br /></dt>
<dd><p>I2S sample rate </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N20i2s_std_clk_config_t7clk_srcE">
<span id="_CPPv3N20i2s_std_clk_config_t7clk_srcE"></span><span id="_CPPv2N20i2s_std_clk_config_t7clk_srcE"></span><span id="i2s_std_clk_config_t::clk_src__i2s_clock_src_t"></span><span class="target" id="structi2s__std__clk__config__t_1ac83963bf69c6d5362b6bb7c391a5b7fc"></span><a class="reference internal" href="#_CPPv415i2s_clock_src_t" title="i2s_clock_src_t"><span class="n"><span class="pre">i2s_clock_src_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">clk_src</span></span></span><a class="headerlink" href="#_CPPv4N20i2s_std_clk_config_t7clk_srcE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Choose clock source, see <code class="docutils literal notranslate"><span class="pre">soc_periph_i2s_clk_src_t</span></code> for the supported clock sources. selected <code class="docutils literal notranslate"><span class="pre">I2S_CLK_SRC_EXTERNAL</span></code> (if supports) to enable the external source clock input via MCLK pin, </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N20i2s_std_clk_config_t13mclk_multipleE">
<span id="_CPPv3N20i2s_std_clk_config_t13mclk_multipleE"></span><span id="_CPPv2N20i2s_std_clk_config_t13mclk_multipleE"></span><span id="i2s_std_clk_config_t::mclk_multiple__i2s_mclk_multiple_t"></span><span class="target" id="structi2s__std__clk__config__t_1a1c01da8ad2a215893e6f28bb92f1e223"></span><a class="reference internal" href="#_CPPv419i2s_mclk_multiple_t" title="i2s_mclk_multiple_t"><span class="n"><span class="pre">i2s_mclk_multiple_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mclk_multiple</span></span></span><a class="headerlink" href="#_CPPv4N20i2s_std_clk_config_t13mclk_multipleE" title="Permalink to this definition"></a><br /></dt>
<dd><p>The multiple of MCLK to the sample rate Default is 256 in the helper macro, it can satisfy most of cases, but please set this field a multiple of <code class="docutils literal notranslate"><span class="pre">3</span></code> (like 384) when using 24-bit data width, otherwise the sample rate might be inaccurate </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv421i2s_std_gpio_config_t">
<span id="_CPPv321i2s_std_gpio_config_t"></span><span id="_CPPv221i2s_std_gpio_config_t"></span><span id="i2s_std_gpio_config_t"></span><span class="target" id="structi2s__std__gpio__config__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">i2s_std_gpio_config_t</span></span></span><a class="headerlink" href="#_CPPv421i2s_std_gpio_config_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>I2S standard mode GPIO pins configuration. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N21i2s_std_gpio_config_t4mclkE">
<span id="_CPPv3N21i2s_std_gpio_config_t4mclkE"></span><span id="_CPPv2N21i2s_std_gpio_config_t4mclkE"></span><span id="i2s_std_gpio_config_t::mclk__gpio_num_t"></span><span class="target" id="structi2s__std__gpio__config__t_1ac6f90478febe510c594ece2cca739ecb"></span><span class="n"><span class="pre">gpio_num_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mclk</span></span></span><a class="headerlink" href="#_CPPv4N21i2s_std_gpio_config_t4mclkE" title="Permalink to this definition"></a><br /></dt>
<dd><p>MCK pin, output by default, input if the clock source is selected to <code class="docutils literal notranslate"><span class="pre">I2S_CLK_SRC_EXTERNAL</span></code></p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N21i2s_std_gpio_config_t4bclkE">
<span id="_CPPv3N21i2s_std_gpio_config_t4bclkE"></span><span id="_CPPv2N21i2s_std_gpio_config_t4bclkE"></span><span id="i2s_std_gpio_config_t::bclk__gpio_num_t"></span><span class="target" id="structi2s__std__gpio__config__t_1a68ed45aa1b724c6a647d52bb5869dfce"></span><span class="n"><span class="pre">gpio_num_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">bclk</span></span></span><a class="headerlink" href="#_CPPv4N21i2s_std_gpio_config_t4bclkE" title="Permalink to this definition"></a><br /></dt>
<dd><p>BCK pin, input in slave role, output in master role </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N21i2s_std_gpio_config_t2wsE">
<span id="_CPPv3N21i2s_std_gpio_config_t2wsE"></span><span id="_CPPv2N21i2s_std_gpio_config_t2wsE"></span><span id="i2s_std_gpio_config_t::ws__gpio_num_t"></span><span class="target" id="structi2s__std__gpio__config__t_1a25362c28d16e426eb0f124dc48b3ff2d"></span><span class="n"><span class="pre">gpio_num_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ws</span></span></span><a class="headerlink" href="#_CPPv4N21i2s_std_gpio_config_t2wsE" title="Permalink to this definition"></a><br /></dt>
<dd><p>WS pin, input in slave role, output in master role </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N21i2s_std_gpio_config_t4doutE">
<span id="_CPPv3N21i2s_std_gpio_config_t4doutE"></span><span id="_CPPv2N21i2s_std_gpio_config_t4doutE"></span><span id="i2s_std_gpio_config_t::dout__gpio_num_t"></span><span class="target" id="structi2s__std__gpio__config__t_1ac511d2b3cb4f387ab033f80f6cfd45c0"></span><span class="n"><span class="pre">gpio_num_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">dout</span></span></span><a class="headerlink" href="#_CPPv4N21i2s_std_gpio_config_t4doutE" title="Permalink to this definition"></a><br /></dt>
<dd><p>DATA pin, output </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N21i2s_std_gpio_config_t3dinE">
<span id="_CPPv3N21i2s_std_gpio_config_t3dinE"></span><span id="_CPPv2N21i2s_std_gpio_config_t3dinE"></span><span id="i2s_std_gpio_config_t::din__gpio_num_t"></span><span class="target" id="structi2s__std__gpio__config__t_1ab433a1745a4b9234494876df67b95c17"></span><span class="n"><span class="pre">gpio_num_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">din</span></span></span><a class="headerlink" href="#_CPPv4N21i2s_std_gpio_config_t3dinE" title="Permalink to this definition"></a><br /></dt>
<dd><p>DATA pin, input </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N21i2s_std_gpio_config_t8mclk_invE">
<span id="_CPPv3N21i2s_std_gpio_config_t8mclk_invE"></span><span id="_CPPv2N21i2s_std_gpio_config_t8mclk_invE"></span><span id="i2s_std_gpio_config_t::mclk_inv__uint32_t"></span><span class="target" id="structi2s__std__gpio__config__t_1a1d3a0e24be8ae0680e49626be60b568c"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mclk_inv</span></span></span><a class="headerlink" href="#_CPPv4N21i2s_std_gpio_config_t8mclk_invE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Set 1 to invert the MCLK input/output </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N21i2s_std_gpio_config_t8bclk_invE">
<span id="_CPPv3N21i2s_std_gpio_config_t8bclk_invE"></span><span id="_CPPv2N21i2s_std_gpio_config_t8bclk_invE"></span><span id="i2s_std_gpio_config_t::bclk_inv__uint32_t"></span><span class="target" id="structi2s__std__gpio__config__t_1a9e0dbbbfec8a427dbc4b065889950d93"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">bclk_inv</span></span></span><a class="headerlink" href="#_CPPv4N21i2s_std_gpio_config_t8bclk_invE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Set 1 to invert the BCLK input/output </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N21i2s_std_gpio_config_t6ws_invE">
<span id="_CPPv3N21i2s_std_gpio_config_t6ws_invE"></span><span id="_CPPv2N21i2s_std_gpio_config_t6ws_invE"></span><span id="i2s_std_gpio_config_t::ws_inv__uint32_t"></span><span class="target" id="structi2s__std__gpio__config__t_1ae90c3568970aecf120869953a23cdccc"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ws_inv</span></span></span><a class="headerlink" href="#_CPPv4N21i2s_std_gpio_config_t6ws_invE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Set 1 to invert the WS input/output </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N21i2s_std_gpio_config_t12invert_flagsE">
<span id="_CPPv3N21i2s_std_gpio_config_t12invert_flagsE"></span><span id="_CPPv2N21i2s_std_gpio_config_t12invert_flagsE"></span><span id="i2s_std_gpio_config_t::invert_flags__i2s_std_gpio_config_t"></span><span class="target" id="structi2s__std__gpio__config__t_1aa0748949051504cb7c9f66250ed6532c"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv421i2s_std_gpio_config_t" title="i2s_std_gpio_config_t"><span class="n"><span class="pre">i2s_std_gpio_config_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">invert_flags</span></span></span><a class="headerlink" href="#_CPPv4N21i2s_std_gpio_config_t12invert_flagsE" title="Permalink to this definition"></a><br /></dt>
<dd><p>GPIO pin invert flags </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv416i2s_std_config_t">
<span id="_CPPv316i2s_std_config_t"></span><span id="_CPPv216i2s_std_config_t"></span><span id="i2s_std_config_t"></span><span class="target" id="structi2s__std__config__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">i2s_std_config_t</span></span></span><a class="headerlink" href="#_CPPv416i2s_std_config_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>I2S standard mode major configuration that including clock/slot/GPIO configuration. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N16i2s_std_config_t7clk_cfgE">
<span id="_CPPv3N16i2s_std_config_t7clk_cfgE"></span><span id="_CPPv2N16i2s_std_config_t7clk_cfgE"></span><span id="i2s_std_config_t::clk_cfg__i2s_std_clk_config_t"></span><span class="target" id="structi2s__std__config__t_1ac3a4aa43177846352a7d2a5d1a807a93"></span><a class="reference internal" href="#_CPPv420i2s_std_clk_config_t" title="i2s_std_clk_config_t"><span class="n"><span class="pre">i2s_std_clk_config_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">clk_cfg</span></span></span><a class="headerlink" href="#_CPPv4N16i2s_std_config_t7clk_cfgE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Standard mode clock configuration, can be generated by macro I2S_STD_CLK_DEFAULT_CONFIG </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N16i2s_std_config_t8slot_cfgE">
<span id="_CPPv3N16i2s_std_config_t8slot_cfgE"></span><span id="_CPPv2N16i2s_std_config_t8slot_cfgE"></span><span id="i2s_std_config_t::slot_cfg__i2s_std_slot_config_t"></span><span class="target" id="structi2s__std__config__t_1aecedb831844e7a68afc2b4fd7156c5d8"></span><a class="reference internal" href="#_CPPv421i2s_std_slot_config_t" title="i2s_std_slot_config_t"><span class="n"><span class="pre">i2s_std_slot_config_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">slot_cfg</span></span></span><a class="headerlink" href="#_CPPv4N16i2s_std_config_t8slot_cfgE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Standard mode slot configuration, can be generated by macros I2S_STD_[mode]_SLOT_DEFAULT_CONFIG, [mode] can be replaced with PHILIPS/MSB/PCM </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N16i2s_std_config_t8gpio_cfgE">
<span id="_CPPv3N16i2s_std_config_t8gpio_cfgE"></span><span id="_CPPv2N16i2s_std_config_t8gpio_cfgE"></span><span id="i2s_std_config_t::gpio_cfg__i2s_std_gpio_config_t"></span><span class="target" id="structi2s__std__config__t_1aa2c23e4297314aa57a1d03ff2c670eb6"></span><a class="reference internal" href="#_CPPv421i2s_std_gpio_config_t" title="i2s_std_gpio_config_t"><span class="n"><span class="pre">i2s_std_gpio_config_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">gpio_cfg</span></span></span><a class="headerlink" href="#_CPPv4N16i2s_std_config_t8gpio_cfgE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Standard mode GPIO configuration, specified by user </p>
</dd></dl>

</div>
</dd></dl>

</section>
<section id="macros">
<h3>Macros<a class="headerlink" href="#macros" title="Permalink to this heading"></a></h3>
<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.I2S_STD_PHILIPS_SLOT_DEFAULT_CONFIG">
<span class="target" id="i2s__std_8h_1a3b3d1497965c308dbaa329b79712edb1"></span><span class="sig-name descname"><span class="n"><span class="pre">I2S_STD_PHILIPS_SLOT_DEFAULT_CONFIG</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">bits_per_sample</span></span>, <span class="n"><span class="pre">mono_or_stereo</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.I2S_STD_PHILIPS_SLOT_DEFAULT_CONFIG" title="Permalink to this definition"></a><br /></dt>
<dd><p>Philips format in 2 slots. </p>
<p>This file is specified for I2S standard communication mode Features:<ul class="simple">
<li><p>Philips/MSB/PCM are supported in standard mode</p></li>
<li><p>Fixed to 2 slots </p></li>
</ul>
</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bits_per_sample</strong> -- I2S data bit width </p></li>
<li><p><strong>mono_or_stereo</strong> -- I2S_SLOT_MODE_MONO or I2S_SLOT_MODE_STEREO </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.I2S_STD_PCM_SLOT_DEFAULT_CONFIG">
<span class="target" id="i2s__std_8h_1af711da0b75c1b87c815a2cc09e7a5cfc"></span><span class="sig-name descname"><span class="n"><span class="pre">I2S_STD_PCM_SLOT_DEFAULT_CONFIG</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">bits_per_sample</span></span>, <span class="n"><span class="pre">mono_or_stereo</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.I2S_STD_PCM_SLOT_DEFAULT_CONFIG" title="Permalink to this definition"></a><br /></dt>
<dd><p>PCM(short) format in 2 slots. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>PCM(long) is same as Philips in 2 slots </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bits_per_sample</strong> -- I2S data bit width </p></li>
<li><p><strong>mono_or_stereo</strong> -- I2S_SLOT_MODE_MONO or I2S_SLOT_MODE_STEREO </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.I2S_STD_MSB_SLOT_DEFAULT_CONFIG">
<span class="target" id="i2s__std_8h_1a268dccfdd1d0720c374122bbbd8c334b"></span><span class="sig-name descname"><span class="n"><span class="pre">I2S_STD_MSB_SLOT_DEFAULT_CONFIG</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">bits_per_sample</span></span>, <span class="n"><span class="pre">mono_or_stereo</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.I2S_STD_MSB_SLOT_DEFAULT_CONFIG" title="Permalink to this definition"></a><br /></dt>
<dd><p>MSB format in 2 slots. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bits_per_sample</strong> -- I2S data bit width </p></li>
<li><p><strong>mono_or_stereo</strong> -- I2S_SLOT_MODE_MONO or I2S_SLOT_MODE_STEREO </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.I2S_STD_CLK_DEFAULT_CONFIG">
<span class="target" id="i2s__std_8h_1a2b2a121e5270e7c3d93665794ad084cb"></span><span class="sig-name descname"><span class="n"><span class="pre">I2S_STD_CLK_DEFAULT_CONFIG</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">rate</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.I2S_STD_CLK_DEFAULT_CONFIG" title="Permalink to this definition"></a><br /></dt>
<dd><p>I2S default standard clock configuration. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Please set the mclk_multiple to I2S_MCLK_MULTIPLE_384 while using 24 bits data width Otherwise the sample rate might be imprecise since the BCLK division is not a integer </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rate</strong> -- sample rate </p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="pdm-mode">
<span id="i2s-api-reference-i2s-pdm"></span><h3>PDM Mode<a class="headerlink" href="#pdm-mode" title="Permalink to this heading"></a></h3>
</section>
<section id="id3">
<h3>Header File<a class="headerlink" href="#id3" title="Permalink to this heading"></a></h3>
<ul>
<li><p><a class="reference external" href="https://github.com/espressif/esp-idf/blob/v5.4.2/components/esp_driver_i2s/include/driver/i2s_pdm.h">components/esp_driver_i2s/include/driver/i2s_pdm.h</a></p></li>
<li><p>This header file can be included with:</p>
<blockquote>
<div><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;driver/i2s_pdm.h&quot;</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>This header file is a part of the API provided by the <code class="docutils literal notranslate"><span class="pre">esp_driver_i2s</span></code> component. To declare that your component depends on <code class="docutils literal notranslate"><span class="pre">esp_driver_i2s</span></code>, add the following to your CMakeLists.txt:</p>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>REQUIRES esp_driver_i2s
</pre></div>
</div>
<p>or</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>PRIV_REQUIRES esp_driver_i2s
</pre></div>
</div>
</div></blockquote>
</li>
</ul>
</section>
<section id="id4">
<h3>Functions<a class="headerlink" href="#id4" title="Permalink to this heading"></a></h3>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv428i2s_channel_init_pdm_rx_mode17i2s_chan_handle_tPK19i2s_pdm_rx_config_t">
<span id="_CPPv328i2s_channel_init_pdm_rx_mode17i2s_chan_handle_tPK19i2s_pdm_rx_config_t"></span><span id="_CPPv228i2s_channel_init_pdm_rx_mode17i2s_chan_handle_tPK19i2s_pdm_rx_config_t"></span><span id="i2s_channel_init_pdm_rx_mode__i2s_chan_handle_t.i2s_pdm_rx_config_tCP"></span><span class="target" id="i2s__pdm_8h_1a21f1dbf33313bc17de29e3915a4cea77"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">i2s_channel_init_pdm_rx_mode</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv417i2s_chan_handle_t" title="i2s_chan_handle_t"><span class="n"><span class="pre">i2s_chan_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">handle</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv419i2s_pdm_rx_config_t" title="i2s_pdm_rx_config_t"><span class="n"><span class="pre">i2s_pdm_rx_config_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">pdm_rx_cfg</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv428i2s_channel_init_pdm_rx_mode17i2s_chan_handle_tPK19i2s_pdm_rx_config_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Initialize I2S channel to PDM RX mode. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Only allowed to be called when the channel state is REGISTERED, (i.e., channel has been allocated, but not initialized) and the state will be updated to READY if initialization success, otherwise the state will return to REGISTERED.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>handle</strong> -- <strong>[in]</strong> I2S RX channel handler </p></li>
<li><p><strong>pdm_rx_cfg</strong> -- <strong>[in]</strong> Configurations for PDM RX mode, including clock, slot and GPIO The clock configuration can be generated by the helper macro <code class="docutils literal notranslate"><span class="pre">I2S_PDM_RX_CLK_DEFAULT_CONFIG</span></code> The slot configuration can be generated by the helper macro <code class="docutils literal notranslate"><span class="pre">I2S_PDM_RX_SLOT_DEFAULT_CONFIG</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK Initialize successfully</p></li>
<li><p>ESP_ERR_NO_MEM No memory for storing the channel information</p></li>
<li><p>ESP_ERR_INVALID_ARG NULL pointer or invalid configuration</p></li>
<li><p>ESP_ERR_INVALID_STATE This channel is not registered </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv433i2s_channel_reconfig_pdm_rx_clock17i2s_chan_handle_tPK23i2s_pdm_rx_clk_config_t">
<span id="_CPPv333i2s_channel_reconfig_pdm_rx_clock17i2s_chan_handle_tPK23i2s_pdm_rx_clk_config_t"></span><span id="_CPPv233i2s_channel_reconfig_pdm_rx_clock17i2s_chan_handle_tPK23i2s_pdm_rx_clk_config_t"></span><span id="i2s_channel_reconfig_pdm_rx_clock__i2s_chan_handle_t.i2s_pdm_rx_clk_config_tCP"></span><span class="target" id="i2s__pdm_8h_1a6c45a426bae3b00f6895daaf4a697b9f"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">i2s_channel_reconfig_pdm_rx_clock</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv417i2s_chan_handle_t" title="i2s_chan_handle_t"><span class="n"><span class="pre">i2s_chan_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">handle</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv423i2s_pdm_rx_clk_config_t" title="i2s_pdm_rx_clk_config_t"><span class="n"><span class="pre">i2s_pdm_rx_clk_config_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">clk_cfg</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv433i2s_channel_reconfig_pdm_rx_clock17i2s_chan_handle_tPK23i2s_pdm_rx_clk_config_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Reconfigure the I2S clock for PDM RX mode. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Only allowed to be called when the channel state is READY, i.e., channel has been initialized, but not started this function won't change the state. <code class="docutils literal notranslate"><span class="pre">i2s_channel_disable</span></code> should be called before calling this function if I2S has started. </p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The input channel handle has to be initialized to PDM RX mode, i.e., <code class="docutils literal notranslate"><span class="pre">i2s_channel_init_pdm_rx_mode</span></code> has been called before reconfiguring</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>handle</strong> -- <strong>[in]</strong> I2S RX channel handler </p></li>
<li><p><strong>clk_cfg</strong> -- <strong>[in]</strong> PDM RX mode clock configuration, can be generated by <code class="docutils literal notranslate"><span class="pre">I2S_PDM_RX_CLK_DEFAULT_CONFIG</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK Set clock successfully</p></li>
<li><p>ESP_ERR_INVALID_ARG NULL pointer, invalid configuration or not PDM mode</p></li>
<li><p>ESP_ERR_INVALID_STATE This channel is not initialized or not stopped </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv432i2s_channel_reconfig_pdm_rx_slot17i2s_chan_handle_tPK24i2s_pdm_rx_slot_config_t">
<span id="_CPPv332i2s_channel_reconfig_pdm_rx_slot17i2s_chan_handle_tPK24i2s_pdm_rx_slot_config_t"></span><span id="_CPPv232i2s_channel_reconfig_pdm_rx_slot17i2s_chan_handle_tPK24i2s_pdm_rx_slot_config_t"></span><span id="i2s_channel_reconfig_pdm_rx_slot__i2s_chan_handle_t.i2s_pdm_rx_slot_config_tCP"></span><span class="target" id="i2s__pdm_8h_1a41f5dca6e6d68df2d6731a34405d9330"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">i2s_channel_reconfig_pdm_rx_slot</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv417i2s_chan_handle_t" title="i2s_chan_handle_t"><span class="n"><span class="pre">i2s_chan_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">handle</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv424i2s_pdm_rx_slot_config_t" title="i2s_pdm_rx_slot_config_t"><span class="n"><span class="pre">i2s_pdm_rx_slot_config_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">slot_cfg</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv432i2s_channel_reconfig_pdm_rx_slot17i2s_chan_handle_tPK24i2s_pdm_rx_slot_config_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Reconfigure the I2S slot for PDM RX mode. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Only allowed to be called when the channel state is READY, i.e., channel has been initialized, but not started this function won't change the state. <code class="docutils literal notranslate"><span class="pre">i2s_channel_disable</span></code> should be called before calling this function if I2S has started. </p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The input channel handle has to be initialized to PDM RX mode, i.e., <code class="docutils literal notranslate"><span class="pre">i2s_channel_init_pdm_rx_mode</span></code> has been called before reconfiguring</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>handle</strong> -- <strong>[in]</strong> I2S RX channel handler </p></li>
<li><p><strong>slot_cfg</strong> -- <strong>[in]</strong> PDM RX mode slot configuration, can be generated by <code class="docutils literal notranslate"><span class="pre">I2S_PDM_RX_SLOT_DEFAULT_CONFIG</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK Set clock successfully</p></li>
<li><p>ESP_ERR_NO_MEM No memory for DMA buffer</p></li>
<li><p>ESP_ERR_INVALID_ARG NULL pointer, invalid configuration or not PDM mode</p></li>
<li><p>ESP_ERR_INVALID_STATE This channel is not initialized or not stopped </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv432i2s_channel_reconfig_pdm_rx_gpio17i2s_chan_handle_tPK24i2s_pdm_rx_gpio_config_t">
<span id="_CPPv332i2s_channel_reconfig_pdm_rx_gpio17i2s_chan_handle_tPK24i2s_pdm_rx_gpio_config_t"></span><span id="_CPPv232i2s_channel_reconfig_pdm_rx_gpio17i2s_chan_handle_tPK24i2s_pdm_rx_gpio_config_t"></span><span id="i2s_channel_reconfig_pdm_rx_gpio__i2s_chan_handle_t.i2s_pdm_rx_gpio_config_tCP"></span><span class="target" id="i2s__pdm_8h_1a2e0b50b452375fd34f8e8b8a7d32e799"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">i2s_channel_reconfig_pdm_rx_gpio</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv417i2s_chan_handle_t" title="i2s_chan_handle_t"><span class="n"><span class="pre">i2s_chan_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">handle</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv424i2s_pdm_rx_gpio_config_t" title="i2s_pdm_rx_gpio_config_t"><span class="n"><span class="pre">i2s_pdm_rx_gpio_config_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">gpio_cfg</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv432i2s_channel_reconfig_pdm_rx_gpio17i2s_chan_handle_tPK24i2s_pdm_rx_gpio_config_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Reconfigure the I2S GPIO for PDM RX mode. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Only allowed to be called when the channel state is READY, i.e., channel has been initialized, but not started this function won't change the state. <code class="docutils literal notranslate"><span class="pre">i2s_channel_disable</span></code> should be called before calling this function if I2S has started. </p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The input channel handle has to be initialized to PDM RX mode, i.e., <code class="docutils literal notranslate"><span class="pre">i2s_channel_init_pdm_rx_mode</span></code> has been called before reconfiguring</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>handle</strong> -- <strong>[in]</strong> I2S RX channel handler </p></li>
<li><p><strong>gpio_cfg</strong> -- <strong>[in]</strong> PDM RX mode GPIO configuration, specified by user </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK Set clock successfully</p></li>
<li><p>ESP_ERR_INVALID_ARG NULL pointer, invalid configuration or not PDM mode</p></li>
<li><p>ESP_ERR_INVALID_STATE This channel is not initialized or not stopped </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv428i2s_channel_init_pdm_tx_mode17i2s_chan_handle_tPK19i2s_pdm_tx_config_t">
<span id="_CPPv328i2s_channel_init_pdm_tx_mode17i2s_chan_handle_tPK19i2s_pdm_tx_config_t"></span><span id="_CPPv228i2s_channel_init_pdm_tx_mode17i2s_chan_handle_tPK19i2s_pdm_tx_config_t"></span><span id="i2s_channel_init_pdm_tx_mode__i2s_chan_handle_t.i2s_pdm_tx_config_tCP"></span><span class="target" id="i2s__pdm_8h_1a6ff6a22316eb3528174130383ae755ae"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">i2s_channel_init_pdm_tx_mode</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv417i2s_chan_handle_t" title="i2s_chan_handle_t"><span class="n"><span class="pre">i2s_chan_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">handle</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv419i2s_pdm_tx_config_t" title="i2s_pdm_tx_config_t"><span class="n"><span class="pre">i2s_pdm_tx_config_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">pdm_tx_cfg</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv428i2s_channel_init_pdm_tx_mode17i2s_chan_handle_tPK19i2s_pdm_tx_config_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Initialize I2S channel to PDM TX mode. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Only allowed to be called when the channel state is REGISTERED, (i.e., channel has been allocated, but not initialized) and the state will be updated to READY if initialization success, otherwise the state will return to REGISTERED.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>handle</strong> -- <strong>[in]</strong> I2S TX channel handler </p></li>
<li><p><strong>pdm_tx_cfg</strong> -- <strong>[in]</strong> Configurations for PDM TX mode, including clock, slot and GPIO The clock configuration can be generated by the helper macro <code class="docutils literal notranslate"><span class="pre">I2S_PDM_TX_CLK_DEFAULT_CONFIG</span></code> The slot configuration can be generated by the helper macro <code class="docutils literal notranslate"><span class="pre">I2S_PDM_TX_SLOT_DEFAULT_CONFIG</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK Initialize successfully</p></li>
<li><p>ESP_ERR_NO_MEM No memory for storing the channel information</p></li>
<li><p>ESP_ERR_INVALID_ARG NULL pointer or invalid configuration</p></li>
<li><p>ESP_ERR_INVALID_STATE This channel is not registered </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv433i2s_channel_reconfig_pdm_tx_clock17i2s_chan_handle_tPK23i2s_pdm_tx_clk_config_t">
<span id="_CPPv333i2s_channel_reconfig_pdm_tx_clock17i2s_chan_handle_tPK23i2s_pdm_tx_clk_config_t"></span><span id="_CPPv233i2s_channel_reconfig_pdm_tx_clock17i2s_chan_handle_tPK23i2s_pdm_tx_clk_config_t"></span><span id="i2s_channel_reconfig_pdm_tx_clock__i2s_chan_handle_t.i2s_pdm_tx_clk_config_tCP"></span><span class="target" id="i2s__pdm_8h_1aeb834e06ab9088c6f4aa4eff2a97ee81"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">i2s_channel_reconfig_pdm_tx_clock</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv417i2s_chan_handle_t" title="i2s_chan_handle_t"><span class="n"><span class="pre">i2s_chan_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">handle</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv423i2s_pdm_tx_clk_config_t" title="i2s_pdm_tx_clk_config_t"><span class="n"><span class="pre">i2s_pdm_tx_clk_config_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">clk_cfg</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv433i2s_channel_reconfig_pdm_tx_clock17i2s_chan_handle_tPK23i2s_pdm_tx_clk_config_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Reconfigure the I2S clock for PDM TX mode. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Only allowed to be called when the channel state is READY, i.e., channel has been initialized, but not started this function won't change the state. <code class="docutils literal notranslate"><span class="pre">i2s_channel_disable</span></code> should be called before calling this function if I2S has started. </p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The input channel handle has to be initialized to PDM TX mode, i.e., <code class="docutils literal notranslate"><span class="pre">i2s_channel_init_pdm_tx_mode</span></code> has been called before reconfiguring</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>handle</strong> -- <strong>[in]</strong> I2S TX channel handler </p></li>
<li><p><strong>clk_cfg</strong> -- <strong>[in]</strong> PDM TX mode clock configuration, can be generated by <code class="docutils literal notranslate"><span class="pre">I2S_PDM_TX_CLK_DEFAULT_CONFIG</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK Set clock successfully</p></li>
<li><p>ESP_ERR_INVALID_ARG NULL pointer, invalid configuration or not PDM mode</p></li>
<li><p>ESP_ERR_INVALID_STATE This channel is not initialized or not stopped </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv432i2s_channel_reconfig_pdm_tx_slot17i2s_chan_handle_tPK24i2s_pdm_tx_slot_config_t">
<span id="_CPPv332i2s_channel_reconfig_pdm_tx_slot17i2s_chan_handle_tPK24i2s_pdm_tx_slot_config_t"></span><span id="_CPPv232i2s_channel_reconfig_pdm_tx_slot17i2s_chan_handle_tPK24i2s_pdm_tx_slot_config_t"></span><span id="i2s_channel_reconfig_pdm_tx_slot__i2s_chan_handle_t.i2s_pdm_tx_slot_config_tCP"></span><span class="target" id="i2s__pdm_8h_1a70b0859842c234722be1be8ceaf6a923"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">i2s_channel_reconfig_pdm_tx_slot</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv417i2s_chan_handle_t" title="i2s_chan_handle_t"><span class="n"><span class="pre">i2s_chan_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">handle</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv424i2s_pdm_tx_slot_config_t" title="i2s_pdm_tx_slot_config_t"><span class="n"><span class="pre">i2s_pdm_tx_slot_config_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">slot_cfg</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv432i2s_channel_reconfig_pdm_tx_slot17i2s_chan_handle_tPK24i2s_pdm_tx_slot_config_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Reconfigure the I2S slot for PDM TX mode. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Only allowed to be called when the channel state is READY, i.e., channel has been initialized, but not started this function won't change the state. <code class="docutils literal notranslate"><span class="pre">i2s_channel_disable</span></code> should be called before calling this function if I2S has started. </p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The input channel handle has to be initialized to PDM TX mode, i.e., <code class="docutils literal notranslate"><span class="pre">i2s_channel_init_pdm_tx_mode</span></code> has been called before reconfiguring</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>handle</strong> -- <strong>[in]</strong> I2S TX channel handler </p></li>
<li><p><strong>slot_cfg</strong> -- <strong>[in]</strong> PDM TX mode slot configuration, can be generated by <code class="docutils literal notranslate"><span class="pre">I2S_PDM_TX_SLOT_DEFAULT_CONFIG</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK Set clock successfully</p></li>
<li><p>ESP_ERR_NO_MEM No memory for DMA buffer</p></li>
<li><p>ESP_ERR_INVALID_ARG NULL pointer, invalid configuration or not PDM mode</p></li>
<li><p>ESP_ERR_INVALID_STATE This channel is not initialized or not stopped </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv432i2s_channel_reconfig_pdm_tx_gpio17i2s_chan_handle_tPK24i2s_pdm_tx_gpio_config_t">
<span id="_CPPv332i2s_channel_reconfig_pdm_tx_gpio17i2s_chan_handle_tPK24i2s_pdm_tx_gpio_config_t"></span><span id="_CPPv232i2s_channel_reconfig_pdm_tx_gpio17i2s_chan_handle_tPK24i2s_pdm_tx_gpio_config_t"></span><span id="i2s_channel_reconfig_pdm_tx_gpio__i2s_chan_handle_t.i2s_pdm_tx_gpio_config_tCP"></span><span class="target" id="i2s__pdm_8h_1ab225de56f08aa38b56b113d0f5fd7ef4"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">i2s_channel_reconfig_pdm_tx_gpio</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv417i2s_chan_handle_t" title="i2s_chan_handle_t"><span class="n"><span class="pre">i2s_chan_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">handle</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv424i2s_pdm_tx_gpio_config_t" title="i2s_pdm_tx_gpio_config_t"><span class="n"><span class="pre">i2s_pdm_tx_gpio_config_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">gpio_cfg</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv432i2s_channel_reconfig_pdm_tx_gpio17i2s_chan_handle_tPK24i2s_pdm_tx_gpio_config_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Reconfigure the I2S GPIO for PDM TX mode. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Only allowed to be called when the channel state is READY, i.e., channel has been initialized, but not started this function won't change the state. <code class="docutils literal notranslate"><span class="pre">i2s_channel_disable</span></code> should be called before calling this function if I2S has started. </p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The input channel handle has to be initialized to PDM TX mode, i.e., <code class="docutils literal notranslate"><span class="pre">i2s_channel_init_pdm_tx_mode</span></code> has been called before reconfiguring</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>handle</strong> -- <strong>[in]</strong> I2S TX channel handler </p></li>
<li><p><strong>gpio_cfg</strong> -- <strong>[in]</strong> PDM TX mode GPIO configuration, specified by user </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK Set clock successfully</p></li>
<li><p>ESP_ERR_INVALID_ARG NULL pointer, invalid configuration or not PDM mode</p></li>
<li><p>ESP_ERR_INVALID_STATE This channel is not initialized or not stopped </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="id5">
<h3>Structures<a class="headerlink" href="#id5" title="Permalink to this heading"></a></h3>
<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv424i2s_pdm_rx_slot_config_t">
<span id="_CPPv324i2s_pdm_rx_slot_config_t"></span><span id="_CPPv224i2s_pdm_rx_slot_config_t"></span><span id="i2s_pdm_rx_slot_config_t"></span><span class="target" id="structi2s__pdm__rx__slot__config__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">i2s_pdm_rx_slot_config_t</span></span></span><a class="headerlink" href="#_CPPv424i2s_pdm_rx_slot_config_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>I2S slot configuration for PDM RX mode. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24i2s_pdm_rx_slot_config_t14data_bit_widthE">
<span id="_CPPv3N24i2s_pdm_rx_slot_config_t14data_bit_widthE"></span><span id="_CPPv2N24i2s_pdm_rx_slot_config_t14data_bit_widthE"></span><span id="i2s_pdm_rx_slot_config_t::data_bit_width__i2s_data_bit_width_t"></span><span class="target" id="structi2s__pdm__rx__slot__config__t_1ab23db747a6027189a139fd32145e040b"></span><a class="reference internal" href="#_CPPv420i2s_data_bit_width_t" title="i2s_data_bit_width_t"><span class="n"><span class="pre">i2s_data_bit_width_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">data_bit_width</span></span></span><a class="headerlink" href="#_CPPv4N24i2s_pdm_rx_slot_config_t14data_bit_widthE" title="Permalink to this definition"></a><br /></dt>
<dd><p>I2S sample data bit width (valid data bits per sample), only support 16 bits for PDM mode </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24i2s_pdm_rx_slot_config_t14slot_bit_widthE">
<span id="_CPPv3N24i2s_pdm_rx_slot_config_t14slot_bit_widthE"></span><span id="_CPPv2N24i2s_pdm_rx_slot_config_t14slot_bit_widthE"></span><span id="i2s_pdm_rx_slot_config_t::slot_bit_width__i2s_slot_bit_width_t"></span><span class="target" id="structi2s__pdm__rx__slot__config__t_1a0655ac2e8fb8f9d6e6b8ef3a456275f9"></span><a class="reference internal" href="#_CPPv420i2s_slot_bit_width_t" title="i2s_slot_bit_width_t"><span class="n"><span class="pre">i2s_slot_bit_width_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">slot_bit_width</span></span></span><a class="headerlink" href="#_CPPv4N24i2s_pdm_rx_slot_config_t14slot_bit_widthE" title="Permalink to this definition"></a><br /></dt>
<dd><p>I2S slot bit width (total bits per slot) , only support 16 bits for PDM mode </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24i2s_pdm_rx_slot_config_t9slot_modeE">
<span id="_CPPv3N24i2s_pdm_rx_slot_config_t9slot_modeE"></span><span id="_CPPv2N24i2s_pdm_rx_slot_config_t9slot_modeE"></span><span id="i2s_pdm_rx_slot_config_t::slot_mode__i2s_slot_mode_t"></span><span class="target" id="structi2s__pdm__rx__slot__config__t_1a42a4c0507a907364f730ceff761c04bd"></span><a class="reference internal" href="#_CPPv415i2s_slot_mode_t" title="i2s_slot_mode_t"><span class="n"><span class="pre">i2s_slot_mode_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">slot_mode</span></span></span><a class="headerlink" href="#_CPPv4N24i2s_pdm_rx_slot_config_t9slot_modeE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Set mono or stereo mode with I2S_SLOT_MODE_MONO or I2S_SLOT_MODE_STEREO </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24i2s_pdm_rx_slot_config_t9slot_maskE">
<span id="_CPPv3N24i2s_pdm_rx_slot_config_t9slot_maskE"></span><span id="_CPPv2N24i2s_pdm_rx_slot_config_t9slot_maskE"></span><span id="i2s_pdm_rx_slot_config_t::slot_mask__i2s_pdm_slot_mask_t"></span><span class="target" id="structi2s__pdm__rx__slot__config__t_1a344c788d83d7e12f5f92dbe42e98a974"></span><a class="reference internal" href="#_CPPv419i2s_pdm_slot_mask_t" title="i2s_pdm_slot_mask_t"><span class="n"><span class="pre">i2s_pdm_slot_mask_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">slot_mask</span></span></span><a class="headerlink" href="#_CPPv4N24i2s_pdm_rx_slot_config_t9slot_maskE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Choose the slots to activate </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv423i2s_pdm_rx_clk_config_t">
<span id="_CPPv323i2s_pdm_rx_clk_config_t"></span><span id="_CPPv223i2s_pdm_rx_clk_config_t"></span><span id="i2s_pdm_rx_clk_config_t"></span><span class="target" id="structi2s__pdm__rx__clk__config__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">i2s_pdm_rx_clk_config_t</span></span></span><a class="headerlink" href="#_CPPv423i2s_pdm_rx_clk_config_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>I2S clock configuration for PDM RX mode. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N23i2s_pdm_rx_clk_config_t14sample_rate_hzE">
<span id="_CPPv3N23i2s_pdm_rx_clk_config_t14sample_rate_hzE"></span><span id="_CPPv2N23i2s_pdm_rx_clk_config_t14sample_rate_hzE"></span><span id="i2s_pdm_rx_clk_config_t::sample_rate_hz__uint32_t"></span><span class="target" id="structi2s__pdm__rx__clk__config__t_1aa201f8f6cbf297bcce5a286ed83465a5"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">sample_rate_hz</span></span></span><a class="headerlink" href="#_CPPv4N23i2s_pdm_rx_clk_config_t14sample_rate_hzE" title="Permalink to this definition"></a><br /></dt>
<dd><p>I2S sample rate </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N23i2s_pdm_rx_clk_config_t7clk_srcE">
<span id="_CPPv3N23i2s_pdm_rx_clk_config_t7clk_srcE"></span><span id="_CPPv2N23i2s_pdm_rx_clk_config_t7clk_srcE"></span><span id="i2s_pdm_rx_clk_config_t::clk_src__i2s_clock_src_t"></span><span class="target" id="structi2s__pdm__rx__clk__config__t_1a7160d5a35c2ea0bd1e4fa92db4999bc7"></span><a class="reference internal" href="#_CPPv415i2s_clock_src_t" title="i2s_clock_src_t"><span class="n"><span class="pre">i2s_clock_src_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">clk_src</span></span></span><a class="headerlink" href="#_CPPv4N23i2s_pdm_rx_clk_config_t7clk_srcE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Choose clock source </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N23i2s_pdm_rx_clk_config_t13mclk_multipleE">
<span id="_CPPv3N23i2s_pdm_rx_clk_config_t13mclk_multipleE"></span><span id="_CPPv2N23i2s_pdm_rx_clk_config_t13mclk_multipleE"></span><span id="i2s_pdm_rx_clk_config_t::mclk_multiple__i2s_mclk_multiple_t"></span><span class="target" id="structi2s__pdm__rx__clk__config__t_1a53fbc3e5a2364d66ad1322d2ee665a2b"></span><a class="reference internal" href="#_CPPv419i2s_mclk_multiple_t" title="i2s_mclk_multiple_t"><span class="n"><span class="pre">i2s_mclk_multiple_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mclk_multiple</span></span></span><a class="headerlink" href="#_CPPv4N23i2s_pdm_rx_clk_config_t13mclk_multipleE" title="Permalink to this definition"></a><br /></dt>
<dd><p>The multiple of MCLK to the sample rate </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N23i2s_pdm_rx_clk_config_t14dn_sample_modeE">
<span id="_CPPv3N23i2s_pdm_rx_clk_config_t14dn_sample_modeE"></span><span id="_CPPv2N23i2s_pdm_rx_clk_config_t14dn_sample_modeE"></span><span id="i2s_pdm_rx_clk_config_t::dn_sample_mode__i2s_pdm_dsr_t"></span><span class="target" id="structi2s__pdm__rx__clk__config__t_1a9f9c14b1e6ca1eb5e9b529436cf29048"></span><a class="reference internal" href="#_CPPv413i2s_pdm_dsr_t" title="i2s_pdm_dsr_t"><span class="n"><span class="pre">i2s_pdm_dsr_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">dn_sample_mode</span></span></span><a class="headerlink" href="#_CPPv4N23i2s_pdm_rx_clk_config_t14dn_sample_modeE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Down-sampling rate mode </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N23i2s_pdm_rx_clk_config_t8bclk_divE">
<span id="_CPPv3N23i2s_pdm_rx_clk_config_t8bclk_divE"></span><span id="_CPPv2N23i2s_pdm_rx_clk_config_t8bclk_divE"></span><span id="i2s_pdm_rx_clk_config_t::bclk_div__uint32_t"></span><span class="target" id="structi2s__pdm__rx__clk__config__t_1a25ad29a0d606840175704c0029ff59ca"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">bclk_div</span></span></span><a class="headerlink" href="#_CPPv4N23i2s_pdm_rx_clk_config_t8bclk_divE" title="Permalink to this definition"></a><br /></dt>
<dd><p>The division from MCLK to BCLK. The typical and minimum value is I2S_PDM_RX_BCLK_DIV_MIN. It will be set to I2S_PDM_RX_BCLK_DIV_MIN by default if it is smaller than I2S_PDM_RX_BCLK_DIV_MIN </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv424i2s_pdm_rx_gpio_config_t">
<span id="_CPPv324i2s_pdm_rx_gpio_config_t"></span><span id="_CPPv224i2s_pdm_rx_gpio_config_t"></span><span id="i2s_pdm_rx_gpio_config_t"></span><span class="target" id="structi2s__pdm__rx__gpio__config__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">i2s_pdm_rx_gpio_config_t</span></span></span><a class="headerlink" href="#_CPPv424i2s_pdm_rx_gpio_config_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>I2S PDM TX mode GPIO pins configuration. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24i2s_pdm_rx_gpio_config_t3clkE">
<span id="_CPPv3N24i2s_pdm_rx_gpio_config_t3clkE"></span><span id="_CPPv2N24i2s_pdm_rx_gpio_config_t3clkE"></span><span id="i2s_pdm_rx_gpio_config_t::clk__gpio_num_t"></span><span class="target" id="structi2s__pdm__rx__gpio__config__t_1aa846e221ba041e81619634baf4b7e9e6"></span><span class="n"><span class="pre">gpio_num_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">clk</span></span></span><a class="headerlink" href="#_CPPv4N24i2s_pdm_rx_gpio_config_t3clkE" title="Permalink to this definition"></a><br /></dt>
<dd><p>PDM clk pin, output </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24i2s_pdm_rx_gpio_config_t3dinE">
<span id="_CPPv3N24i2s_pdm_rx_gpio_config_t3dinE"></span><span id="_CPPv2N24i2s_pdm_rx_gpio_config_t3dinE"></span><span id="i2s_pdm_rx_gpio_config_t::din__gpio_num_t"></span><span class="target" id="structi2s__pdm__rx__gpio__config__t_1ae401f0dd01da98254be42b46fbc48801"></span><span class="n"><span class="pre">gpio_num_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">din</span></span></span><a class="headerlink" href="#_CPPv4N24i2s_pdm_rx_gpio_config_t3dinE" title="Permalink to this definition"></a><br /></dt>
<dd><p>DATA pin 0, input </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24i2s_pdm_rx_gpio_config_t4dinsE">
<span id="_CPPv3N24i2s_pdm_rx_gpio_config_t4dinsE"></span><span id="_CPPv2N24i2s_pdm_rx_gpio_config_t4dinsE"></span><span id="i2s_pdm_rx_gpio_config_t::dins__gpio_num_tA"></span><span class="target" id="structi2s__pdm__rx__gpio__config__t_1aebcff52d6da524ee5fca4c4fccfaf055"></span><span class="n"><span class="pre">gpio_num_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">dins</span></span></span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">(</span></span><span class="m"><span class="pre">1U</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">]</span></span><a class="headerlink" href="#_CPPv4N24i2s_pdm_rx_gpio_config_t4dinsE" title="Permalink to this definition"></a><br /></dt>
<dd><p>DATA pins, input, only take effect when corresponding I2S_PDM_RX_LINEx_SLOT_xxx is enabled in <a class="reference internal" href="#structi2s__pdm__rx__slot__config__t_1a344c788d83d7e12f5f92dbe42e98a974"><span class="std std-ref">i2s_pdm_rx_slot_config_t::slot_mask</span></a></p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24i2s_pdm_rx_gpio_config_t7clk_invE">
<span id="_CPPv3N24i2s_pdm_rx_gpio_config_t7clk_invE"></span><span id="_CPPv2N24i2s_pdm_rx_gpio_config_t7clk_invE"></span><span id="i2s_pdm_rx_gpio_config_t::clk_inv__uint32_t"></span><span class="target" id="structi2s__pdm__rx__gpio__config__t_1af4fc874de7d54657aadeecbba14fe1ae"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">clk_inv</span></span></span><a class="headerlink" href="#_CPPv4N24i2s_pdm_rx_gpio_config_t7clk_invE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Set 1 to invert the clk output </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24i2s_pdm_rx_gpio_config_t12invert_flagsE">
<span id="_CPPv3N24i2s_pdm_rx_gpio_config_t12invert_flagsE"></span><span id="_CPPv2N24i2s_pdm_rx_gpio_config_t12invert_flagsE"></span><span id="i2s_pdm_rx_gpio_config_t::invert_flags__i2s_pdm_rx_gpio_config_t"></span><span class="target" id="structi2s__pdm__rx__gpio__config__t_1a1154e64e26924e52565046a660cfa11a"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv424i2s_pdm_rx_gpio_config_t" title="i2s_pdm_rx_gpio_config_t"><span class="n"><span class="pre">i2s_pdm_rx_gpio_config_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">invert_flags</span></span></span><a class="headerlink" href="#_CPPv4N24i2s_pdm_rx_gpio_config_t12invert_flagsE" title="Permalink to this definition"></a><br /></dt>
<dd><p>GPIO pin invert flags </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv419i2s_pdm_rx_config_t">
<span id="_CPPv319i2s_pdm_rx_config_t"></span><span id="_CPPv219i2s_pdm_rx_config_t"></span><span id="i2s_pdm_rx_config_t"></span><span class="target" id="structi2s__pdm__rx__config__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">i2s_pdm_rx_config_t</span></span></span><a class="headerlink" href="#_CPPv419i2s_pdm_rx_config_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>I2S PDM RX mode major configuration that including clock/slot/GPIO configuration. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N19i2s_pdm_rx_config_t7clk_cfgE">
<span id="_CPPv3N19i2s_pdm_rx_config_t7clk_cfgE"></span><span id="_CPPv2N19i2s_pdm_rx_config_t7clk_cfgE"></span><span id="i2s_pdm_rx_config_t::clk_cfg__i2s_pdm_rx_clk_config_t"></span><span class="target" id="structi2s__pdm__rx__config__t_1ab943bbe004b2936a72618fc1d07f5799"></span><a class="reference internal" href="#_CPPv423i2s_pdm_rx_clk_config_t" title="i2s_pdm_rx_clk_config_t"><span class="n"><span class="pre">i2s_pdm_rx_clk_config_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">clk_cfg</span></span></span><a class="headerlink" href="#_CPPv4N19i2s_pdm_rx_config_t7clk_cfgE" title="Permalink to this definition"></a><br /></dt>
<dd><p>PDM RX clock configurations, can be generated by macro I2S_PDM_RX_CLK_DEFAULT_CONFIG </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N19i2s_pdm_rx_config_t8slot_cfgE">
<span id="_CPPv3N19i2s_pdm_rx_config_t8slot_cfgE"></span><span id="_CPPv2N19i2s_pdm_rx_config_t8slot_cfgE"></span><span id="i2s_pdm_rx_config_t::slot_cfg__i2s_pdm_rx_slot_config_t"></span><span class="target" id="structi2s__pdm__rx__config__t_1a6058e25b2e319b2ea7ffd657b5078b30"></span><a class="reference internal" href="#_CPPv424i2s_pdm_rx_slot_config_t" title="i2s_pdm_rx_slot_config_t"><span class="n"><span class="pre">i2s_pdm_rx_slot_config_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">slot_cfg</span></span></span><a class="headerlink" href="#_CPPv4N19i2s_pdm_rx_config_t8slot_cfgE" title="Permalink to this definition"></a><br /></dt>
<dd><p>PDM RX slot configurations, can be generated by macro I2S_PDM_RX_SLOT_DEFAULT_CONFIG </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N19i2s_pdm_rx_config_t8gpio_cfgE">
<span id="_CPPv3N19i2s_pdm_rx_config_t8gpio_cfgE"></span><span id="_CPPv2N19i2s_pdm_rx_config_t8gpio_cfgE"></span><span id="i2s_pdm_rx_config_t::gpio_cfg__i2s_pdm_rx_gpio_config_t"></span><span class="target" id="structi2s__pdm__rx__config__t_1a9fed9e3a26590cb81386b5dfa0d65bdf"></span><a class="reference internal" href="#_CPPv424i2s_pdm_rx_gpio_config_t" title="i2s_pdm_rx_gpio_config_t"><span class="n"><span class="pre">i2s_pdm_rx_gpio_config_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">gpio_cfg</span></span></span><a class="headerlink" href="#_CPPv4N19i2s_pdm_rx_config_t8gpio_cfgE" title="Permalink to this definition"></a><br /></dt>
<dd><p>PDM RX slot configurations, specified by user </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv424i2s_pdm_tx_slot_config_t">
<span id="_CPPv324i2s_pdm_tx_slot_config_t"></span><span id="_CPPv224i2s_pdm_tx_slot_config_t"></span><span id="i2s_pdm_tx_slot_config_t"></span><span class="target" id="structi2s__pdm__tx__slot__config__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">i2s_pdm_tx_slot_config_t</span></span></span><a class="headerlink" href="#_CPPv424i2s_pdm_tx_slot_config_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>I2S slot configuration for PDM TX mode. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24i2s_pdm_tx_slot_config_t14data_bit_widthE">
<span id="_CPPv3N24i2s_pdm_tx_slot_config_t14data_bit_widthE"></span><span id="_CPPv2N24i2s_pdm_tx_slot_config_t14data_bit_widthE"></span><span id="i2s_pdm_tx_slot_config_t::data_bit_width__i2s_data_bit_width_t"></span><span class="target" id="structi2s__pdm__tx__slot__config__t_1a1518af8b1e5ab85793727402504035d4"></span><a class="reference internal" href="#_CPPv420i2s_data_bit_width_t" title="i2s_data_bit_width_t"><span class="n"><span class="pre">i2s_data_bit_width_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">data_bit_width</span></span></span><a class="headerlink" href="#_CPPv4N24i2s_pdm_tx_slot_config_t14data_bit_widthE" title="Permalink to this definition"></a><br /></dt>
<dd><p>I2S sample data bit width (valid data bits per sample), only support 16 bits for PDM mode </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24i2s_pdm_tx_slot_config_t14slot_bit_widthE">
<span id="_CPPv3N24i2s_pdm_tx_slot_config_t14slot_bit_widthE"></span><span id="_CPPv2N24i2s_pdm_tx_slot_config_t14slot_bit_widthE"></span><span id="i2s_pdm_tx_slot_config_t::slot_bit_width__i2s_slot_bit_width_t"></span><span class="target" id="structi2s__pdm__tx__slot__config__t_1a157c8fd72dca003e2a285131fa61988a"></span><a class="reference internal" href="#_CPPv420i2s_slot_bit_width_t" title="i2s_slot_bit_width_t"><span class="n"><span class="pre">i2s_slot_bit_width_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">slot_bit_width</span></span></span><a class="headerlink" href="#_CPPv4N24i2s_pdm_tx_slot_config_t14slot_bit_widthE" title="Permalink to this definition"></a><br /></dt>
<dd><p>I2S slot bit width (total bits per slot), only support 16 bits for PDM mode </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24i2s_pdm_tx_slot_config_t9slot_modeE">
<span id="_CPPv3N24i2s_pdm_tx_slot_config_t9slot_modeE"></span><span id="_CPPv2N24i2s_pdm_tx_slot_config_t9slot_modeE"></span><span id="i2s_pdm_tx_slot_config_t::slot_mode__i2s_slot_mode_t"></span><span class="target" id="structi2s__pdm__tx__slot__config__t_1a7636c34f415ca8d15cf7a1b11e9f1ab5"></span><a class="reference internal" href="#_CPPv415i2s_slot_mode_t" title="i2s_slot_mode_t"><span class="n"><span class="pre">i2s_slot_mode_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">slot_mode</span></span></span><a class="headerlink" href="#_CPPv4N24i2s_pdm_tx_slot_config_t9slot_modeE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Set mono or stereo mode with I2S_SLOT_MODE_MONO or I2S_SLOT_MODE_STEREO For PDM TX mode, mono means the data buffer only contains one slot data, Stereo means the data buffer contains two slots data </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24i2s_pdm_tx_slot_config_t9slot_maskE">
<span id="_CPPv3N24i2s_pdm_tx_slot_config_t9slot_maskE"></span><span id="_CPPv2N24i2s_pdm_tx_slot_config_t9slot_maskE"></span><span id="i2s_pdm_tx_slot_config_t::slot_mask__i2s_pdm_slot_mask_t"></span><span class="target" id="structi2s__pdm__tx__slot__config__t_1a125568b3ff8470a43569ac59b2a79335"></span><a class="reference internal" href="#_CPPv419i2s_pdm_slot_mask_t" title="i2s_pdm_slot_mask_t"><span class="n"><span class="pre">i2s_pdm_slot_mask_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">slot_mask</span></span></span><a class="headerlink" href="#_CPPv4N24i2s_pdm_tx_slot_config_t9slot_maskE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Slot mask to choose left or right slot </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24i2s_pdm_tx_slot_config_t11sd_prescaleE">
<span id="_CPPv3N24i2s_pdm_tx_slot_config_t11sd_prescaleE"></span><span id="_CPPv2N24i2s_pdm_tx_slot_config_t11sd_prescaleE"></span><span id="i2s_pdm_tx_slot_config_t::sd_prescale__uint32_t"></span><span class="target" id="structi2s__pdm__tx__slot__config__t_1a35c8fb2761b9a6a57d290f15e87888a5"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">sd_prescale</span></span></span><a class="headerlink" href="#_CPPv4N24i2s_pdm_tx_slot_config_t11sd_prescaleE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Sigma-delta filter prescale </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24i2s_pdm_tx_slot_config_t8sd_scaleE">
<span id="_CPPv3N24i2s_pdm_tx_slot_config_t8sd_scaleE"></span><span id="_CPPv2N24i2s_pdm_tx_slot_config_t8sd_scaleE"></span><span id="i2s_pdm_tx_slot_config_t::sd_scale__i2s_pdm_sig_scale_t"></span><span class="target" id="structi2s__pdm__tx__slot__config__t_1a936693a4557cb1044005aded22bb3c6c"></span><a class="reference internal" href="#_CPPv419i2s_pdm_sig_scale_t" title="i2s_pdm_sig_scale_t"><span class="n"><span class="pre">i2s_pdm_sig_scale_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">sd_scale</span></span></span><a class="headerlink" href="#_CPPv4N24i2s_pdm_tx_slot_config_t8sd_scaleE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Sigma-delta filter scaling value </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24i2s_pdm_tx_slot_config_t8hp_scaleE">
<span id="_CPPv3N24i2s_pdm_tx_slot_config_t8hp_scaleE"></span><span id="_CPPv2N24i2s_pdm_tx_slot_config_t8hp_scaleE"></span><span id="i2s_pdm_tx_slot_config_t::hp_scale__i2s_pdm_sig_scale_t"></span><span class="target" id="structi2s__pdm__tx__slot__config__t_1a2f9d4dcd2332627003c78718fc134fe3"></span><a class="reference internal" href="#_CPPv419i2s_pdm_sig_scale_t" title="i2s_pdm_sig_scale_t"><span class="n"><span class="pre">i2s_pdm_sig_scale_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">hp_scale</span></span></span><a class="headerlink" href="#_CPPv4N24i2s_pdm_tx_slot_config_t8hp_scaleE" title="Permalink to this definition"></a><br /></dt>
<dd><p>High pass filter scaling value </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24i2s_pdm_tx_slot_config_t8lp_scaleE">
<span id="_CPPv3N24i2s_pdm_tx_slot_config_t8lp_scaleE"></span><span id="_CPPv2N24i2s_pdm_tx_slot_config_t8lp_scaleE"></span><span id="i2s_pdm_tx_slot_config_t::lp_scale__i2s_pdm_sig_scale_t"></span><span class="target" id="structi2s__pdm__tx__slot__config__t_1a1cf7440717860d21b37b9468ea0917d7"></span><a class="reference internal" href="#_CPPv419i2s_pdm_sig_scale_t" title="i2s_pdm_sig_scale_t"><span class="n"><span class="pre">i2s_pdm_sig_scale_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">lp_scale</span></span></span><a class="headerlink" href="#_CPPv4N24i2s_pdm_tx_slot_config_t8lp_scaleE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Low pass filter scaling value </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24i2s_pdm_tx_slot_config_t10sinc_scaleE">
<span id="_CPPv3N24i2s_pdm_tx_slot_config_t10sinc_scaleE"></span><span id="_CPPv2N24i2s_pdm_tx_slot_config_t10sinc_scaleE"></span><span id="i2s_pdm_tx_slot_config_t::sinc_scale__i2s_pdm_sig_scale_t"></span><span class="target" id="structi2s__pdm__tx__slot__config__t_1a898e4b9b49bb9b9ab83b02b0298be2e4"></span><a class="reference internal" href="#_CPPv419i2s_pdm_sig_scale_t" title="i2s_pdm_sig_scale_t"><span class="n"><span class="pre">i2s_pdm_sig_scale_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">sinc_scale</span></span></span><a class="headerlink" href="#_CPPv4N24i2s_pdm_tx_slot_config_t10sinc_scaleE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Sinc filter scaling value </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv423i2s_pdm_tx_clk_config_t">
<span id="_CPPv323i2s_pdm_tx_clk_config_t"></span><span id="_CPPv223i2s_pdm_tx_clk_config_t"></span><span id="i2s_pdm_tx_clk_config_t"></span><span class="target" id="structi2s__pdm__tx__clk__config__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">i2s_pdm_tx_clk_config_t</span></span></span><a class="headerlink" href="#_CPPv423i2s_pdm_tx_clk_config_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>I2S clock configuration for PDM TX mode. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N23i2s_pdm_tx_clk_config_t14sample_rate_hzE">
<span id="_CPPv3N23i2s_pdm_tx_clk_config_t14sample_rate_hzE"></span><span id="_CPPv2N23i2s_pdm_tx_clk_config_t14sample_rate_hzE"></span><span id="i2s_pdm_tx_clk_config_t::sample_rate_hz__uint32_t"></span><span class="target" id="structi2s__pdm__tx__clk__config__t_1a24ae2069bdb34c898dc3c27f5689bccd"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">sample_rate_hz</span></span></span><a class="headerlink" href="#_CPPv4N23i2s_pdm_tx_clk_config_t14sample_rate_hzE" title="Permalink to this definition"></a><br /></dt>
<dd><p>I2S sample rate, not suggest to exceed 48000 Hz, otherwise more glitches and noise may appear </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N23i2s_pdm_tx_clk_config_t7clk_srcE">
<span id="_CPPv3N23i2s_pdm_tx_clk_config_t7clk_srcE"></span><span id="_CPPv2N23i2s_pdm_tx_clk_config_t7clk_srcE"></span><span id="i2s_pdm_tx_clk_config_t::clk_src__i2s_clock_src_t"></span><span class="target" id="structi2s__pdm__tx__clk__config__t_1ade584f5744f5a345d77a027dd3c8866a"></span><a class="reference internal" href="#_CPPv415i2s_clock_src_t" title="i2s_clock_src_t"><span class="n"><span class="pre">i2s_clock_src_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">clk_src</span></span></span><a class="headerlink" href="#_CPPv4N23i2s_pdm_tx_clk_config_t7clk_srcE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Choose clock source </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N23i2s_pdm_tx_clk_config_t13mclk_multipleE">
<span id="_CPPv3N23i2s_pdm_tx_clk_config_t13mclk_multipleE"></span><span id="_CPPv2N23i2s_pdm_tx_clk_config_t13mclk_multipleE"></span><span id="i2s_pdm_tx_clk_config_t::mclk_multiple__i2s_mclk_multiple_t"></span><span class="target" id="structi2s__pdm__tx__clk__config__t_1a88e40cab4429a3f22e0385444da657c7"></span><a class="reference internal" href="#_CPPv419i2s_mclk_multiple_t" title="i2s_mclk_multiple_t"><span class="n"><span class="pre">i2s_mclk_multiple_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mclk_multiple</span></span></span><a class="headerlink" href="#_CPPv4N23i2s_pdm_tx_clk_config_t13mclk_multipleE" title="Permalink to this definition"></a><br /></dt>
<dd><p>The multiple of MCLK to the sample rate </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N23i2s_pdm_tx_clk_config_t12up_sample_fpE">
<span id="_CPPv3N23i2s_pdm_tx_clk_config_t12up_sample_fpE"></span><span id="_CPPv2N23i2s_pdm_tx_clk_config_t12up_sample_fpE"></span><span id="i2s_pdm_tx_clk_config_t::up_sample_fp__uint32_t"></span><span class="target" id="structi2s__pdm__tx__clk__config__t_1ac355abad7c1b915eb6b434af8555d10f"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">up_sample_fp</span></span></span><a class="headerlink" href="#_CPPv4N23i2s_pdm_tx_clk_config_t12up_sample_fpE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Up-sampling param fp </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N23i2s_pdm_tx_clk_config_t12up_sample_fsE">
<span id="_CPPv3N23i2s_pdm_tx_clk_config_t12up_sample_fsE"></span><span id="_CPPv2N23i2s_pdm_tx_clk_config_t12up_sample_fsE"></span><span id="i2s_pdm_tx_clk_config_t::up_sample_fs__uint32_t"></span><span class="target" id="structi2s__pdm__tx__clk__config__t_1a565ddc84f04aa0ef6207416598e153ca"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">up_sample_fs</span></span></span><a class="headerlink" href="#_CPPv4N23i2s_pdm_tx_clk_config_t12up_sample_fsE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Up-sampling param fs, not allowed to be greater than 480 </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N23i2s_pdm_tx_clk_config_t8bclk_divE">
<span id="_CPPv3N23i2s_pdm_tx_clk_config_t8bclk_divE"></span><span id="_CPPv2N23i2s_pdm_tx_clk_config_t8bclk_divE"></span><span id="i2s_pdm_tx_clk_config_t::bclk_div__uint32_t"></span><span class="target" id="structi2s__pdm__tx__clk__config__t_1aa0383817c731ea580bc26547c9ca4634"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">bclk_div</span></span></span><a class="headerlink" href="#_CPPv4N23i2s_pdm_tx_clk_config_t8bclk_divE" title="Permalink to this definition"></a><br /></dt>
<dd><p>The division from MCLK to BCLK. The minimum value is I2S_PDM_TX_BCLK_DIV_MIN. It will be set to I2S_PDM_TX_BCLK_DIV_MIN by default if it is smaller than I2S_PDM_TX_BCLK_DIV_MIN </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv424i2s_pdm_tx_gpio_config_t">
<span id="_CPPv324i2s_pdm_tx_gpio_config_t"></span><span id="_CPPv224i2s_pdm_tx_gpio_config_t"></span><span id="i2s_pdm_tx_gpio_config_t"></span><span class="target" id="structi2s__pdm__tx__gpio__config__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">i2s_pdm_tx_gpio_config_t</span></span></span><a class="headerlink" href="#_CPPv424i2s_pdm_tx_gpio_config_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>I2S PDM TX mode GPIO pins configuration. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24i2s_pdm_tx_gpio_config_t3clkE">
<span id="_CPPv3N24i2s_pdm_tx_gpio_config_t3clkE"></span><span id="_CPPv2N24i2s_pdm_tx_gpio_config_t3clkE"></span><span id="i2s_pdm_tx_gpio_config_t::clk__gpio_num_t"></span><span class="target" id="structi2s__pdm__tx__gpio__config__t_1a25890849d349d54d450db548050fde27"></span><span class="n"><span class="pre">gpio_num_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">clk</span></span></span><a class="headerlink" href="#_CPPv4N24i2s_pdm_tx_gpio_config_t3clkE" title="Permalink to this definition"></a><br /></dt>
<dd><p>PDM clk pin, output </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24i2s_pdm_tx_gpio_config_t4doutE">
<span id="_CPPv3N24i2s_pdm_tx_gpio_config_t4doutE"></span><span id="_CPPv2N24i2s_pdm_tx_gpio_config_t4doutE"></span><span id="i2s_pdm_tx_gpio_config_t::dout__gpio_num_t"></span><span class="target" id="structi2s__pdm__tx__gpio__config__t_1a0f1f45c87cb7804460a72f64a0ad5731"></span><span class="n"><span class="pre">gpio_num_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">dout</span></span></span><a class="headerlink" href="#_CPPv4N24i2s_pdm_tx_gpio_config_t4doutE" title="Permalink to this definition"></a><br /></dt>
<dd><p>DATA pin, output </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24i2s_pdm_tx_gpio_config_t7clk_invE">
<span id="_CPPv3N24i2s_pdm_tx_gpio_config_t7clk_invE"></span><span id="_CPPv2N24i2s_pdm_tx_gpio_config_t7clk_invE"></span><span id="i2s_pdm_tx_gpio_config_t::clk_inv__uint32_t"></span><span class="target" id="structi2s__pdm__tx__gpio__config__t_1adfdffbdc7b322712cb443171f1762fe5"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">clk_inv</span></span></span><a class="headerlink" href="#_CPPv4N24i2s_pdm_tx_gpio_config_t7clk_invE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Set 1 to invert the clk output </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24i2s_pdm_tx_gpio_config_t12invert_flagsE">
<span id="_CPPv3N24i2s_pdm_tx_gpio_config_t12invert_flagsE"></span><span id="_CPPv2N24i2s_pdm_tx_gpio_config_t12invert_flagsE"></span><span id="i2s_pdm_tx_gpio_config_t::invert_flags__i2s_pdm_tx_gpio_config_t"></span><span class="target" id="structi2s__pdm__tx__gpio__config__t_1a45f086c0b55d07fb1eb4af47adc53e86"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv424i2s_pdm_tx_gpio_config_t" title="i2s_pdm_tx_gpio_config_t"><span class="n"><span class="pre">i2s_pdm_tx_gpio_config_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">invert_flags</span></span></span><a class="headerlink" href="#_CPPv4N24i2s_pdm_tx_gpio_config_t12invert_flagsE" title="Permalink to this definition"></a><br /></dt>
<dd><p>GPIO pin invert flags </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv419i2s_pdm_tx_config_t">
<span id="_CPPv319i2s_pdm_tx_config_t"></span><span id="_CPPv219i2s_pdm_tx_config_t"></span><span id="i2s_pdm_tx_config_t"></span><span class="target" id="structi2s__pdm__tx__config__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">i2s_pdm_tx_config_t</span></span></span><a class="headerlink" href="#_CPPv419i2s_pdm_tx_config_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>I2S PDM TX mode major configuration that including clock/slot/GPIO configuration. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N19i2s_pdm_tx_config_t7clk_cfgE">
<span id="_CPPv3N19i2s_pdm_tx_config_t7clk_cfgE"></span><span id="_CPPv2N19i2s_pdm_tx_config_t7clk_cfgE"></span><span id="i2s_pdm_tx_config_t::clk_cfg__i2s_pdm_tx_clk_config_t"></span><span class="target" id="structi2s__pdm__tx__config__t_1ac4464256fa0351878af4eb732ca34d19"></span><a class="reference internal" href="#_CPPv423i2s_pdm_tx_clk_config_t" title="i2s_pdm_tx_clk_config_t"><span class="n"><span class="pre">i2s_pdm_tx_clk_config_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">clk_cfg</span></span></span><a class="headerlink" href="#_CPPv4N19i2s_pdm_tx_config_t7clk_cfgE" title="Permalink to this definition"></a><br /></dt>
<dd><p>PDM TX clock configurations, can be generated by macro I2S_PDM_TX_CLK_DEFAULT_CONFIG </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N19i2s_pdm_tx_config_t8slot_cfgE">
<span id="_CPPv3N19i2s_pdm_tx_config_t8slot_cfgE"></span><span id="_CPPv2N19i2s_pdm_tx_config_t8slot_cfgE"></span><span id="i2s_pdm_tx_config_t::slot_cfg__i2s_pdm_tx_slot_config_t"></span><span class="target" id="structi2s__pdm__tx__config__t_1aa83de70d22d4e8b5e5c53eebabb6966f"></span><a class="reference internal" href="#_CPPv424i2s_pdm_tx_slot_config_t" title="i2s_pdm_tx_slot_config_t"><span class="n"><span class="pre">i2s_pdm_tx_slot_config_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">slot_cfg</span></span></span><a class="headerlink" href="#_CPPv4N19i2s_pdm_tx_config_t8slot_cfgE" title="Permalink to this definition"></a><br /></dt>
<dd><p>PDM TX slot configurations, can be generated by macro I2S_PDM_TX_SLOT_DEFAULT_CONFIG </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N19i2s_pdm_tx_config_t8gpio_cfgE">
<span id="_CPPv3N19i2s_pdm_tx_config_t8gpio_cfgE"></span><span id="_CPPv2N19i2s_pdm_tx_config_t8gpio_cfgE"></span><span id="i2s_pdm_tx_config_t::gpio_cfg__i2s_pdm_tx_gpio_config_t"></span><span class="target" id="structi2s__pdm__tx__config__t_1a77eb018d1ad52b91dd17b1a25aea9839"></span><a class="reference internal" href="#_CPPv424i2s_pdm_tx_gpio_config_t" title="i2s_pdm_tx_gpio_config_t"><span class="n"><span class="pre">i2s_pdm_tx_gpio_config_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">gpio_cfg</span></span></span><a class="headerlink" href="#_CPPv4N19i2s_pdm_tx_config_t8gpio_cfgE" title="Permalink to this definition"></a><br /></dt>
<dd><p>PDM TX GPIO configurations, specified by user </p>
</dd></dl>

</div>
</dd></dl>

</section>
<section id="id6">
<h3>Macros<a class="headerlink" href="#id6" title="Permalink to this heading"></a></h3>
<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.I2S_PDM_RX_SLOT_DEFAULT_CONFIG">
<span class="target" id="i2s__pdm_8h_1a3c6ef9fce306d2e4102ab51e0e739c42"></span><span class="sig-name descname"><span class="n"><span class="pre">I2S_PDM_RX_SLOT_DEFAULT_CONFIG</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">bits_per_sample</span></span>, <span class="n"><span class="pre">mono_or_stereo</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.I2S_PDM_RX_SLOT_DEFAULT_CONFIG" title="Permalink to this definition"></a><br /></dt>
<dd><p>PDM format in 2 slots(RX) </p>
<p>This file is specified for I2S PDM communication mode Features:<ul class="simple">
<li><p>Only support PDM TX/RX mode</p></li>
<li><p>Fixed to 2 slots</p></li>
<li><p>Data bit width only support 16 bits </p></li>
</ul>
</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bits_per_sample</strong> -- I2S data bit width, only support 16 bits for PDM mode </p></li>
<li><p><strong>mono_or_stereo</strong> -- I2S_SLOT_MODE_MONO or I2S_SLOT_MODE_STEREO </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.I2S_PDM_RX_CLK_DEFAULT_CONFIG">
<span class="target" id="i2s__pdm_8h_1a2c2de1597dd08b275cc87967aa5d077c"></span><span class="sig-name descname"><span class="n"><span class="pre">I2S_PDM_RX_CLK_DEFAULT_CONFIG</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">rate</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.I2S_PDM_RX_CLK_DEFAULT_CONFIG" title="Permalink to this definition"></a><br /></dt>
<dd><p>I2S default PDM RX clock configuration. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rate</strong> -- sample rate </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.I2S_PDM_TX_SLOT_DEFAULT_CONFIG">
<span class="target" id="i2s__pdm_8h_1a1232a33dce6606315a23ba725327ac1f"></span><span class="sig-name descname"><span class="n"><span class="pre">I2S_PDM_TX_SLOT_DEFAULT_CONFIG</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">bits_per_sample</span></span>, <span class="n"><span class="pre">mono_or_stereo</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.I2S_PDM_TX_SLOT_DEFAULT_CONFIG" title="Permalink to this definition"></a><br /></dt>
<dd><p>PDM style in 2 slots(TX) for codec line mode. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bits_per_sample</strong> -- I2S data bit width, only support 16 bits for PDM mode </p></li>
<li><p><strong>mono_or_stereo</strong> -- I2S_SLOT_MODE_MONO or I2S_SLOT_MODE_STEREO </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.I2S_PDM_TX_CLK_DEFAULT_CONFIG">
<span class="target" id="i2s__pdm_8h_1aec71f59e72745159113a2c2d839f4e2a"></span><span class="sig-name descname"><span class="n"><span class="pre">I2S_PDM_TX_CLK_DEFAULT_CONFIG</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">rate</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.I2S_PDM_TX_CLK_DEFAULT_CONFIG" title="Permalink to this definition"></a><br /></dt>
<dd><p>I2S default PDM TX clock configuration for codec line mode. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>TX PDM can only be set to the following two up-sampling rate configurations: 1: fp = 960, fs = sample_rate_hz / 100, in this case, Fpdm = 128*48000 2: fp = 960, fs = 480, in this case, Fpdm = 128*Fpcm = 128*sample_rate_hz If the PDM receiver do not care the PDM serial clock, it's recommended set Fpdm = 128*48000. Otherwise, the second configuration should be adopted. </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rate</strong> -- sample rate (not suggest to exceed 48000 Hz, otherwise more glitches and noise may appear) </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.I2S_PDM_TX_CLK_DAC_DEFAULT_CONFIG">
<span class="target" id="i2s__pdm_8h_1aa3f51d089277e6c71ba0dc4941d4aa5d"></span><span class="sig-name descname"><span class="n"><span class="pre">I2S_PDM_TX_CLK_DAC_DEFAULT_CONFIG</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">rate</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.I2S_PDM_TX_CLK_DAC_DEFAULT_CONFIG" title="Permalink to this definition"></a><br /></dt>
<dd><p>I2S default PDM TX clock configuration for DAC line mode. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>TX PDM can only be set to the following two up-sampling rate configurations: 1: fp = 960, fs = sample_rate_hz / 100, in this case, Fpdm = 128*48000 2: fp = 960, fs = 480, in this case, Fpdm = 128*Fpcm = 128*sample_rate_hz If the PDM receiver do not care the PDM serial clock, it's recommended set Fpdm = 128*48000. Otherwise, the second configuration should be adopted. </p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The noise might be different with different configurations, this macro provides a set of configurations that have relatively high SNR (Signal Noise Ratio), you can also adjust them to fit your case. </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rate</strong> -- sample rate (not suggest to exceed 48000 Hz, otherwise more glitches and noise may appear) </p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="i2s-driver">
<h3>I2S Driver<a class="headerlink" href="#i2s-driver" title="Permalink to this heading"></a></h3>
</section>
<section id="id7">
<h3>Header File<a class="headerlink" href="#id7" title="Permalink to this heading"></a></h3>
<ul>
<li><p><a class="reference external" href="https://github.com/espressif/esp-idf/blob/v5.4.2/components/esp_driver_i2s/include/driver/i2s_common.h">components/esp_driver_i2s/include/driver/i2s_common.h</a></p></li>
<li><p>This header file can be included with:</p>
<blockquote>
<div><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;driver/i2s_common.h&quot;</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>This header file is a part of the API provided by the <code class="docutils literal notranslate"><span class="pre">esp_driver_i2s</span></code> component. To declare that your component depends on <code class="docutils literal notranslate"><span class="pre">esp_driver_i2s</span></code>, add the following to your CMakeLists.txt:</p>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>REQUIRES esp_driver_i2s
</pre></div>
</div>
<p>or</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>PRIV_REQUIRES esp_driver_i2s
</pre></div>
</div>
</div></blockquote>
</li>
</ul>
</section>
<section id="id8">
<h3>Functions<a class="headerlink" href="#id8" title="Permalink to this heading"></a></h3>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv415i2s_new_channelPK17i2s_chan_config_tP17i2s_chan_handle_tP17i2s_chan_handle_t">
<span id="_CPPv315i2s_new_channelPK17i2s_chan_config_tP17i2s_chan_handle_tP17i2s_chan_handle_t"></span><span id="_CPPv215i2s_new_channelPK17i2s_chan_config_tP17i2s_chan_handle_tP17i2s_chan_handle_t"></span><span id="i2s_new_channel__i2s_chan_config_tCP.i2s_chan_handle_tP.i2s_chan_handle_tP"></span><span class="target" id="i2s__common_8h_1a8e3d438444f400b1b5f65d982299612c"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">i2s_new_channel</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv417i2s_chan_config_t" title="i2s_chan_config_t"><span class="n"><span class="pre">i2s_chan_config_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">chan_cfg</span></span>, <a class="reference internal" href="#_CPPv417i2s_chan_handle_t" title="i2s_chan_handle_t"><span class="n"><span class="pre">i2s_chan_handle_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ret_tx_handle</span></span>, <a class="reference internal" href="#_CPPv417i2s_chan_handle_t" title="i2s_chan_handle_t"><span class="n"><span class="pre">i2s_chan_handle_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ret_rx_handle</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv415i2s_new_channelPK17i2s_chan_config_tP17i2s_chan_handle_tP17i2s_chan_handle_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Allocate new I2S channel(s) </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The new created I2S channel handle will be REGISTERED state after it is allocated successfully. </p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When the port id in channel configuration is I2S_NUM_AUTO, driver will allocate I2S port automatically on one of the I2S controller, otherwise driver will try to allocate the new channel on the selected port. </p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If both tx_handle and rx_handle are not NULL, it means this I2S controller will work at full-duplex mode, the RX and TX channels will be allocated on a same I2S port in this case. Note that some configurations of TX/RX channel are shared on ESP32 and ESP32S2, so please make sure they are working at same condition and under same status(start/stop). Currently, full-duplex mode can't guarantee TX/RX channels write/read synchronously, they can only share the clock signals for now. </p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If tx_handle OR rx_handle is NULL, it means this I2S controller will work at simplex mode. For ESP32 and ESP32S2, the whole I2S controller (i.e. both RX and TX channel) will be occupied, even if only one of RX or TX channel is registered. For the other targets, another channel on this controller will still available.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>chan_cfg</strong> -- <strong>[in]</strong> I2S controller channel configurations </p></li>
<li><p><strong>ret_tx_handle</strong> -- <strong>[out]</strong> I2S channel handler used for managing the sending channel(optional) </p></li>
<li><p><strong>ret_rx_handle</strong> -- <strong>[out]</strong> I2S channel handler used for managing the receiving channel(optional) </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK Allocate new channel(s) success</p></li>
<li><p>ESP_ERR_NOT_SUPPORTED The communication mode is not supported on the current chip</p></li>
<li><p>ESP_ERR_INVALID_ARG NULL pointer or illegal parameter in <a class="reference internal" href="#structi2s__chan__config__t"><span class="std std-ref">i2s_chan_config_t</span></a></p></li>
<li><p>ESP_ERR_NOT_FOUND No available I2S channel found </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv415i2s_del_channel17i2s_chan_handle_t">
<span id="_CPPv315i2s_del_channel17i2s_chan_handle_t"></span><span id="_CPPv215i2s_del_channel17i2s_chan_handle_t"></span><span id="i2s_del_channel__i2s_chan_handle_t"></span><span class="target" id="i2s__common_8h_1aa59ef6b29864dbb484f105830f3e6604"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">i2s_del_channel</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv417i2s_chan_handle_t" title="i2s_chan_handle_t"><span class="n"><span class="pre">i2s_chan_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">handle</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv415i2s_del_channel17i2s_chan_handle_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Delete the I2S channel. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Only allowed to be called when the I2S channel is at REGISTERED or READY state (i.e., it should stop before deleting it). </p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Resource will be free automatically if all channels in one port are deleted</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>handle</strong> -- <strong>[in]</strong> I2S channel handler<ul class="simple">
<li><p>ESP_OK Delete successfully</p></li>
<li><p>ESP_ERR_INVALID_ARG NULL pointer </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv420i2s_channel_get_info17i2s_chan_handle_tP15i2s_chan_info_t">
<span id="_CPPv320i2s_channel_get_info17i2s_chan_handle_tP15i2s_chan_info_t"></span><span id="_CPPv220i2s_channel_get_info17i2s_chan_handle_tP15i2s_chan_info_t"></span><span id="i2s_channel_get_info__i2s_chan_handle_t.i2s_chan_info_tP"></span><span class="target" id="i2s__common_8h_1ad6085c5b11675fa725c7df74aa9ec18b"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">i2s_channel_get_info</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv417i2s_chan_handle_t" title="i2s_chan_handle_t"><span class="n"><span class="pre">i2s_chan_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">handle</span></span>, <a class="reference internal" href="#_CPPv415i2s_chan_info_t" title="i2s_chan_info_t"><span class="n"><span class="pre">i2s_chan_info_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">chan_info</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv420i2s_channel_get_info17i2s_chan_handle_tP15i2s_chan_info_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Get I2S channel information. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>handle</strong> -- <strong>[in]</strong> I2S channel handler </p></li>
<li><p><strong>chan_info</strong> -- <strong>[out]</strong> I2S channel basic information </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK Get I2S channel information success</p></li>
<li><p>ESP_ERR_NOT_FOUND The input handle doesn't match any registered I2S channels, it may not an I2S channel handle or not available any more</p></li>
<li><p>ESP_ERR_INVALID_ARG The input handle or chan_info pointer is NULL </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv418i2s_channel_enable17i2s_chan_handle_t">
<span id="_CPPv318i2s_channel_enable17i2s_chan_handle_t"></span><span id="_CPPv218i2s_channel_enable17i2s_chan_handle_t"></span><span id="i2s_channel_enable__i2s_chan_handle_t"></span><span class="target" id="i2s__common_8h_1a93b228c4cbe63b3456672f6dbd1a31aa"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">i2s_channel_enable</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv417i2s_chan_handle_t" title="i2s_chan_handle_t"><span class="n"><span class="pre">i2s_chan_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">handle</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv418i2s_channel_enable17i2s_chan_handle_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Enable the I2S channel. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Only allowed to be called when the channel state is READY, (i.e., channel has been initialized, but not started) the channel will enter RUNNING state once it is enabled successfully. </p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Enable the channel can start the I2S communication on hardware. It will start outputting BCLK and WS signal. For MCLK signal, it will start to output when initialization is finished</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>handle</strong> -- <strong>[in]</strong> I2S channel handler<ul class="simple">
<li><p>ESP_OK Start successfully</p></li>
<li><p>ESP_ERR_INVALID_ARG NULL pointer</p></li>
<li><p>ESP_ERR_INVALID_STATE This channel has not initialized or already started </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv419i2s_channel_disable17i2s_chan_handle_t">
<span id="_CPPv319i2s_channel_disable17i2s_chan_handle_t"></span><span id="_CPPv219i2s_channel_disable17i2s_chan_handle_t"></span><span id="i2s_channel_disable__i2s_chan_handle_t"></span><span class="target" id="i2s__common_8h_1a889a69fce3b584116d7184722105f872"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">i2s_channel_disable</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv417i2s_chan_handle_t" title="i2s_chan_handle_t"><span class="n"><span class="pre">i2s_chan_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">handle</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv419i2s_channel_disable17i2s_chan_handle_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Disable the I2S channel. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Only allowed to be called when the channel state is RUNNING, (i.e., channel has been started) the channel will enter READY state once it is disabled successfully. </p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Disable the channel can stop the I2S communication on hardware. It will stop BCLK and WS signal but not MCLK signal</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>handle</strong> -- <strong>[in]</strong> I2S channel handler </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK Stop successfully</p></li>
<li><p>ESP_ERR_INVALID_ARG NULL pointer</p></li>
<li><p>ESP_ERR_INVALID_STATE This channel has not stated </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv424i2s_channel_preload_data17i2s_chan_handle_tPKv6size_tP6size_t">
<span id="_CPPv324i2s_channel_preload_data17i2s_chan_handle_tPKv6size_tP6size_t"></span><span id="_CPPv224i2s_channel_preload_data17i2s_chan_handle_tPKv6size_tP6size_t"></span><span id="i2s_channel_preload_data__i2s_chan_handle_t.voidCP.s.sP"></span><span class="target" id="i2s__common_8h_1a5d8b0eb075547b8473de3e7e76940e5f"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">i2s_channel_preload_data</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv417i2s_chan_handle_t" title="i2s_chan_handle_t"><span class="n"><span class="pre">i2s_chan_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">tx_handle</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">src</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">size</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">bytes_loaded</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv424i2s_channel_preload_data17i2s_chan_handle_tPKv6size_tP6size_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Preload the data into TX DMA buffer. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Only allowed to be called when the channel state is READY, (i.e., channel has been initialized, but not started) </p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>As the initial DMA buffer has no data inside, it will transmit the empty buffer after enabled the channel, this function is used to preload the data into the DMA buffer, so that the valid data can be transmitted immediately after the channel is enabled. </p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function can be called multiple times before enabling the channel, the buffer that loaded later will be concatenated behind the former loaded buffer. But when all the DMA buffers have been loaded, no more data can be preload then, please check the <code class="docutils literal notranslate"><span class="pre">bytes_loaded</span></code> parameter to see how many bytes are loaded successfully, when the <code class="docutils literal notranslate"><span class="pre">bytes_loaded</span></code> is smaller than the <code class="docutils literal notranslate"><span class="pre">size</span></code>, it means the DMA buffers are full.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tx_handle</strong> -- <strong>[in]</strong> I2S TX channel handler </p></li>
<li><p><strong>src</strong> -- <strong>[in]</strong> The pointer of the source buffer to be loaded </p></li>
<li><p><strong>size</strong> -- <strong>[in]</strong> The source buffer size </p></li>
<li><p><strong>bytes_loaded</strong> -- <strong>[out]</strong> The bytes that successfully been loaded into the TX DMA buffer </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK Load data successful</p></li>
<li><p>ESP_FAIL Failed to push the message queue</p></li>
<li><p>ESP_ERR_INVALID_ARG NULL pointer or not TX direction</p></li>
<li><p>ESP_ERR_INVALID_STATE This channel has not stated </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv417i2s_channel_write17i2s_chan_handle_tPKv6size_tP6size_t8uint32_t">
<span id="_CPPv317i2s_channel_write17i2s_chan_handle_tPKv6size_tP6size_t8uint32_t"></span><span id="_CPPv217i2s_channel_write17i2s_chan_handle_tPKv6size_tP6size_t8uint32_t"></span><span id="i2s_channel_write__i2s_chan_handle_t.voidCP.s.sP.uint32_t"></span><span class="target" id="i2s__common_8h_1ae6ef722810e9499a5db41c7a7110972a"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">i2s_channel_write</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv417i2s_chan_handle_t" title="i2s_chan_handle_t"><span class="n"><span class="pre">i2s_chan_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">handle</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">src</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">size</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">bytes_written</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">timeout_ms</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv417i2s_channel_write17i2s_chan_handle_tPKv6size_tP6size_t8uint32_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>I2S write data. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Only allowed to be called when the channel state is RUNNING, (i.e., TX channel has been started and is not writing now) but the RUNNING only stands for the software state, it doesn't mean there is no the signal transporting on line.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>handle</strong> -- <strong>[in]</strong> I2S channel handler </p></li>
<li><p><strong>src</strong> -- <strong>[in]</strong> The pointer of sent data buffer </p></li>
<li><p><strong>size</strong> -- <strong>[in]</strong> Max data buffer length </p></li>
<li><p><strong>bytes_written</strong> -- <strong>[out]</strong> Byte number that actually be sent, can be NULL if not needed </p></li>
<li><p><strong>timeout_ms</strong> -- <strong>[in]</strong> Max block time </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK Write successfully</p></li>
<li><p>ESP_ERR_INVALID_ARG NULL pointer or this handle is not TX handle</p></li>
<li><p>ESP_ERR_TIMEOUT Writing timeout, no writing event received from ISR within ticks_to_wait</p></li>
<li><p>ESP_ERR_INVALID_STATE I2S is not ready to write </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv416i2s_channel_read17i2s_chan_handle_tPv6size_tP6size_t8uint32_t">
<span id="_CPPv316i2s_channel_read17i2s_chan_handle_tPv6size_tP6size_t8uint32_t"></span><span id="_CPPv216i2s_channel_read17i2s_chan_handle_tPv6size_tP6size_t8uint32_t"></span><span id="i2s_channel_read__i2s_chan_handle_t.voidP.s.sP.uint32_t"></span><span class="target" id="i2s__common_8h_1aafb198434ce14542a4ba4402e061dc8a"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">i2s_channel_read</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv417i2s_chan_handle_t" title="i2s_chan_handle_t"><span class="n"><span class="pre">i2s_chan_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">handle</span></span>, <span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">dest</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">size</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">bytes_read</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">timeout_ms</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv416i2s_channel_read17i2s_chan_handle_tPv6size_tP6size_t8uint32_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>I2S read data. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Only allowed to be called when the channel state is RUNNING but the RUNNING only stands for the software state, it doesn't mean there is no the signal transporting on line.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>handle</strong> -- <strong>[in]</strong> I2S channel handler </p></li>
<li><p><strong>dest</strong> -- <strong>[in]</strong> The pointer of receiving data buffer </p></li>
<li><p><strong>size</strong> -- <strong>[in]</strong> Max data buffer length </p></li>
<li><p><strong>bytes_read</strong> -- <strong>[out]</strong> Byte number that actually be read, can be NULL if not needed </p></li>
<li><p><strong>timeout_ms</strong> -- <strong>[in]</strong> Max block time </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK Read successfully</p></li>
<li><p>ESP_ERR_INVALID_ARG NULL pointer or this handle is not RX handle</p></li>
<li><p>ESP_ERR_TIMEOUT Reading timeout, no reading event received from ISR within ticks_to_wait</p></li>
<li><p>ESP_ERR_INVALID_STATE I2S is not ready to read </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv435i2s_channel_register_event_callback17i2s_chan_handle_tPK21i2s_event_callbacks_tPv">
<span id="_CPPv335i2s_channel_register_event_callback17i2s_chan_handle_tPK21i2s_event_callbacks_tPv"></span><span id="_CPPv235i2s_channel_register_event_callback17i2s_chan_handle_tPK21i2s_event_callbacks_tPv"></span><span id="i2s_channel_register_event_callback__i2s_chan_handle_t.i2s_event_callbacks_tCP.voidP"></span><span class="target" id="i2s__common_8h_1a9519616a423ec0c390157a0cb8cf5b24"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">i2s_channel_register_event_callback</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv417i2s_chan_handle_t" title="i2s_chan_handle_t"><span class="n"><span class="pre">i2s_chan_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">handle</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv421i2s_event_callbacks_t" title="i2s_event_callbacks_t"><span class="n"><span class="pre">i2s_event_callbacks_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">callbacks</span></span>, <span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">user_data</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv435i2s_channel_register_event_callback17i2s_chan_handle_tPK21i2s_event_callbacks_tPv" title="Permalink to this definition"></a><br /></dt>
<dd><p>Set event callbacks for I2S channel. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Only allowed to be called when the channel state is REGISTERED / READY, (i.e., before channel starts) </p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>User can deregister a previously registered callback by calling this function and setting the callback member in the <code class="docutils literal notranslate"><span class="pre">callbacks</span></code> structure to NULL. </p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When CONFIG_I2S_ISR_IRAM_SAFE is enabled, the callback itself and functions called by it should be placed in IRAM. The variables used in the function should be in the SRAM as well. The <code class="docutils literal notranslate"><span class="pre">user_data</span></code> should also reside in SRAM or internal RAM as well.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>handle</strong> -- <strong>[in]</strong> I2S channel handler </p></li>
<li><p><strong>callbacks</strong> -- <strong>[in]</strong> Group of callback functions </p></li>
<li><p><strong>user_data</strong> -- <strong>[in]</strong> User data, which will be passed to callback functions directly </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK Set event callbacks successfully</p></li>
<li><p>ESP_ERR_INVALID_ARG Set event callbacks failed because of invalid argument</p></li>
<li><p>ESP_ERR_INVALID_STATE Set event callbacks failed because the current channel state is not REGISTERED or READY </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="id9">
<h3>Structures<a class="headerlink" href="#id9" title="Permalink to this heading"></a></h3>
<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv421i2s_event_callbacks_t">
<span id="_CPPv321i2s_event_callbacks_t"></span><span id="_CPPv221i2s_event_callbacks_t"></span><span id="i2s_event_callbacks_t"></span><span class="target" id="structi2s__event__callbacks__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">i2s_event_callbacks_t</span></span></span><a class="headerlink" href="#_CPPv421i2s_event_callbacks_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Group of I2S callbacks. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The callbacks are all running under ISR environment </p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When CONFIG_I2S_ISR_IRAM_SAFE is enabled, the callback itself and functions called by it should be placed in IRAM. The variables used in the function should be in the SRAM as well. </p>
</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N21i2s_event_callbacks_t7on_recvE">
<span id="_CPPv3N21i2s_event_callbacks_t7on_recvE"></span><span id="_CPPv2N21i2s_event_callbacks_t7on_recvE"></span><span id="i2s_event_callbacks_t::on_recv__i2s_isr_callback_t"></span><span class="target" id="structi2s__event__callbacks__t_1a51e1e9de7b21e9653add51f7805d6024"></span><a class="reference internal" href="#_CPPv418i2s_isr_callback_t" title="i2s_isr_callback_t"><span class="n"><span class="pre">i2s_isr_callback_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">on_recv</span></span></span><a class="headerlink" href="#_CPPv4N21i2s_event_callbacks_t7on_recvE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Callback of data received event, only for RX channel The event data includes DMA buffer address and size that just finished receiving data </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N21i2s_event_callbacks_t13on_recv_q_ovfE">
<span id="_CPPv3N21i2s_event_callbacks_t13on_recv_q_ovfE"></span><span id="_CPPv2N21i2s_event_callbacks_t13on_recv_q_ovfE"></span><span id="i2s_event_callbacks_t::on_recv_q_ovf__i2s_isr_callback_t"></span><span class="target" id="structi2s__event__callbacks__t_1a3dca9b499e3773fcdff14f8251face75"></span><a class="reference internal" href="#_CPPv418i2s_isr_callback_t" title="i2s_isr_callback_t"><span class="n"><span class="pre">i2s_isr_callback_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">on_recv_q_ovf</span></span></span><a class="headerlink" href="#_CPPv4N21i2s_event_callbacks_t13on_recv_q_ovfE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Callback of receiving queue overflowed event, only for RX channel The event data includes buffer size that has been overwritten </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N21i2s_event_callbacks_t7on_sentE">
<span id="_CPPv3N21i2s_event_callbacks_t7on_sentE"></span><span id="_CPPv2N21i2s_event_callbacks_t7on_sentE"></span><span id="i2s_event_callbacks_t::on_sent__i2s_isr_callback_t"></span><span class="target" id="structi2s__event__callbacks__t_1ab4dee423b5d751f441a65fdd315fefb2"></span><a class="reference internal" href="#_CPPv418i2s_isr_callback_t" title="i2s_isr_callback_t"><span class="n"><span class="pre">i2s_isr_callback_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">on_sent</span></span></span><a class="headerlink" href="#_CPPv4N21i2s_event_callbacks_t7on_sentE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Callback of data sent event, only for TX channel The event data includes DMA buffer address and size that just finished sending data </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N21i2s_event_callbacks_t13on_send_q_ovfE">
<span id="_CPPv3N21i2s_event_callbacks_t13on_send_q_ovfE"></span><span id="_CPPv2N21i2s_event_callbacks_t13on_send_q_ovfE"></span><span id="i2s_event_callbacks_t::on_send_q_ovf__i2s_isr_callback_t"></span><span class="target" id="structi2s__event__callbacks__t_1a4d8b83e237f8cff58a8dd49b058b0bf4"></span><a class="reference internal" href="#_CPPv418i2s_isr_callback_t" title="i2s_isr_callback_t"><span class="n"><span class="pre">i2s_isr_callback_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">on_send_q_ovf</span></span></span><a class="headerlink" href="#_CPPv4N21i2s_event_callbacks_t13on_send_q_ovfE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Callback of sending queue overflowed event, only for TX channel The event data includes buffer size that has been overwritten </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv417i2s_chan_config_t">
<span id="_CPPv317i2s_chan_config_t"></span><span id="_CPPv217i2s_chan_config_t"></span><span id="i2s_chan_config_t"></span><span class="target" id="structi2s__chan__config__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">i2s_chan_config_t</span></span></span><a class="headerlink" href="#_CPPv417i2s_chan_config_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>I2S controller channel configuration. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17i2s_chan_config_t2idE">
<span id="_CPPv3N17i2s_chan_config_t2idE"></span><span id="_CPPv2N17i2s_chan_config_t2idE"></span><span id="i2s_chan_config_t::id__i2s_port_t"></span><span class="target" id="structi2s__chan__config__t_1a270b94d83c996ad3fc8f13e8e36ff50f"></span><a class="reference internal" href="#_CPPv410i2s_port_t" title="i2s_port_t"><span class="n"><span class="pre">i2s_port_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">id</span></span></span><a class="headerlink" href="#_CPPv4N17i2s_chan_config_t2idE" title="Permalink to this definition"></a><br /></dt>
<dd><p>I2S port id </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17i2s_chan_config_t4roleE">
<span id="_CPPv3N17i2s_chan_config_t4roleE"></span><span id="_CPPv2N17i2s_chan_config_t4roleE"></span><span id="i2s_chan_config_t::role__i2s_role_t"></span><span class="target" id="structi2s__chan__config__t_1afdfad99174ede7fb6998efc598ee74f9"></span><a class="reference internal" href="#_CPPv410i2s_role_t" title="i2s_role_t"><span class="n"><span class="pre">i2s_role_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">role</span></span></span><a class="headerlink" href="#_CPPv4N17i2s_chan_config_t4roleE" title="Permalink to this definition"></a><br /></dt>
<dd><p>I2S role, I2S_ROLE_MASTER or I2S_ROLE_SLAVE </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17i2s_chan_config_t12dma_desc_numE">
<span id="_CPPv3N17i2s_chan_config_t12dma_desc_numE"></span><span id="_CPPv2N17i2s_chan_config_t12dma_desc_numE"></span><span id="i2s_chan_config_t::dma_desc_num__uint32_t"></span><span class="target" id="structi2s__chan__config__t_1a69f409a98c860d270a006c8a44e28adb"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">dma_desc_num</span></span></span><a class="headerlink" href="#_CPPv4N17i2s_chan_config_t12dma_desc_numE" title="Permalink to this definition"></a><br /></dt>
<dd><p>I2S DMA buffer number, it is also the number of DMA descriptor </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17i2s_chan_config_t13dma_frame_numE">
<span id="_CPPv3N17i2s_chan_config_t13dma_frame_numE"></span><span id="_CPPv2N17i2s_chan_config_t13dma_frame_numE"></span><span id="i2s_chan_config_t::dma_frame_num__uint32_t"></span><span class="target" id="structi2s__chan__config__t_1a70c1287681ff41d223687aff6e2a8cfb"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">dma_frame_num</span></span></span><a class="headerlink" href="#_CPPv4N17i2s_chan_config_t13dma_frame_numE" title="Permalink to this definition"></a><br /></dt>
<dd><p>I2S frame number in one DMA buffer. One frame means one-time sample data in all slots, it should be the multiple of <code class="docutils literal notranslate"><span class="pre">3</span></code> when the data bit width is 24. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17i2s_chan_config_t10auto_clearE">
<span id="_CPPv3N17i2s_chan_config_t10auto_clearE"></span><span id="_CPPv2N17i2s_chan_config_t10auto_clearE"></span><span id="i2s_chan_config_t::auto_clear__b"></span><span class="target" id="structi2s__chan__config__t_1a059583f3acd4918e056f8a18b5d86f4e"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">auto_clear</span></span></span><a class="headerlink" href="#_CPPv4N17i2s_chan_config_t10auto_clearE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Alias of <code class="docutils literal notranslate"><span class="pre">auto_clear_after_cb</span></code></p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17i2s_chan_config_t19auto_clear_after_cbE">
<span id="_CPPv3N17i2s_chan_config_t19auto_clear_after_cbE"></span><span id="_CPPv2N17i2s_chan_config_t19auto_clear_after_cbE"></span><span id="i2s_chan_config_t::auto_clear_after_cb__b"></span><span class="target" id="structi2s__chan__config__t_1a7011367a41b0440b3e3e939c52fe2cd9"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">auto_clear_after_cb</span></span></span><a class="headerlink" href="#_CPPv4N17i2s_chan_config_t19auto_clear_after_cbE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Set to auto clear DMA TX buffer after <code class="docutils literal notranslate"><span class="pre">on_sent</span></code> callback, I2S will always send zero automatically if no data to send. So that user can assign the data to the DMA buffers directly in the callback, and the data won't be cleared after quit the callback. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17i2s_chan_config_t20auto_clear_before_cbE">
<span id="_CPPv3N17i2s_chan_config_t20auto_clear_before_cbE"></span><span id="_CPPv2N17i2s_chan_config_t20auto_clear_before_cbE"></span><span id="i2s_chan_config_t::auto_clear_before_cb__b"></span><span class="target" id="structi2s__chan__config__t_1a8b576ca60a239e014c6a3366dafe0d87"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">auto_clear_before_cb</span></span></span><a class="headerlink" href="#_CPPv4N17i2s_chan_config_t20auto_clear_before_cbE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Set to auto clear DMA TX buffer before <code class="docutils literal notranslate"><span class="pre">on_sent</span></code> callback, I2S will always send zero automatically if no data to send So that user can access data in the callback that just finished to send. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17i2s_chan_config_t8allow_pdE">
<span id="_CPPv3N17i2s_chan_config_t8allow_pdE"></span><span id="_CPPv2N17i2s_chan_config_t8allow_pdE"></span><span id="i2s_chan_config_t::allow_pd__b"></span><span class="target" id="structi2s__chan__config__t_1aacf9a15f62768f802d6882a8fc2136e3"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">allow_pd</span></span></span><a class="headerlink" href="#_CPPv4N17i2s_chan_config_t8allow_pdE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Set to allow power down. When this flag set, the driver will backup/restore the I2S registers before/after entering/exist sleep mode. By this approach, the system can power off I2S's power domain. This can save power, but at the expense of more RAM being consumed. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17i2s_chan_config_t13intr_priorityE">
<span id="_CPPv3N17i2s_chan_config_t13intr_priorityE"></span><span id="_CPPv2N17i2s_chan_config_t13intr_priorityE"></span><span id="i2s_chan_config_t::intr_priority__i"></span><span class="target" id="structi2s__chan__config__t_1ab2036249a1d44e25705e1069089c4eb5"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">intr_priority</span></span></span><a class="headerlink" href="#_CPPv4N17i2s_chan_config_t13intr_priorityE" title="Permalink to this definition"></a><br /></dt>
<dd><p>I2S interrupt priority, range [0, 7], if set to 0, the driver will try to allocate an interrupt with a relative low priority (1,2,3) </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv415i2s_chan_info_t">
<span id="_CPPv315i2s_chan_info_t"></span><span id="_CPPv215i2s_chan_info_t"></span><span id="i2s_chan_info_t"></span><span class="target" id="structi2s__chan__info__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">i2s_chan_info_t</span></span></span><a class="headerlink" href="#_CPPv415i2s_chan_info_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>I2S channel information. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N15i2s_chan_info_t2idE">
<span id="_CPPv3N15i2s_chan_info_t2idE"></span><span id="_CPPv2N15i2s_chan_info_t2idE"></span><span id="i2s_chan_info_t::id__i2s_port_t"></span><span class="target" id="structi2s__chan__info__t_1af0dd088bad141b58f994cee69b238910"></span><a class="reference internal" href="#_CPPv410i2s_port_t" title="i2s_port_t"><span class="n"><span class="pre">i2s_port_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">id</span></span></span><a class="headerlink" href="#_CPPv4N15i2s_chan_info_t2idE" title="Permalink to this definition"></a><br /></dt>
<dd><p>I2S port id </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N15i2s_chan_info_t4roleE">
<span id="_CPPv3N15i2s_chan_info_t4roleE"></span><span id="_CPPv2N15i2s_chan_info_t4roleE"></span><span id="i2s_chan_info_t::role__i2s_role_t"></span><span class="target" id="structi2s__chan__info__t_1aef5a1470b0e3744d9c560bbc74a23272"></span><a class="reference internal" href="#_CPPv410i2s_role_t" title="i2s_role_t"><span class="n"><span class="pre">i2s_role_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">role</span></span></span><a class="headerlink" href="#_CPPv4N15i2s_chan_info_t4roleE" title="Permalink to this definition"></a><br /></dt>
<dd><p>I2S role, I2S_ROLE_MASTER or I2S_ROLE_SLAVE </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N15i2s_chan_info_t3dirE">
<span id="_CPPv3N15i2s_chan_info_t3dirE"></span><span id="_CPPv2N15i2s_chan_info_t3dirE"></span><span id="i2s_chan_info_t::dir__i2s_dir_t"></span><span class="target" id="structi2s__chan__info__t_1a9991eb3005011d539c29fbb6723cd213"></span><a class="reference internal" href="#_CPPv49i2s_dir_t" title="i2s_dir_t"><span class="n"><span class="pre">i2s_dir_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">dir</span></span></span><a class="headerlink" href="#_CPPv4N15i2s_chan_info_t3dirE" title="Permalink to this definition"></a><br /></dt>
<dd><p>I2S channel direction </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N15i2s_chan_info_t4modeE">
<span id="_CPPv3N15i2s_chan_info_t4modeE"></span><span id="_CPPv2N15i2s_chan_info_t4modeE"></span><span id="i2s_chan_info_t::mode__i2s_comm_mode_t"></span><span class="target" id="structi2s__chan__info__t_1ab558ce04497d3cd4c79568d704a6cb8b"></span><a class="reference internal" href="#_CPPv415i2s_comm_mode_t" title="i2s_comm_mode_t"><span class="n"><span class="pre">i2s_comm_mode_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mode</span></span></span><a class="headerlink" href="#_CPPv4N15i2s_chan_info_t4modeE" title="Permalink to this definition"></a><br /></dt>
<dd><p>I2S channel communication mode </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N15i2s_chan_info_t9pair_chanE">
<span id="_CPPv3N15i2s_chan_info_t9pair_chanE"></span><span id="_CPPv2N15i2s_chan_info_t9pair_chanE"></span><span id="i2s_chan_info_t::pair_chan__i2s_chan_handle_t"></span><span class="target" id="structi2s__chan__info__t_1a7704bf8151a9de50b57bd5ce9f14a10e"></span><a class="reference internal" href="#_CPPv417i2s_chan_handle_t" title="i2s_chan_handle_t"><span class="n"><span class="pre">i2s_chan_handle_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">pair_chan</span></span></span><a class="headerlink" href="#_CPPv4N15i2s_chan_info_t9pair_chanE" title="Permalink to this definition"></a><br /></dt>
<dd><p>I2S pair channel handle in duplex mode, always NULL in simplex mode </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N15i2s_chan_info_t18total_dma_buf_sizeE">
<span id="_CPPv3N15i2s_chan_info_t18total_dma_buf_sizeE"></span><span id="_CPPv2N15i2s_chan_info_t18total_dma_buf_sizeE"></span><span id="i2s_chan_info_t::total_dma_buf_size__uint32_t"></span><span class="target" id="structi2s__chan__info__t_1aeea779fab336bb16eacc5eeba6b63b28"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">total_dma_buf_size</span></span></span><a class="headerlink" href="#_CPPv4N15i2s_chan_info_t18total_dma_buf_sizeE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Total size of all the allocated DMA buffers<ul class="simple">
<li><p>0 if the channel has not been initialized</p></li>
<li><p>non-zero if the channel has been initialized </p></li>
</ul>
</p>
</dd></dl>

</div>
</dd></dl>

</section>
<section id="id10">
<h3>Macros<a class="headerlink" href="#id10" title="Permalink to this heading"></a></h3>
<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.I2S_CHANNEL_DEFAULT_CONFIG">
<span class="target" id="i2s__common_8h_1a8f70cefb1ec3c1f99f4a29a8c2840b71"></span><span class="sig-name descname"><span class="n"><span class="pre">I2S_CHANNEL_DEFAULT_CONFIG</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">i2s_num</span></span>, <span class="n"><span class="pre">i2s_role</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.I2S_CHANNEL_DEFAULT_CONFIG" title="Permalink to this definition"></a><br /></dt>
<dd><p>get default I2S property </p>
</dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.I2S_GPIO_UNUSED">
<span class="target" id="i2s__common_8h_1a99f4a9f54b8c4abee981812a6a02e843"></span><span class="sig-name descname"><span class="n"><span class="pre">I2S_GPIO_UNUSED</span></span></span><a class="headerlink" href="#c.I2S_GPIO_UNUSED" title="Permalink to this definition"></a><br /></dt>
<dd><p>Used in i2s_gpio_config_t for signals which are not used </p>
</dd></dl>

</section>
<section id="i2s-types">
<span id="i2s-api-reference-i2s-types"></span><h3>I2S Types<a class="headerlink" href="#i2s-types" title="Permalink to this heading"></a></h3>
</section>
<section id="id11">
<h3>Header File<a class="headerlink" href="#id11" title="Permalink to this heading"></a></h3>
<ul>
<li><p><a class="reference external" href="https://github.com/espressif/esp-idf/blob/v5.4.2/components/esp_driver_i2s/include/driver/i2s_types.h">components/esp_driver_i2s/include/driver/i2s_types.h</a></p></li>
<li><p>This header file can be included with:</p>
<blockquote>
<div><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;driver/i2s_types.h&quot;</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>This header file is a part of the API provided by the <code class="docutils literal notranslate"><span class="pre">esp_driver_i2s</span></code> component. To declare that your component depends on <code class="docutils literal notranslate"><span class="pre">esp_driver_i2s</span></code>, add the following to your CMakeLists.txt:</p>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>REQUIRES esp_driver_i2s
</pre></div>
</div>
<p>or</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>PRIV_REQUIRES esp_driver_i2s
</pre></div>
</div>
</div></blockquote>
</li>
</ul>
</section>
<section id="id12">
<h3>Structures<a class="headerlink" href="#id12" title="Permalink to this heading"></a></h3>
<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv414lp_i2s_trans_t">
<span id="_CPPv314lp_i2s_trans_t"></span><span id="_CPPv214lp_i2s_trans_t"></span><span id="lp_i2s_trans_t"></span><span class="target" id="structlp__i2s__trans__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">lp_i2s_trans_t</span></span></span><a class="headerlink" href="#_CPPv414lp_i2s_trans_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>LP I2S transaction type. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N14lp_i2s_trans_t6bufferE">
<span id="_CPPv3N14lp_i2s_trans_t6bufferE"></span><span id="_CPPv2N14lp_i2s_trans_t6bufferE"></span><span id="lp_i2s_trans_t::buffer__voidP"></span><span class="target" id="structlp__i2s__trans__t_1a76abe44d1348fe7ef5cccdb1d2b7a667"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">buffer</span></span></span><a class="headerlink" href="#_CPPv4N14lp_i2s_trans_t6bufferE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Pointer to buffer. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N14lp_i2s_trans_t6buflenE">
<span id="_CPPv3N14lp_i2s_trans_t6buflenE"></span><span id="_CPPv2N14lp_i2s_trans_t6buflenE"></span><span id="lp_i2s_trans_t::buflen__s"></span><span class="target" id="structlp__i2s__trans__t_1a0b6e6ea27df8dee71c75a7670a2a668e"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">buflen</span></span></span><a class="headerlink" href="#_CPPv4N14lp_i2s_trans_t6buflenE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Buffer len, this should be in the multiple of 4. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N14lp_i2s_trans_t13received_sizeE">
<span id="_CPPv3N14lp_i2s_trans_t13received_sizeE"></span><span id="_CPPv2N14lp_i2s_trans_t13received_sizeE"></span><span id="lp_i2s_trans_t::received_size__s"></span><span class="target" id="structlp__i2s__trans__t_1ae246897aceb9e51325fa08de9dba06c3"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">received_size</span></span></span><a class="headerlink" href="#_CPPv4N14lp_i2s_trans_t13received_sizeE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Received size. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv416i2s_event_data_t">
<span id="_CPPv316i2s_event_data_t"></span><span id="_CPPv216i2s_event_data_t"></span><span id="i2s_event_data_t"></span><span class="target" id="structi2s__event__data__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">i2s_event_data_t</span></span></span><a class="headerlink" href="#_CPPv416i2s_event_data_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Event structure used in I2S event queue. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N16i2s_event_data_t4dataE">
<span id="_CPPv3N16i2s_event_data_t4dataE"></span><span id="_CPPv2N16i2s_event_data_t4dataE"></span><span id="i2s_event_data_t::data__voidP"></span><span class="target" id="structi2s__event__data__t_1a2146cb41e2fab8e7482f92464f1ef88e"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">data</span></span></span><a class="headerlink" href="#_CPPv4N16i2s_event_data_t4dataE" title="Permalink to this definition"></a><br /></dt>
<dd><p>(Deprecated) The secondary pointer of DMA buffer that just finished sending or receiving for <code class="docutils literal notranslate"><span class="pre">on_recv</span></code> and <code class="docutils literal notranslate"><span class="pre">on_sent</span></code> callback NULL for <code class="docutils literal notranslate"><span class="pre">on_recv_q_ovf</span></code> and <code class="docutils literal notranslate"><span class="pre">on_send_q_ovf</span></code> callback </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N16i2s_event_data_t7dma_bufE">
<span id="_CPPv3N16i2s_event_data_t7dma_bufE"></span><span id="_CPPv2N16i2s_event_data_t7dma_bufE"></span><span id="i2s_event_data_t::dma_buf__voidP"></span><span class="target" id="structi2s__event__data__t_1a7d096e1fe0b49897badbf0b0b779f9b4"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">dma_buf</span></span></span><a class="headerlink" href="#_CPPv4N16i2s_event_data_t7dma_bufE" title="Permalink to this definition"></a><br /></dt>
<dd><p>The first level pointer of DMA buffer that just finished sending or receiving for <code class="docutils literal notranslate"><span class="pre">on_recv</span></code> and <code class="docutils literal notranslate"><span class="pre">on_sent</span></code> callback NULL for <code class="docutils literal notranslate"><span class="pre">on_recv_q_ovf</span></code> and <code class="docutils literal notranslate"><span class="pre">on_send_q_ovf</span></code> callback </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N16i2s_event_data_t4sizeE">
<span id="_CPPv3N16i2s_event_data_t4sizeE"></span><span id="_CPPv2N16i2s_event_data_t4sizeE"></span><span id="i2s_event_data_t::size__s"></span><span class="target" id="structi2s__event__data__t_1aa39fe6f04a5ec55a8b0aec0d7ac3a7c1"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">size</span></span></span><a class="headerlink" href="#_CPPv4N16i2s_event_data_t4sizeE" title="Permalink to this definition"></a><br /></dt>
<dd><p>The buffer size of DMA buffer when success to send or receive, also the buffer size that dropped when queue overflow. It is related to the dma_frame_num and data_bit_width, typically it is fixed when data_bit_width is not changed. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv417lp_i2s_evt_data_t">
<span id="_CPPv317lp_i2s_evt_data_t"></span><span id="_CPPv217lp_i2s_evt_data_t"></span><span id="lp_i2s_evt_data_t"></span><span class="target" id="structlp__i2s__evt__data__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">lp_i2s_evt_data_t</span></span></span><a class="headerlink" href="#_CPPv417lp_i2s_evt_data_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Event data structure for LP I2S. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17lp_i2s_evt_data_t5transE">
<span id="_CPPv3N17lp_i2s_evt_data_t5transE"></span><span id="_CPPv2N17lp_i2s_evt_data_t5transE"></span><span id="lp_i2s_evt_data_t::trans__lp_i2s_trans_t"></span><span class="target" id="structlp__i2s__evt__data__t_1abe848e43e1d764ecdea420c8c721824f"></span><a class="reference internal" href="#_CPPv414lp_i2s_trans_t" title="lp_i2s_trans_t"><span class="n"><span class="pre">lp_i2s_trans_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">trans</span></span></span><a class="headerlink" href="#_CPPv4N17lp_i2s_evt_data_t5transE" title="Permalink to this definition"></a><br /></dt>
<dd><p>LP I2S transaction. </p>
</dd></dl>

</div>
</dd></dl>

</section>
<section id="type-definitions">
<h3>Type Definitions<a class="headerlink" href="#type-definitions" title="Permalink to this heading"></a></h3>
<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv417i2s_chan_handle_t">
<span id="_CPPv317i2s_chan_handle_t"></span><span id="_CPPv217i2s_chan_handle_t"></span><span id="i2s_chan_handle_t"></span><span class="target" id="esp__driver__i2s_2include_2driver_2i2s__types_8h_1a4d11081ee6e4ebc35ad6889416286859"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">i2s_channel_obj_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">i2s_chan_handle_t</span></span></span><a class="headerlink" href="#_CPPv417i2s_chan_handle_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>I2S channel object handle, the control unit of the I2S driver </p>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv420lp_i2s_chan_handle_t">
<span id="_CPPv320lp_i2s_chan_handle_t"></span><span id="_CPPv220lp_i2s_chan_handle_t"></span><span id="lp_i2s_chan_handle_t"></span><span class="target" id="esp__driver__i2s_2include_2driver_2i2s__types_8h_1ad221b744a98a299a16e85a3a2fe8c882"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">lp_i2s_channel_obj_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">lp_i2s_chan_handle_t</span></span></span><a class="headerlink" href="#_CPPv420lp_i2s_chan_handle_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>I2S channel object handle, the control unit of the I2S driver </p>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv418i2s_isr_callback_t">
<span id="_CPPv318i2s_isr_callback_t"></span><span id="_CPPv218i2s_isr_callback_t"></span><span id="i2s_isr_callback_t"></span><span class="target" id="esp__driver__i2s_2include_2driver_2i2s__types_8h_1a872b4cf89ce0692b8d07ba0f9a3f6ae1"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">i2s_isr_callback_t</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><a class="reference internal" href="#_CPPv417i2s_chan_handle_t" title="i2s_chan_handle_t"><span class="n"><span class="pre">i2s_chan_handle_t</span></span></a><span class="w"> </span><span class="n"><span class="pre">handle</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv416i2s_event_data_t" title="i2s_event_data_t"><span class="n"><span class="pre">i2s_event_data_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">event</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">user_ctx</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#_CPPv418i2s_isr_callback_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>I2S event callback. </p>
<dl class="field-list simple">
<dt class="field-odd">Param handle<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>[in]</strong> I2S channel handle, created from <code class="docutils literal notranslate"><span class="pre">i2s_new_channel()</span></code></p>
</dd>
<dt class="field-even">Param event<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>[in]</strong> I2S event data </p>
</dd>
<dt class="field-odd">Param user_ctx<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>[in]</strong> User registered context, passed from <code class="docutils literal notranslate"><span class="pre">i2s_channel_register_event_callback()</span></code></p>
</dd>
<dt class="field-even">Return<span class="colon">:</span></dt>
<dd class="field-even"><p>Whether a high priority task has been waken up by this callback function </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv417lp_i2s_callback_t">
<span id="_CPPv317lp_i2s_callback_t"></span><span id="_CPPv217lp_i2s_callback_t"></span><span id="lp_i2s_callback_t"></span><span class="target" id="esp__driver__i2s_2include_2driver_2i2s__types_8h_1a36a4e468c85afcd40bb1732516728881"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">lp_i2s_callback_t</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><a class="reference internal" href="#_CPPv420lp_i2s_chan_handle_t" title="lp_i2s_chan_handle_t"><span class="n"><span class="pre">lp_i2s_chan_handle_t</span></span></a><span class="w"> </span><span class="n"><span class="pre">handle</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv417lp_i2s_evt_data_t" title="lp_i2s_evt_data_t"><span class="n"><span class="pre">lp_i2s_evt_data_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">event</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">user_ctx</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#_CPPv417lp_i2s_callback_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>LP I2S event callback type. </p>
<dl class="field-list simple">
<dt class="field-odd">Param handle<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>[in]</strong> LP I2S channel handle </p>
</dd>
<dt class="field-even">Param event<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>[in]</strong> Event data </p>
</dd>
<dt class="field-odd">Param user_ctx<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>[in]</strong> User data</p>
</dd>
<dt class="field-even">Return<span class="colon">:</span></dt>
<dd class="field-even"><p>Whether a high priority task has been waken up by this callback function </p>
</dd>
</dl>
</dd></dl>

</section>
<section id="enumerations">
<h3>Enumerations<a class="headerlink" href="#enumerations" title="Permalink to this heading"></a></h3>
<dl class="cpp enum">
<dt class="sig sig-object cpp" id="_CPPv410i2s_port_t">
<span id="_CPPv310i2s_port_t"></span><span id="_CPPv210i2s_port_t"></span><span class="target" id="esp__driver__i2s_2include_2driver_2i2s__types_8h_1ab9f3fc03b3cb2ad972f2e4ad4ec4898e"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">i2s_port_t</span></span></span><a class="headerlink" href="#_CPPv410i2s_port_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>I2S controller port number, the max port number is (SOC_I2S_NUM -1). </p>
<p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N10i2s_port_t9I2S_NUM_0E">
<span id="_CPPv3N10i2s_port_t9I2S_NUM_0E"></span><span id="_CPPv2N10i2s_port_t9I2S_NUM_0E"></span><span class="target" id="esp__driver__i2s_2include_2driver_2i2s__types_8h_1ab9f3fc03b3cb2ad972f2e4ad4ec4898ea9fb876815977a0ee3c8a059c3697d03a"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_NUM_0</span></span></span><a class="headerlink" href="#_CPPv4N10i2s_port_t9I2S_NUM_0E" title="Permalink to this definition"></a><br /></dt>
<dd><p>I2S controller port 0 </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N10i2s_port_t9I2S_NUM_1E">
<span id="_CPPv3N10i2s_port_t9I2S_NUM_1E"></span><span id="_CPPv2N10i2s_port_t9I2S_NUM_1E"></span><span class="target" id="esp__driver__i2s_2include_2driver_2i2s__types_8h_1ab9f3fc03b3cb2ad972f2e4ad4ec4898ea8da4c64b3923c1a45bef0dd019bb1600"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_NUM_1</span></span></span><a class="headerlink" href="#_CPPv4N10i2s_port_t9I2S_NUM_1E" title="Permalink to this definition"></a><br /></dt>
<dd><p>I2S controller port 1 </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N10i2s_port_t12I2S_NUM_AUTOE">
<span id="_CPPv3N10i2s_port_t12I2S_NUM_AUTOE"></span><span id="_CPPv2N10i2s_port_t12I2S_NUM_AUTOE"></span><span class="target" id="esp__driver__i2s_2include_2driver_2i2s__types_8h_1ab9f3fc03b3cb2ad972f2e4ad4ec4898ea5770ac536aed880924d2950d203de43f"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_NUM_AUTO</span></span></span><a class="headerlink" href="#_CPPv4N10i2s_port_t12I2S_NUM_AUTOE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Select whichever port is available </p>
</dd></dl>

</dd></dl>

<dl class="cpp enum">
<dt class="sig sig-object cpp" id="_CPPv415i2s_comm_mode_t">
<span id="_CPPv315i2s_comm_mode_t"></span><span id="_CPPv215i2s_comm_mode_t"></span><span class="target" id="esp__driver__i2s_2include_2driver_2i2s__types_8h_1a9217ee273da23ff8c7024919bfb85326"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">i2s_comm_mode_t</span></span></span><a class="headerlink" href="#_CPPv415i2s_comm_mode_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>I2S controller communication mode. </p>
<p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N15i2s_comm_mode_t17I2S_COMM_MODE_STDE">
<span id="_CPPv3N15i2s_comm_mode_t17I2S_COMM_MODE_STDE"></span><span id="_CPPv2N15i2s_comm_mode_t17I2S_COMM_MODE_STDE"></span><span class="target" id="esp__driver__i2s_2include_2driver_2i2s__types_8h_1a9217ee273da23ff8c7024919bfb85326a3e1edd9b5a26fa9163db9c0b09b52293"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_COMM_MODE_STD</span></span></span><a class="headerlink" href="#_CPPv4N15i2s_comm_mode_t17I2S_COMM_MODE_STDE" title="Permalink to this definition"></a><br /></dt>
<dd><p>I2S controller using standard communication mode, support Philips/MSB/PCM format </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N15i2s_comm_mode_t17I2S_COMM_MODE_PDME">
<span id="_CPPv3N15i2s_comm_mode_t17I2S_COMM_MODE_PDME"></span><span id="_CPPv2N15i2s_comm_mode_t17I2S_COMM_MODE_PDME"></span><span class="target" id="esp__driver__i2s_2include_2driver_2i2s__types_8h_1a9217ee273da23ff8c7024919bfb85326a7752b57524fbc77f4f0514ab184f0057"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_COMM_MODE_PDM</span></span></span><a class="headerlink" href="#_CPPv4N15i2s_comm_mode_t17I2S_COMM_MODE_PDME" title="Permalink to this definition"></a><br /></dt>
<dd><p>I2S controller using PDM communication mode, support PDM output or input </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N15i2s_comm_mode_t18I2S_COMM_MODE_NONEE">
<span id="_CPPv3N15i2s_comm_mode_t18I2S_COMM_MODE_NONEE"></span><span id="_CPPv2N15i2s_comm_mode_t18I2S_COMM_MODE_NONEE"></span><span class="target" id="esp__driver__i2s_2include_2driver_2i2s__types_8h_1a9217ee273da23ff8c7024919bfb85326ab52d2bdc5fea150c9de1c9c4c538ba92"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_COMM_MODE_NONE</span></span></span><a class="headerlink" href="#_CPPv4N15i2s_comm_mode_t18I2S_COMM_MODE_NONEE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Unspecified I2S controller mode </p>
</dd></dl>

</dd></dl>

<dl class="cpp enum">
<dt class="sig sig-object cpp" id="_CPPv419i2s_mclk_multiple_t">
<span id="_CPPv319i2s_mclk_multiple_t"></span><span id="_CPPv219i2s_mclk_multiple_t"></span><span class="target" id="esp__driver__i2s_2include_2driver_2i2s__types_8h_1ae8651ea5b54ab9e1b10fdb211d07154b"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">i2s_mclk_multiple_t</span></span></span><a class="headerlink" href="#_CPPv419i2s_mclk_multiple_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>The multiple of MCLK to sample rate. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>MCLK is the minimum resolution of the I2S clock. Increasing mclk multiple can reduce the clock jitter of BCLK and WS, which is also useful for the codec that don't require MCLK but have strict requirement to BCLK. For the 24-bit slot width, please choose a multiple that can be divided by 3 (i.e. 24-bit compatible). </p>
</div>
<p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N19i2s_mclk_multiple_t21I2S_MCLK_MULTIPLE_128E">
<span id="_CPPv3N19i2s_mclk_multiple_t21I2S_MCLK_MULTIPLE_128E"></span><span id="_CPPv2N19i2s_mclk_multiple_t21I2S_MCLK_MULTIPLE_128E"></span><span class="target" id="esp__driver__i2s_2include_2driver_2i2s__types_8h_1ae8651ea5b54ab9e1b10fdb211d07154bada15c7ddb82fb978d85b735fd8fb8918"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_MCLK_MULTIPLE_128</span></span></span><a class="headerlink" href="#_CPPv4N19i2s_mclk_multiple_t21I2S_MCLK_MULTIPLE_128E" title="Permalink to this definition"></a><br /></dt>
<dd><p>MCLK = sample_rate * 128 </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N19i2s_mclk_multiple_t21I2S_MCLK_MULTIPLE_192E">
<span id="_CPPv3N19i2s_mclk_multiple_t21I2S_MCLK_MULTIPLE_192E"></span><span id="_CPPv2N19i2s_mclk_multiple_t21I2S_MCLK_MULTIPLE_192E"></span><span class="target" id="esp__driver__i2s_2include_2driver_2i2s__types_8h_1ae8651ea5b54ab9e1b10fdb211d07154babf4d43f9acc6e65633d3d343bf16f2d4"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_MCLK_MULTIPLE_192</span></span></span><a class="headerlink" href="#_CPPv4N19i2s_mclk_multiple_t21I2S_MCLK_MULTIPLE_192E" title="Permalink to this definition"></a><br /></dt>
<dd><p>MCLK = sample_rate * 192 (24-bit compatible) </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N19i2s_mclk_multiple_t21I2S_MCLK_MULTIPLE_256E">
<span id="_CPPv3N19i2s_mclk_multiple_t21I2S_MCLK_MULTIPLE_256E"></span><span id="_CPPv2N19i2s_mclk_multiple_t21I2S_MCLK_MULTIPLE_256E"></span><span class="target" id="esp__driver__i2s_2include_2driver_2i2s__types_8h_1ae8651ea5b54ab9e1b10fdb211d07154ba9dd7e2a2eba2f1a621fad4de82807be2"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_MCLK_MULTIPLE_256</span></span></span><a class="headerlink" href="#_CPPv4N19i2s_mclk_multiple_t21I2S_MCLK_MULTIPLE_256E" title="Permalink to this definition"></a><br /></dt>
<dd><p>MCLK = sample_rate * 256 </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N19i2s_mclk_multiple_t21I2S_MCLK_MULTIPLE_384E">
<span id="_CPPv3N19i2s_mclk_multiple_t21I2S_MCLK_MULTIPLE_384E"></span><span id="_CPPv2N19i2s_mclk_multiple_t21I2S_MCLK_MULTIPLE_384E"></span><span class="target" id="esp__driver__i2s_2include_2driver_2i2s__types_8h_1ae8651ea5b54ab9e1b10fdb211d07154bad27f90c57f269f5aae6ebe397eb1ff46"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_MCLK_MULTIPLE_384</span></span></span><a class="headerlink" href="#_CPPv4N19i2s_mclk_multiple_t21I2S_MCLK_MULTIPLE_384E" title="Permalink to this definition"></a><br /></dt>
<dd><p>MCLK = sample_rate * 384 (24-bit compatible) </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N19i2s_mclk_multiple_t21I2S_MCLK_MULTIPLE_512E">
<span id="_CPPv3N19i2s_mclk_multiple_t21I2S_MCLK_MULTIPLE_512E"></span><span id="_CPPv2N19i2s_mclk_multiple_t21I2S_MCLK_MULTIPLE_512E"></span><span class="target" id="esp__driver__i2s_2include_2driver_2i2s__types_8h_1ae8651ea5b54ab9e1b10fdb211d07154ba2561bef69390ddd9877de56ef4d60cb5"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_MCLK_MULTIPLE_512</span></span></span><a class="headerlink" href="#_CPPv4N19i2s_mclk_multiple_t21I2S_MCLK_MULTIPLE_512E" title="Permalink to this definition"></a><br /></dt>
<dd><p>MCLK = sample_rate * 512 </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N19i2s_mclk_multiple_t21I2S_MCLK_MULTIPLE_576E">
<span id="_CPPv3N19i2s_mclk_multiple_t21I2S_MCLK_MULTIPLE_576E"></span><span id="_CPPv2N19i2s_mclk_multiple_t21I2S_MCLK_MULTIPLE_576E"></span><span class="target" id="esp__driver__i2s_2include_2driver_2i2s__types_8h_1ae8651ea5b54ab9e1b10fdb211d07154ba822a46d0cff7776e0f628ccbd22da1a4"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_MCLK_MULTIPLE_576</span></span></span><a class="headerlink" href="#_CPPv4N19i2s_mclk_multiple_t21I2S_MCLK_MULTIPLE_576E" title="Permalink to this definition"></a><br /></dt>
<dd><p>MCLK = sample_rate * 576 (24-bit compatible) </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N19i2s_mclk_multiple_t21I2S_MCLK_MULTIPLE_768E">
<span id="_CPPv3N19i2s_mclk_multiple_t21I2S_MCLK_MULTIPLE_768E"></span><span id="_CPPv2N19i2s_mclk_multiple_t21I2S_MCLK_MULTIPLE_768E"></span><span class="target" id="esp__driver__i2s_2include_2driver_2i2s__types_8h_1ae8651ea5b54ab9e1b10fdb211d07154baa9200ca9c39463bd3fd9b26268087987"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_MCLK_MULTIPLE_768</span></span></span><a class="headerlink" href="#_CPPv4N19i2s_mclk_multiple_t21I2S_MCLK_MULTIPLE_768E" title="Permalink to this definition"></a><br /></dt>
<dd><p>MCLK = sample_rate * 768 (24-bit compatible) </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N19i2s_mclk_multiple_t22I2S_MCLK_MULTIPLE_1024E">
<span id="_CPPv3N19i2s_mclk_multiple_t22I2S_MCLK_MULTIPLE_1024E"></span><span id="_CPPv2N19i2s_mclk_multiple_t22I2S_MCLK_MULTIPLE_1024E"></span><span class="target" id="esp__driver__i2s_2include_2driver_2i2s__types_8h_1ae8651ea5b54ab9e1b10fdb211d07154bad7d0f3a6ad23040c2f63aac977ed0790"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_MCLK_MULTIPLE_1024</span></span></span><a class="headerlink" href="#_CPPv4N19i2s_mclk_multiple_t22I2S_MCLK_MULTIPLE_1024E" title="Permalink to this definition"></a><br /></dt>
<dd><p>MCLK = sample_rate * 1024 </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N19i2s_mclk_multiple_t22I2S_MCLK_MULTIPLE_1152E">
<span id="_CPPv3N19i2s_mclk_multiple_t22I2S_MCLK_MULTIPLE_1152E"></span><span id="_CPPv2N19i2s_mclk_multiple_t22I2S_MCLK_MULTIPLE_1152E"></span><span class="target" id="esp__driver__i2s_2include_2driver_2i2s__types_8h_1ae8651ea5b54ab9e1b10fdb211d07154ba0505ac8a2255ab2c0e5a02730aa1e97b"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_MCLK_MULTIPLE_1152</span></span></span><a class="headerlink" href="#_CPPv4N19i2s_mclk_multiple_t22I2S_MCLK_MULTIPLE_1152E" title="Permalink to this definition"></a><br /></dt>
<dd><p>MCLK = sample_rate * 1152 (24-bit compatible) </p>
</dd></dl>

</dd></dl>

</section>
<section id="id13">
<h3>Header File<a class="headerlink" href="#id13" title="Permalink to this heading"></a></h3>
<ul>
<li><p><a class="reference external" href="https://github.com/espressif/esp-idf/blob/v5.4.2/components/hal/include/hal/i2s_types.h">components/hal/include/hal/i2s_types.h</a></p></li>
<li><p>This header file can be included with:</p>
<blockquote>
<div><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;hal/i2s_types.h&quot;</span>
</pre></div>
</div>
</div></blockquote>
</li>
</ul>
</section>
<section id="id14">
<h3>Type Definitions<a class="headerlink" href="#id14" title="Permalink to this heading"></a></h3>
<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv415i2s_clock_src_t">
<span id="_CPPv315i2s_clock_src_t"></span><span id="_CPPv215i2s_clock_src_t"></span><span id="i2s_clock_src_t"></span><span class="target" id="hal_2include_2hal_2i2s__types_8h_1a2c90754be599d72b235ff0e179d761a7"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><a class="reference internal" href="clk_tree.html#_CPPv424soc_periph_i2s_clk_src_t" title="soc_periph_i2s_clk_src_t"><span class="n"><span class="pre">soc_periph_i2s_clk_src_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">i2s_clock_src_t</span></span></span><a class="headerlink" href="#_CPPv415i2s_clock_src_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>I2S clock source </p>
</dd></dl>

</section>
<section id="id15">
<h3>Enumerations<a class="headerlink" href="#id15" title="Permalink to this heading"></a></h3>
<dl class="cpp enum">
<dt class="sig sig-object cpp" id="_CPPv415i2s_slot_mode_t">
<span id="_CPPv315i2s_slot_mode_t"></span><span id="_CPPv215i2s_slot_mode_t"></span><span class="target" id="hal_2include_2hal_2i2s__types_8h_1a1c4947496cf1233f94411c92037904da"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">i2s_slot_mode_t</span></span></span><a class="headerlink" href="#_CPPv415i2s_slot_mode_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>I2S channel slot mode. </p>
<p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N15i2s_slot_mode_t18I2S_SLOT_MODE_MONOE">
<span id="_CPPv3N15i2s_slot_mode_t18I2S_SLOT_MODE_MONOE"></span><span id="_CPPv2N15i2s_slot_mode_t18I2S_SLOT_MODE_MONOE"></span><span class="target" id="hal_2include_2hal_2i2s__types_8h_1a1c4947496cf1233f94411c92037904daa8732077769e305eb9d43e19ff53212a4"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_SLOT_MODE_MONO</span></span></span><a class="headerlink" href="#_CPPv4N15i2s_slot_mode_t18I2S_SLOT_MODE_MONOE" title="Permalink to this definition"></a><br /></dt>
<dd><p>I2S channel slot format mono, transmit same data in all slots for tx mode, only receive the data in the first slots for rx mode. </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N15i2s_slot_mode_t20I2S_SLOT_MODE_STEREOE">
<span id="_CPPv3N15i2s_slot_mode_t20I2S_SLOT_MODE_STEREOE"></span><span id="_CPPv2N15i2s_slot_mode_t20I2S_SLOT_MODE_STEREOE"></span><span class="target" id="hal_2include_2hal_2i2s__types_8h_1a1c4947496cf1233f94411c92037904daa20396a60c019044e3263a84d64741339"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_SLOT_MODE_STEREO</span></span></span><a class="headerlink" href="#_CPPv4N15i2s_slot_mode_t20I2S_SLOT_MODE_STEREOE" title="Permalink to this definition"></a><br /></dt>
<dd><p>I2S channel slot format stereo, transmit different data in different slots for tx mode, receive the data in all slots for rx mode. </p>
</dd></dl>

</dd></dl>

<dl class="cpp enum">
<dt class="sig sig-object cpp" id="_CPPv49i2s_dir_t">
<span id="_CPPv39i2s_dir_t"></span><span id="_CPPv29i2s_dir_t"></span><span class="target" id="hal_2include_2hal_2i2s__types_8h_1a563f59f9e6d93b4ed5f2c7d1b0472b3b"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">i2s_dir_t</span></span></span><a class="headerlink" href="#_CPPv49i2s_dir_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>I2S channel direction. </p>
<p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N9i2s_dir_t10I2S_DIR_RXE">
<span id="_CPPv3N9i2s_dir_t10I2S_DIR_RXE"></span><span id="_CPPv2N9i2s_dir_t10I2S_DIR_RXE"></span><span class="target" id="hal_2include_2hal_2i2s__types_8h_1a563f59f9e6d93b4ed5f2c7d1b0472b3bac9f71d312c5d5ad7ef64af4217091aca"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_DIR_RX</span></span></span><a class="headerlink" href="#_CPPv4N9i2s_dir_t10I2S_DIR_RXE" title="Permalink to this definition"></a><br /></dt>
<dd><p>I2S channel direction RX </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N9i2s_dir_t10I2S_DIR_TXE">
<span id="_CPPv3N9i2s_dir_t10I2S_DIR_TXE"></span><span id="_CPPv2N9i2s_dir_t10I2S_DIR_TXE"></span><span class="target" id="hal_2include_2hal_2i2s__types_8h_1a563f59f9e6d93b4ed5f2c7d1b0472b3bab005c2cfee6206c2b5b596638e6c8443"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_DIR_TX</span></span></span><a class="headerlink" href="#_CPPv4N9i2s_dir_t10I2S_DIR_TXE" title="Permalink to this definition"></a><br /></dt>
<dd><p>I2S channel direction TX </p>
</dd></dl>

</dd></dl>

<dl class="cpp enum">
<dt class="sig sig-object cpp" id="_CPPv410i2s_role_t">
<span id="_CPPv310i2s_role_t"></span><span id="_CPPv210i2s_role_t"></span><span class="target" id="hal_2include_2hal_2i2s__types_8h_1a49215c9704dec85391a43c397c686cb0"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">i2s_role_t</span></span></span><a class="headerlink" href="#_CPPv410i2s_role_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>I2S controller role. </p>
<p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N10i2s_role_t15I2S_ROLE_MASTERE">
<span id="_CPPv3N10i2s_role_t15I2S_ROLE_MASTERE"></span><span id="_CPPv2N10i2s_role_t15I2S_ROLE_MASTERE"></span><span class="target" id="hal_2include_2hal_2i2s__types_8h_1a49215c9704dec85391a43c397c686cb0a150cd0ed470f1cab13a6c0cacf4a090d"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_ROLE_MASTER</span></span></span><a class="headerlink" href="#_CPPv4N10i2s_role_t15I2S_ROLE_MASTERE" title="Permalink to this definition"></a><br /></dt>
<dd><p>I2S controller master role, bclk and ws signal will be set to output </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N10i2s_role_t14I2S_ROLE_SLAVEE">
<span id="_CPPv3N10i2s_role_t14I2S_ROLE_SLAVEE"></span><span id="_CPPv2N10i2s_role_t14I2S_ROLE_SLAVEE"></span><span class="target" id="hal_2include_2hal_2i2s__types_8h_1a49215c9704dec85391a43c397c686cb0ad1aad5aa5bddd1e447c7775b7ba921dc"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_ROLE_SLAVE</span></span></span><a class="headerlink" href="#_CPPv4N10i2s_role_t14I2S_ROLE_SLAVEE" title="Permalink to this definition"></a><br /></dt>
<dd><p>I2S controller slave role, bclk and ws signal will be set to input </p>
</dd></dl>

</dd></dl>

<dl class="cpp enum">
<dt class="sig sig-object cpp" id="_CPPv420i2s_data_bit_width_t">
<span id="_CPPv320i2s_data_bit_width_t"></span><span id="_CPPv220i2s_data_bit_width_t"></span><span class="target" id="hal_2include_2hal_2i2s__types_8h_1a21c3abc5d9e31b1f7c9ca1a05dff3ab2"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">i2s_data_bit_width_t</span></span></span><a class="headerlink" href="#_CPPv420i2s_data_bit_width_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Available data bit width in one slot. </p>
<p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N20i2s_data_bit_width_t23I2S_DATA_BIT_WIDTH_8BITE">
<span id="_CPPv3N20i2s_data_bit_width_t23I2S_DATA_BIT_WIDTH_8BITE"></span><span id="_CPPv2N20i2s_data_bit_width_t23I2S_DATA_BIT_WIDTH_8BITE"></span><span class="target" id="hal_2include_2hal_2i2s__types_8h_1a21c3abc5d9e31b1f7c9ca1a05dff3ab2a147bff36d353b197dbd62735d31d9f69"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_DATA_BIT_WIDTH_8BIT</span></span></span><a class="headerlink" href="#_CPPv4N20i2s_data_bit_width_t23I2S_DATA_BIT_WIDTH_8BITE" title="Permalink to this definition"></a><br /></dt>
<dd><p>I2S channel data bit-width: 8 </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N20i2s_data_bit_width_t24I2S_DATA_BIT_WIDTH_16BITE">
<span id="_CPPv3N20i2s_data_bit_width_t24I2S_DATA_BIT_WIDTH_16BITE"></span><span id="_CPPv2N20i2s_data_bit_width_t24I2S_DATA_BIT_WIDTH_16BITE"></span><span class="target" id="hal_2include_2hal_2i2s__types_8h_1a21c3abc5d9e31b1f7c9ca1a05dff3ab2acb240539dc8309438af8a2261966df94"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_DATA_BIT_WIDTH_16BIT</span></span></span><a class="headerlink" href="#_CPPv4N20i2s_data_bit_width_t24I2S_DATA_BIT_WIDTH_16BITE" title="Permalink to this definition"></a><br /></dt>
<dd><p>I2S channel data bit-width: 16 </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N20i2s_data_bit_width_t24I2S_DATA_BIT_WIDTH_24BITE">
<span id="_CPPv3N20i2s_data_bit_width_t24I2S_DATA_BIT_WIDTH_24BITE"></span><span id="_CPPv2N20i2s_data_bit_width_t24I2S_DATA_BIT_WIDTH_24BITE"></span><span class="target" id="hal_2include_2hal_2i2s__types_8h_1a21c3abc5d9e31b1f7c9ca1a05dff3ab2a2762b6b2299501b19be5b9781caac42c"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_DATA_BIT_WIDTH_24BIT</span></span></span><a class="headerlink" href="#_CPPv4N20i2s_data_bit_width_t24I2S_DATA_BIT_WIDTH_24BITE" title="Permalink to this definition"></a><br /></dt>
<dd><p>I2S channel data bit-width: 24 </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N20i2s_data_bit_width_t24I2S_DATA_BIT_WIDTH_32BITE">
<span id="_CPPv3N20i2s_data_bit_width_t24I2S_DATA_BIT_WIDTH_32BITE"></span><span id="_CPPv2N20i2s_data_bit_width_t24I2S_DATA_BIT_WIDTH_32BITE"></span><span class="target" id="hal_2include_2hal_2i2s__types_8h_1a21c3abc5d9e31b1f7c9ca1a05dff3ab2a808413006bf5d0b1d4fcbef0962f3c1b"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_DATA_BIT_WIDTH_32BIT</span></span></span><a class="headerlink" href="#_CPPv4N20i2s_data_bit_width_t24I2S_DATA_BIT_WIDTH_32BITE" title="Permalink to this definition"></a><br /></dt>
<dd><p>I2S channel data bit-width: 32 </p>
</dd></dl>

</dd></dl>

<dl class="cpp enum">
<dt class="sig sig-object cpp" id="_CPPv420i2s_slot_bit_width_t">
<span id="_CPPv320i2s_slot_bit_width_t"></span><span id="_CPPv220i2s_slot_bit_width_t"></span><span class="target" id="hal_2include_2hal_2i2s__types_8h_1a3b4362b7f62ccb9889a9f75bb4eb917f"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">i2s_slot_bit_width_t</span></span></span><a class="headerlink" href="#_CPPv420i2s_slot_bit_width_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Total slot bit width in one slot. </p>
<p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N20i2s_slot_bit_width_t23I2S_SLOT_BIT_WIDTH_AUTOE">
<span id="_CPPv3N20i2s_slot_bit_width_t23I2S_SLOT_BIT_WIDTH_AUTOE"></span><span id="_CPPv2N20i2s_slot_bit_width_t23I2S_SLOT_BIT_WIDTH_AUTOE"></span><span class="target" id="hal_2include_2hal_2i2s__types_8h_1a3b4362b7f62ccb9889a9f75bb4eb917fa78078e93a11b3e798976bfb69882b6de"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_SLOT_BIT_WIDTH_AUTO</span></span></span><a class="headerlink" href="#_CPPv4N20i2s_slot_bit_width_t23I2S_SLOT_BIT_WIDTH_AUTOE" title="Permalink to this definition"></a><br /></dt>
<dd><p>I2S channel slot bit-width equals to data bit-width </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N20i2s_slot_bit_width_t23I2S_SLOT_BIT_WIDTH_8BITE">
<span id="_CPPv3N20i2s_slot_bit_width_t23I2S_SLOT_BIT_WIDTH_8BITE"></span><span id="_CPPv2N20i2s_slot_bit_width_t23I2S_SLOT_BIT_WIDTH_8BITE"></span><span class="target" id="hal_2include_2hal_2i2s__types_8h_1a3b4362b7f62ccb9889a9f75bb4eb917faec09c5841d4c29fd78d9c3f3c111e68d"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_SLOT_BIT_WIDTH_8BIT</span></span></span><a class="headerlink" href="#_CPPv4N20i2s_slot_bit_width_t23I2S_SLOT_BIT_WIDTH_8BITE" title="Permalink to this definition"></a><br /></dt>
<dd><p>I2S channel slot bit-width: 8 </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N20i2s_slot_bit_width_t24I2S_SLOT_BIT_WIDTH_16BITE">
<span id="_CPPv3N20i2s_slot_bit_width_t24I2S_SLOT_BIT_WIDTH_16BITE"></span><span id="_CPPv2N20i2s_slot_bit_width_t24I2S_SLOT_BIT_WIDTH_16BITE"></span><span class="target" id="hal_2include_2hal_2i2s__types_8h_1a3b4362b7f62ccb9889a9f75bb4eb917fa686b7e9c2ab6d5d6dd7c91416a41c5da"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_SLOT_BIT_WIDTH_16BIT</span></span></span><a class="headerlink" href="#_CPPv4N20i2s_slot_bit_width_t24I2S_SLOT_BIT_WIDTH_16BITE" title="Permalink to this definition"></a><br /></dt>
<dd><p>I2S channel slot bit-width: 16 </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N20i2s_slot_bit_width_t24I2S_SLOT_BIT_WIDTH_24BITE">
<span id="_CPPv3N20i2s_slot_bit_width_t24I2S_SLOT_BIT_WIDTH_24BITE"></span><span id="_CPPv2N20i2s_slot_bit_width_t24I2S_SLOT_BIT_WIDTH_24BITE"></span><span class="target" id="hal_2include_2hal_2i2s__types_8h_1a3b4362b7f62ccb9889a9f75bb4eb917fa6d8f8c296d091de8e02d4067da557735"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_SLOT_BIT_WIDTH_24BIT</span></span></span><a class="headerlink" href="#_CPPv4N20i2s_slot_bit_width_t24I2S_SLOT_BIT_WIDTH_24BITE" title="Permalink to this definition"></a><br /></dt>
<dd><p>I2S channel slot bit-width: 24 </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N20i2s_slot_bit_width_t24I2S_SLOT_BIT_WIDTH_32BITE">
<span id="_CPPv3N20i2s_slot_bit_width_t24I2S_SLOT_BIT_WIDTH_32BITE"></span><span id="_CPPv2N20i2s_slot_bit_width_t24I2S_SLOT_BIT_WIDTH_32BITE"></span><span class="target" id="hal_2include_2hal_2i2s__types_8h_1a3b4362b7f62ccb9889a9f75bb4eb917fa632933da94548170a410b52bfce66a98"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_SLOT_BIT_WIDTH_32BIT</span></span></span><a class="headerlink" href="#_CPPv4N20i2s_slot_bit_width_t24I2S_SLOT_BIT_WIDTH_32BITE" title="Permalink to this definition"></a><br /></dt>
<dd><p>I2S channel slot bit-width: 32 </p>
</dd></dl>

</dd></dl>

<dl class="cpp enum">
<dt class="sig sig-object cpp" id="_CPPv413i2s_pdm_dsr_t">
<span id="_CPPv313i2s_pdm_dsr_t"></span><span id="_CPPv213i2s_pdm_dsr_t"></span><span class="target" id="hal_2include_2hal_2i2s__types_8h_1a1500b29caa0c982e8697be827ee35f2c"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">i2s_pdm_dsr_t</span></span></span><a class="headerlink" href="#_CPPv413i2s_pdm_dsr_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>I2S PDM RX down-sampling mode. </p>
<p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N13i2s_pdm_dsr_t14I2S_PDM_DSR_8SE">
<span id="_CPPv3N13i2s_pdm_dsr_t14I2S_PDM_DSR_8SE"></span><span id="_CPPv2N13i2s_pdm_dsr_t14I2S_PDM_DSR_8SE"></span><span class="target" id="hal_2include_2hal_2i2s__types_8h_1a1500b29caa0c982e8697be827ee35f2ca1df7aa1f41375ffc43d19062f486a176"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_PDM_DSR_8S</span></span></span><a class="headerlink" href="#_CPPv4N13i2s_pdm_dsr_t14I2S_PDM_DSR_8SE" title="Permalink to this definition"></a><br /></dt>
<dd><p>downsampling number is 8 for PDM RX mode </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N13i2s_pdm_dsr_t15I2S_PDM_DSR_16SE">
<span id="_CPPv3N13i2s_pdm_dsr_t15I2S_PDM_DSR_16SE"></span><span id="_CPPv2N13i2s_pdm_dsr_t15I2S_PDM_DSR_16SE"></span><span class="target" id="hal_2include_2hal_2i2s__types_8h_1a1500b29caa0c982e8697be827ee35f2ca2af4d3db6384b106afb7f4b8536158e7"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_PDM_DSR_16S</span></span></span><a class="headerlink" href="#_CPPv4N13i2s_pdm_dsr_t15I2S_PDM_DSR_16SE" title="Permalink to this definition"></a><br /></dt>
<dd><p>downsampling number is 16 for PDM RX mode </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N13i2s_pdm_dsr_t15I2S_PDM_DSR_MAXE">
<span id="_CPPv3N13i2s_pdm_dsr_t15I2S_PDM_DSR_MAXE"></span><span id="_CPPv2N13i2s_pdm_dsr_t15I2S_PDM_DSR_MAXE"></span><span class="target" id="hal_2include_2hal_2i2s__types_8h_1a1500b29caa0c982e8697be827ee35f2ca1578543d07a31d111bc8feab60a30a27"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_PDM_DSR_MAX</span></span></span><a class="headerlink" href="#_CPPv4N13i2s_pdm_dsr_t15I2S_PDM_DSR_MAXE" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

</dd></dl>

<dl class="cpp enum">
<dt class="sig sig-object cpp" id="_CPPv419i2s_pdm_sig_scale_t">
<span id="_CPPv319i2s_pdm_sig_scale_t"></span><span id="_CPPv219i2s_pdm_sig_scale_t"></span><span class="target" id="hal_2include_2hal_2i2s__types_8h_1a0e9371707110e54dda1a1780bec08ea5"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">i2s_pdm_sig_scale_t</span></span></span><a class="headerlink" href="#_CPPv419i2s_pdm_sig_scale_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>pdm tx signal scaling mode </p>
<p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N19i2s_pdm_sig_scale_t25I2S_PDM_SIG_SCALING_DIV_2E">
<span id="_CPPv3N19i2s_pdm_sig_scale_t25I2S_PDM_SIG_SCALING_DIV_2E"></span><span id="_CPPv2N19i2s_pdm_sig_scale_t25I2S_PDM_SIG_SCALING_DIV_2E"></span><span class="target" id="hal_2include_2hal_2i2s__types_8h_1a0e9371707110e54dda1a1780bec08ea5aa58ce18a2f29cd2e1bf6babd8b267fa1"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_PDM_SIG_SCALING_DIV_2</span></span></span><a class="headerlink" href="#_CPPv4N19i2s_pdm_sig_scale_t25I2S_PDM_SIG_SCALING_DIV_2E" title="Permalink to this definition"></a><br /></dt>
<dd><p>I2S TX PDM signal scaling: /2 </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N19i2s_pdm_sig_scale_t25I2S_PDM_SIG_SCALING_MUL_1E">
<span id="_CPPv3N19i2s_pdm_sig_scale_t25I2S_PDM_SIG_SCALING_MUL_1E"></span><span id="_CPPv2N19i2s_pdm_sig_scale_t25I2S_PDM_SIG_SCALING_MUL_1E"></span><span class="target" id="hal_2include_2hal_2i2s__types_8h_1a0e9371707110e54dda1a1780bec08ea5a544ef603c8e07c5986400acfc03fcd70"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_PDM_SIG_SCALING_MUL_1</span></span></span><a class="headerlink" href="#_CPPv4N19i2s_pdm_sig_scale_t25I2S_PDM_SIG_SCALING_MUL_1E" title="Permalink to this definition"></a><br /></dt>
<dd><p>I2S TX PDM signal scaling: x1 </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N19i2s_pdm_sig_scale_t25I2S_PDM_SIG_SCALING_MUL_2E">
<span id="_CPPv3N19i2s_pdm_sig_scale_t25I2S_PDM_SIG_SCALING_MUL_2E"></span><span id="_CPPv2N19i2s_pdm_sig_scale_t25I2S_PDM_SIG_SCALING_MUL_2E"></span><span class="target" id="hal_2include_2hal_2i2s__types_8h_1a0e9371707110e54dda1a1780bec08ea5ae13d4d09fc63fc484ac0728e105a3b23"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_PDM_SIG_SCALING_MUL_2</span></span></span><a class="headerlink" href="#_CPPv4N19i2s_pdm_sig_scale_t25I2S_PDM_SIG_SCALING_MUL_2E" title="Permalink to this definition"></a><br /></dt>
<dd><p>I2S TX PDM signal scaling: x2 </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N19i2s_pdm_sig_scale_t25I2S_PDM_SIG_SCALING_MUL_4E">
<span id="_CPPv3N19i2s_pdm_sig_scale_t25I2S_PDM_SIG_SCALING_MUL_4E"></span><span id="_CPPv2N19i2s_pdm_sig_scale_t25I2S_PDM_SIG_SCALING_MUL_4E"></span><span class="target" id="hal_2include_2hal_2i2s__types_8h_1a0e9371707110e54dda1a1780bec08ea5abdcdbdbf8069bc489222e63b08f7ecff"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_PDM_SIG_SCALING_MUL_4</span></span></span><a class="headerlink" href="#_CPPv4N19i2s_pdm_sig_scale_t25I2S_PDM_SIG_SCALING_MUL_4E" title="Permalink to this definition"></a><br /></dt>
<dd><p>I2S TX PDM signal scaling: x4 </p>
</dd></dl>

</dd></dl>

<dl class="cpp enum">
<dt class="sig sig-object cpp" id="_CPPv419i2s_std_slot_mask_t">
<span id="_CPPv319i2s_std_slot_mask_t"></span><span id="_CPPv219i2s_std_slot_mask_t"></span><span class="target" id="hal_2include_2hal_2i2s__types_8h_1a653adc0c969e72dde8bf133a11d3c81d"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">i2s_std_slot_mask_t</span></span></span><a class="headerlink" href="#_CPPv419i2s_std_slot_mask_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>I2S slot select in standard mode. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It has different meanings in tx/rx/mono/stereo mode, and it may have different behaviors on different targets For the details, please refer to the I2S API reference </p>
</div>
<p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N19i2s_std_slot_mask_t17I2S_STD_SLOT_LEFTE">
<span id="_CPPv3N19i2s_std_slot_mask_t17I2S_STD_SLOT_LEFTE"></span><span id="_CPPv2N19i2s_std_slot_mask_t17I2S_STD_SLOT_LEFTE"></span><span class="target" id="hal_2include_2hal_2i2s__types_8h_1a653adc0c969e72dde8bf133a11d3c81dac89dd683813ffbbd49876d2f1922b594"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_STD_SLOT_LEFT</span></span></span><a class="headerlink" href="#_CPPv4N19i2s_std_slot_mask_t17I2S_STD_SLOT_LEFTE" title="Permalink to this definition"></a><br /></dt>
<dd><p>I2S transmits or receives left slot </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N19i2s_std_slot_mask_t18I2S_STD_SLOT_RIGHTE">
<span id="_CPPv3N19i2s_std_slot_mask_t18I2S_STD_SLOT_RIGHTE"></span><span id="_CPPv2N19i2s_std_slot_mask_t18I2S_STD_SLOT_RIGHTE"></span><span class="target" id="hal_2include_2hal_2i2s__types_8h_1a653adc0c969e72dde8bf133a11d3c81daaa86989412c575c33017397894643e34"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_STD_SLOT_RIGHT</span></span></span><a class="headerlink" href="#_CPPv4N19i2s_std_slot_mask_t18I2S_STD_SLOT_RIGHTE" title="Permalink to this definition"></a><br /></dt>
<dd><p>I2S transmits or receives right slot </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N19i2s_std_slot_mask_t17I2S_STD_SLOT_BOTHE">
<span id="_CPPv3N19i2s_std_slot_mask_t17I2S_STD_SLOT_BOTHE"></span><span id="_CPPv2N19i2s_std_slot_mask_t17I2S_STD_SLOT_BOTHE"></span><span class="target" id="hal_2include_2hal_2i2s__types_8h_1a653adc0c969e72dde8bf133a11d3c81da27dd6bf918238c5a46275c62af686fab"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_STD_SLOT_BOTH</span></span></span><a class="headerlink" href="#_CPPv4N19i2s_std_slot_mask_t17I2S_STD_SLOT_BOTHE" title="Permalink to this definition"></a><br /></dt>
<dd><p>I2S transmits or receives both left and right slot </p>
</dd></dl>

</dd></dl>

<dl class="cpp enum">
<dt class="sig sig-object cpp" id="_CPPv419i2s_pdm_slot_mask_t">
<span id="_CPPv319i2s_pdm_slot_mask_t"></span><span id="_CPPv219i2s_pdm_slot_mask_t"></span><span class="target" id="hal_2include_2hal_2i2s__types_8h_1a4119c7568149777431ef131d260fafb4"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">i2s_pdm_slot_mask_t</span></span></span><a class="headerlink" href="#_CPPv419i2s_pdm_slot_mask_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>I2S slot select in PDM mode. </p>
<p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N19i2s_pdm_slot_mask_t18I2S_PDM_SLOT_RIGHTE">
<span id="_CPPv3N19i2s_pdm_slot_mask_t18I2S_PDM_SLOT_RIGHTE"></span><span id="_CPPv2N19i2s_pdm_slot_mask_t18I2S_PDM_SLOT_RIGHTE"></span><span class="target" id="hal_2include_2hal_2i2s__types_8h_1a4119c7568149777431ef131d260fafb4a2ca19c327bc9f5e4429e33420ba49258"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_PDM_SLOT_RIGHT</span></span></span><a class="headerlink" href="#_CPPv4N19i2s_pdm_slot_mask_t18I2S_PDM_SLOT_RIGHTE" title="Permalink to this definition"></a><br /></dt>
<dd><p>I2S PDM only transmits or receives the PDM device whose 'select' pin is pulled up </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N19i2s_pdm_slot_mask_t17I2S_PDM_SLOT_LEFTE">
<span id="_CPPv3N19i2s_pdm_slot_mask_t17I2S_PDM_SLOT_LEFTE"></span><span id="_CPPv2N19i2s_pdm_slot_mask_t17I2S_PDM_SLOT_LEFTE"></span><span class="target" id="hal_2include_2hal_2i2s__types_8h_1a4119c7568149777431ef131d260fafb4a4c0b17a7501a70d9c3031a6628b71e9a"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_PDM_SLOT_LEFT</span></span></span><a class="headerlink" href="#_CPPv4N19i2s_pdm_slot_mask_t17I2S_PDM_SLOT_LEFTE" title="Permalink to this definition"></a><br /></dt>
<dd><p>I2S PDM only transmits or receives the PDM device whose 'select' pin is pulled down </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N19i2s_pdm_slot_mask_t17I2S_PDM_SLOT_BOTHE">
<span id="_CPPv3N19i2s_pdm_slot_mask_t17I2S_PDM_SLOT_BOTHE"></span><span id="_CPPv2N19i2s_pdm_slot_mask_t17I2S_PDM_SLOT_BOTHE"></span><span class="target" id="hal_2include_2hal_2i2s__types_8h_1a4119c7568149777431ef131d260fafb4a0e3fab0085fc17a02a98e3daa2d9d65a"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_PDM_SLOT_BOTH</span></span></span><a class="headerlink" href="#_CPPv4N19i2s_pdm_slot_mask_t17I2S_PDM_SLOT_BOTHE" title="Permalink to this definition"></a><br /></dt>
<dd><p>I2S PDM transmits or receives both two slots </p>
</dd></dl>

</dd></dl>

<dl class="cpp enum">
<dt class="sig sig-object cpp" id="_CPPv420i2s_etm_event_type_t">
<span id="_CPPv320i2s_etm_event_type_t"></span><span id="_CPPv220i2s_etm_event_type_t"></span><span class="target" id="hal_2include_2hal_2i2s__types_8h_1a2c61ae40b2680efb8651297c89d7542e"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">i2s_etm_event_type_t</span></span></span><a class="headerlink" href="#_CPPv420i2s_etm_event_type_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>I2S channel events that supported by the ETM module. </p>
<p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N20i2s_etm_event_type_t18I2S_ETM_EVENT_DONEE">
<span id="_CPPv3N20i2s_etm_event_type_t18I2S_ETM_EVENT_DONEE"></span><span id="_CPPv2N20i2s_etm_event_type_t18I2S_ETM_EVENT_DONEE"></span><span class="target" id="hal_2include_2hal_2i2s__types_8h_1a2c61ae40b2680efb8651297c89d7542eaa3c47fe8581fd94f47613d5753474e62"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_ETM_EVENT_DONE</span></span></span><a class="headerlink" href="#_CPPv4N20i2s_etm_event_type_t18I2S_ETM_EVENT_DONEE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Trigger condition: TX: no data to send in the TX FIFO, i.e., DMA need to stop (next desc is NULL) RX: 1. If rx_stop_mode = 0, this event will trigger when DMA is stopped (next desc is NULL)<ol class="lowerroman simple">
<li><p>If rx_stop_mode = 1, this event will trigger when DMA in_suc_eof.</p></li>
<li><p>If rx_stop_mode = 2, this event will trigger when RX FIFO is full. Event that I2S TX or RX stopped </p></li>
</ol>
</p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N20i2s_etm_event_type_t26I2S_ETM_EVENT_REACH_THRESHE">
<span id="_CPPv3N20i2s_etm_event_type_t26I2S_ETM_EVENT_REACH_THRESHE"></span><span id="_CPPv2N20i2s_etm_event_type_t26I2S_ETM_EVENT_REACH_THRESHE"></span><span class="target" id="hal_2include_2hal_2i2s__types_8h_1a2c61ae40b2680efb8651297c89d7542eae7e6e6d6f347379f52c073944f345c39"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_ETM_EVENT_REACH_THRESH</span></span></span><a class="headerlink" href="#_CPPv4N20i2s_etm_event_type_t26I2S_ETM_EVENT_REACH_THRESHE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Trigger condition: TX: the sent words(in 32-bit) number reach the threshold that configured in <code class="docutils literal notranslate"><span class="pre">etm_tx_send_word_num</span></code> RX: the received words(in 32-bit) number reach the threshold that configured in <code class="docutils literal notranslate"><span class="pre">etm_rx_receive_word_num</span></code> and <code class="docutils literal notranslate"><span class="pre">etm_rx_receive_word_num</span></code> should be smaller than the size of the DMA buffer in one <code class="docutils literal notranslate"><span class="pre">in_suc_eof</span></code> event. Event that the I2S sent or received data reached the threshold </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N20i2s_etm_event_type_t17I2S_ETM_EVENT_MAXE">
<span id="_CPPv3N20i2s_etm_event_type_t17I2S_ETM_EVENT_MAXE"></span><span id="_CPPv2N20i2s_etm_event_type_t17I2S_ETM_EVENT_MAXE"></span><span class="target" id="hal_2include_2hal_2i2s__types_8h_1a2c61ae40b2680efb8651297c89d7542eab1f5509d67a02c552141879d2be0d09e"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_ETM_EVENT_MAX</span></span></span><a class="headerlink" href="#_CPPv4N20i2s_etm_event_type_t17I2S_ETM_EVENT_MAXE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Maximum number of events </p>
</dd></dl>

</dd></dl>

<dl class="cpp enum">
<dt class="sig sig-object cpp" id="_CPPv419i2s_etm_task_type_t">
<span id="_CPPv319i2s_etm_task_type_t"></span><span id="_CPPv219i2s_etm_task_type_t"></span><span class="target" id="hal_2include_2hal_2i2s__types_8h_1acfba33ebaa246f8e1bee0d14a73d50c3"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">i2s_etm_task_type_t</span></span></span><a class="headerlink" href="#_CPPv419i2s_etm_task_type_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>I2S channel tasks that supported by the ETM module. </p>
<p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N19i2s_etm_task_type_t18I2S_ETM_TASK_STARTE">
<span id="_CPPv3N19i2s_etm_task_type_t18I2S_ETM_TASK_STARTE"></span><span id="_CPPv2N19i2s_etm_task_type_t18I2S_ETM_TASK_STARTE"></span><span class="target" id="hal_2include_2hal_2i2s__types_8h_1acfba33ebaa246f8e1bee0d14a73d50c3a6fe18eac2a7353cdba7a2150f18e01b0"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_ETM_TASK_START</span></span></span><a class="headerlink" href="#_CPPv4N19i2s_etm_task_type_t18I2S_ETM_TASK_STARTE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Start the I2S channel </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N19i2s_etm_task_type_t17I2S_ETM_TASK_STOPE">
<span id="_CPPv3N19i2s_etm_task_type_t17I2S_ETM_TASK_STOPE"></span><span id="_CPPv2N19i2s_etm_task_type_t17I2S_ETM_TASK_STOPE"></span><span class="target" id="hal_2include_2hal_2i2s__types_8h_1acfba33ebaa246f8e1bee0d14a73d50c3a4728fc035327ba9642dea4869b88684c"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_ETM_TASK_STOP</span></span></span><a class="headerlink" href="#_CPPv4N19i2s_etm_task_type_t17I2S_ETM_TASK_STOPE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Stop the I2S channel </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N19i2s_etm_task_type_t16I2S_ETM_TASK_MAXE">
<span id="_CPPv3N19i2s_etm_task_type_t16I2S_ETM_TASK_MAXE"></span><span id="_CPPv2N19i2s_etm_task_type_t16I2S_ETM_TASK_MAXE"></span><span class="target" id="hal_2include_2hal_2i2s__types_8h_1acfba33ebaa246f8e1bee0d14a73d50c3aca114d01037a4345b43ff7ecadb1f554"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_ETM_TASK_MAX</span></span></span><a class="headerlink" href="#_CPPv4N19i2s_etm_task_type_t16I2S_ETM_TASK_MAXE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Maximum number of tasks </p>
</dd></dl>

</dd></dl>

</section>
</section>
</section>

    <script type="text/javascript">
        function init() {
            WaveDrom.ProcessAll();
        }
        window.onload = init;
    </script>

           </div>
             <div class="articleComments">

<style>
    .expand-feedback-content {
        display: none;
    }
    .click-like-or-dislike {
        background-color: #d3d3d3;
        pointer-events: none;
    }
</style>

<script>
    function submitFeedbackForm(user_likes_document) {
        // Send to GA4 the user reaction
        gtag('event', 'user_reaction', {
            'user_likes_document': user_likes_document
        });

        if (user_likes_document === 1) {
            document.querySelector('.like-btn').classList.add('click-like-or-dislike');
            document.getElementById("expandContentLike").style.display = 'block';
        } else {
            document.querySelector('.dislike-btn').classList.add('click-like-or-dislike');
            document.getElementById("expandContent").style.display = 'block';
        }

        document.querySelector('.like-btn').style.pointerEvents = 'none';
        document.querySelector('.dislike-btn').style.pointerEvents = 'none';
    }
</script>

<hr>

<p style="text-align:center"><strong>Was this page helpful?</strong></p>
<p style="text-align:center">
    <button class="like-btn" onclick="submitFeedbackForm(1)">
        <svg aria-hidden="true" focusable="false" class="color-fg-muted" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible">
            <path d="M8.834.066c.763.087 1.5.295 2.01.884.505.581.656 1.378.656 2.3 0 .467-.087 1.119-.157 1.637L11.328 5h1.422c.603 0 1.174.085 1.668.333.508.254.911.679 1.137 1.2.453.998.438 2.447.188 4.316l-.04.306c-.105.79-.195 1.473-.313 2.033-.131.63-.315 1.209-.668 1.672C13.97 15.847 12.706 16 11 16c-1.848 0-3.234-.333-4.388-.653-.165-.045-.323-.09-.475-.133-.658-.186-1.2-.34-1.725-.415A1.75 1.75 0 0 1 2.75 16h-1A1.75 1.75 0 0 1 0 14.25v-7.5C0 5.784.784 5 1.75 5h1a1.75 1.75 0 0 1 1.514.872c.258-.105.59-.268.918-.508C5.853 4.874 6.5 4.079 6.5 2.75v-.5c0-1.202.994-2.337 2.334-2.184ZM4.5 13.3c.705.088 1.39.284 2.072.478l.441.125c1.096.305 2.334.598 3.987.598 1.794 0 2.28-.223 2.528-.549.147-.193.276-.505.394-1.07.105-.502.188-1.124.295-1.93l.04-.3c.25-1.882.189-2.933-.068-3.497a.921.921 0 0 0-.442-.48c-.208-.104-.52-.174-.997-.174H11c-.686 0-1.295-.577-1.206-1.336.023-.192.05-.39.076-.586.065-.488.13-.97.13-1.328 0-.809-.144-1.15-.288-1.316-.137-.158-.402-.304-1.048-.378C8.357 1.521 8 1.793 8 2.25v.5c0 1.922-.978 3.128-1.933 3.825a5.831 5.831 0 0 1-1.567.81ZM2.75 6.5h-1a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h1a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
        </svg>
    </button>
    <button class="dislike-btn" onclick="submitFeedbackForm(0)">
        <svg aria-hidden="true" focusable="false" class="" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible">
            <path d="M7.083 15.986c-.763-.087-1.499-.295-2.011-.884-.504-.581-.655-1.378-.655-2.299 0-.468.087-1.12.157-1.638l.015-.112H3.167c-.603 0-1.174-.086-1.669-.334a2.415 2.415 0 0 1-1.136-1.2c-.454-.998-.438-2.447-.188-4.316l.04-.306C.32 4.108.41 3.424.526 2.864c.132-.63.316-1.209.669-1.672C1.947.205 3.211.053 4.917.053c1.848 0 3.234.332 4.388.652l.474.133c.658.187 1.201.341 1.726.415a1.75 1.75 0 0 1 1.662-1.2h1c.966 0 1.75.784 1.75 1.75v7.5a1.75 1.75 0 0 1-1.75 1.75h-1a1.75 1.75 0 0 1-1.514-.872c-.259.105-.59.268-.919.508-.671.491-1.317 1.285-1.317 2.614v.5c0 1.201-.994 2.336-2.334 2.183Zm4.334-13.232c-.706-.089-1.39-.284-2.072-.479l-.441-.125c-1.096-.304-2.335-.597-3.987-.597-1.794 0-2.28.222-2.529.548-.147.193-.275.505-.393 1.07-.105.502-.188 1.124-.295 1.93l-.04.3c-.25 1.882-.19 2.933.067 3.497a.923.923 0 0 0 .443.48c.208.104.52.175.997.175h1.75c.685 0 1.295.577 1.205 1.335-.022.192-.049.39-.075.586-.066.488-.13.97-.13 1.329 0 .808.144 1.15.288 1.316.137.157.401.303 1.048.377.307.035.664-.237.664-.693v-.5c0-1.922.978-3.127 1.932-3.825a5.878 5.878 0 0 1 1.568-.809Zm1.75 6.798h1a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25h-1a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25Z"></path>
        </svg>
    </button>
</p>

<div class="expand-feedback-content" id="expandContentLike">
    <ul style="text-align:center">
        <li>Thank you! We received your feedback.</li>
        <li>If you have any comments, fill in <a href='https://www.espressif.com/en/company/documents/documentation_feedback?docId=4287&sections=Inter-IC Sound (I2S) (api-reference/peripherals/i2s)&version=esp32 v5.4.2 (v5.4.2)'>Espressif Documentation Feedback Form</a>.</li>
    </ul>
</div>

<div class="expand-feedback-content" id="expandContent">
    <ul style="text-align:center">
        <li>We value your feedback.</li>
        <li>Let us know how we can improve this page by filling in <a href='https://www.espressif.com/en/company/documents/documentation_feedback?docId=4287&sections=Inter-IC Sound (I2S) (api-reference/peripherals/i2s)&version=esp32 v5.4.2 (v5.4.2)'>Espressif Documentation Feedback Form</a>.</li>
    </ul>
</div>

<br>


             </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="i2c_slave_v1.html" class="btn btn-neutral float-left" title="I2C Slave v1.0" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="lcd/index.html" class="btn btn-neutral float-right" title="LCD" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2016 - 2025, Espressif Systems (Shanghai) Co., Ltd.</p>
  </div>

  <ul class="footer">
        <li>
	    
            
            Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/espressif/sphinx_idf_theme">theme</a>  based on <a href="https://github.com/readthedocs/sphinx_rtd_theme">Read the Docs Sphinx Theme</a>.
         </li>
    <li class="footer-aside">
        <a href="../../esp-idf-en-v5.4.2.zip"> Download HTML</a>
    </li>

  </ul> 

</footer>
        </div>
      </div>
    </section>
  </div>

  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>