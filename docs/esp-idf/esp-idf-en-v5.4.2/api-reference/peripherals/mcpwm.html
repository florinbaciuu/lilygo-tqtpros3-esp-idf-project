<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" />
        <!-- Global site tag (gtag.js) - Google Analytics -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-73KGWFC8DM"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());

            gtag('config', 'G-73KGWFC8DM');
        </script><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Motor Control Pulse Width Modulator (MCPWM) - ESP32 -  &mdash; ESP-IDF Programming Guide v5.4.2 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=a60756f2" />
      <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=949a1ff5" />
      <link rel="stylesheet" type="text/css" href="../../_static/theme_overrides.css?v=851bd809" />

  
    <link rel="canonical" href="https://docs.espressif.com/projects/esp-idf/en/stable/esp32/api-reference/peripherals/mcpwm.html" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js?v=c241bbaf"></script>
        <script src="../../_static/doctools.js?v=888ff710"></script>
        <script src="../../_static/sphinx_highlight.js?v=4825356b"></script>
        <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../../_static/copybutton.js?v=ff8fa330"></script>
        <script src="https://wavedrom.com/skins/default.js"></script>
        <script src="https://wavedrom.com/wavedrom.min.js"></script>
    <script src="../../_static/js/theme.js"></script>

    
        

    <script type="text/javascript">
        DOCUMENTATION_OPTIONS.PAGENAME = 'api-reference/peripherals/mcpwm';
        DOCUMENTATION_OPTIONS.PROJECT_SLUG = 'esp-idf';
        DOCUMENTATION_OPTIONS.LATEST_BRANCH_NAME = 'master';
        DOCUMENTATION_OPTIONS.VERSIONS_URL = 'https://dl.espressif.com/dl/esp-idf/idf_versions.js';
        DOCUMENTATION_OPTIONS.LANGUAGES = ["en", "zh_CN"];
        DOCUMENTATION_OPTIONS.IDF_TARGET = 'esp32';
        DOCUMENTATION_OPTIONS.HAS_IDF_TARGETS = ["esp32", "esp32s2", "esp32s3", "esp32c3", "esp32c2", "esp32c5", "esp32c6", "esp32p4"]
        DOCUMENTATION_OPTIONS.RELEASE = 'v5.4.2';
        DOCUMENTATION_OPTIONS.LANGUAGE_URL = 'en';

    </script>

    <script type="text/javascript" src="https://dl.espressif.com/dl/esp-idf/idf_versions.js"></script>
    <link rel="author" title="About these documents" href="../../about.html" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Pulse Counter (PCNT)" href="pcnt.html" />
    <link rel="prev" title="LED Control (LEDC)" href="ledc.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            ESP-IDF Programming Guide
              <img src="../../_static/espressif-logo.svg" class="logo" alt="Logo"/>
          </a>

          
            <div class="selectors">
              <select id="target-select" style="width: 150px;" hidden>
                <option value="" disabled selected>Choose target...</option>
              </select>
            </div>
          

          <div class="selectors">
            <select id="version-select" style="width: 150px;" hidden>
              <option value="" disabled selected>Choose version...</option>
            </select>
          </div>

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../get-started/index.html">Get Started</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">API Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../api-conventions.html">API Conventions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../protocols/index.html">Application Protocols</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bluetooth/index.html">Bluetooth® API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../error-codes.html">Error Codes Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="../network/index.html">Networking APIs</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Peripherals API</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="adc_oneshot.html">Analog to Digital Converter (ADC) Oneshot Mode Driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="adc_continuous.html">Analog to Digital Converter (ADC) Continuous Mode Driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="adc_calibration.html">Analog to Digital Converter (ADC) Calibration Driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="clk_tree.html">Clock Tree</a></li>
<li class="toctree-l3"><a class="reference internal" href="dac.html">Digital To Analog Converter (DAC)</a></li>
<li class="toctree-l3"><a class="reference internal" href="gpio.html">GPIO &amp; RTC GPIO</a></li>
<li class="toctree-l3"><a class="reference internal" href="gptimer.html">General Purpose Timer (GPTimer)</a></li>
<li class="toctree-l3"><a class="reference internal" href="i2c.html">Inter-Integrated Circuit (I2C)</a></li>
<li class="toctree-l3"><a class="reference internal" href="i2s.html">Inter-IC Sound (I2S)</a></li>
<li class="toctree-l3"><a class="reference internal" href="lcd/index.html">LCD</a></li>
<li class="toctree-l3"><a class="reference internal" href="ledc.html">LED Control (LEDC)</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Motor Control Pulse Width Modulator (MCPWM)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#functional-overview">Functional Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="#application-examples">Application Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="#api-reference">API Reference</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="pcnt.html">Pulse Counter (PCNT)</a></li>
<li class="toctree-l3"><a class="reference internal" href="rmt.html">Remote Control Transceiver (RMT)</a></li>
<li class="toctree-l3"><a class="reference internal" href="sd_pullup_requirements.html">SD Pull-up Requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="sdmmc_host.html">SDMMC Host Driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="sdspi_host.html">SD SPI Host Driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="sdio_slave.html">SDIO Card Slave Driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="sdm.html">Sigma-Delta Modulation (SDM)</a></li>
<li class="toctree-l3"><a class="reference internal" href="spi_flash/index.html">SPI Flash API</a></li>
<li class="toctree-l3"><a class="reference internal" href="spi_master.html">SPI Master Driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="spi_slave.html">SPI Slave Driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="touch_pad.html">Touch Sensor</a></li>
<li class="toctree-l3"><a class="reference internal" href="twai.html">Two-Wire Automotive Interface (TWAI)</a></li>
<li class="toctree-l3"><a class="reference internal" href="uart.html">Universal Asynchronous Receiver/Transmitter (UART)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../kconfig.html">Project Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../provisioning/index.html">Provisioning API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../storage/index.html">Storage API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../system/index.html">System API</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../hw-reference/index.html">Hardware Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api-guides/index.html">API Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../security/index.html">Security Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../migration-guides/index.html">Migration Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../libraries-and-frameworks/index.html">Libraries and Frameworks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contribute/index.html">Contributions Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../versions.html">ESP-IDF Versions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../resources.html">Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../COPYRIGHT.html">Copyrights and Licenses</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../about.html">About</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../languages.html">Switch Between Languages</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">ESP-IDF Programming Guide</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">API Reference</a></li>
          <li class="breadcrumb-item"><a href="index.html">Peripherals API</a></li>
      <li class="breadcrumb-item active">Motor Control Pulse Width Modulator (MCPWM)</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/espressif/esp-idf/blob/v5.4.2/docs/en/api-reference/peripherals/mcpwm.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="motor-control-pulse-width-modulator-mcpwm">
<h1>Motor Control Pulse Width Modulator (MCPWM)<a class="headerlink" href="#motor-control-pulse-width-modulator-mcpwm" title="Permalink to this heading"></a></h1>
<p><a class="reference external" href="../../../../../zh_CN/v5.4.2/esp32/api-reference/peripherals/mcpwm.html">[中文]</a></p>
<p>The MCPWM peripheral is a versatile PWM generator, which contains various submodules to make it a key element in power electronic applications like motor control, digital power, and so on. Typically, the MCPWM peripheral can be used in the following scenarios:</p>
<ul class="simple">
<li><p>Digital motor control, e.g., brushed/brushless DC motor, RC servo motor</p></li>
<li><p>Switch mode-based digital power conversion</p></li>
<li><p>Power DAC, where the duty cycle is equivalent to a DAC analog value</p></li>
<li><p>Calculate external pulse width, and convert it into other analog values like speed, distance</p></li>
<li><p>Generate Space Vector PWM (SVPWM) signals for Field Oriented Control (FOC)</p></li>
</ul>
<p>The main submodules are listed in the following diagram:</p>
<figure class="align-center" id="id38">
<div class="align-default"><img height="600" src="../../_images/blockdiag-2bbc488d001e9dc46bb6692306756a5c9b963ff8.png" width="1616" /></div>
<figcaption>
<p><span class="caption-text">MCPWM Overview</span><a class="headerlink" href="#id38" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<ul class="simple">
<li><p><strong>MCPWM Timer</strong>: The time base of the final PWM signal. It also determines the event timing of other submodules.</p></li>
<li><p><strong>MCPWM Operator</strong>: The key module that is responsible for generating the PWM waveforms. It consists of other submodules, like comparator, PWM generator, dead time, and carrier modulator.</p></li>
<li><p><strong>MCPWM Comparator</strong>: The compare module takes the time-base count value as input, and continuously compares it to the threshold value configured. When the timer is equal to any of the threshold values, a compare event will be generated and the MCPWM generator can update its level accordingly.</p></li>
<li><p><strong>MCPWM Generator</strong>: One MCPWM generator can generate a pair of PWM waves, complementarily or independently, based on various events triggered by other submodules like MCPWM Timer and MCPWM Comparator.</p></li>
<li><p><strong>MCPWM Fault</strong>: The fault module is used to detect the fault condition from outside, mainly via the GPIO matrix. Once the fault signal is active, MCPWM Operator will force all the generators into a predefined state to protect the system from damage.</p></li>
<li><p><strong>MCPWM Sync</strong>: The sync module is used to synchronize the MCPWM timers, so that the final PWM signals generated by different MCPWM generators can have a fixed phase difference. The sync signal can be routed from the GPIO matrix or from an MCPWM Timer event.</p></li>
<li><p><strong>Dead Time</strong>: This submodule is used to insert extra delay to the existing PWM edges generated in the previous steps.</p></li>
<li><p><strong>Carrier Modulation</strong>: The carrier submodule can modulate a high-frequency carrier signal into PWM waveforms by the generator and dead time submodules. This capability is mandatory for controlling the power-switching elements.</p></li>
<li><p><strong>Brake</strong>: MCPWM operator can set how to brake the generators when a particular fault is detected. You can shut down the PWM output immediately or regulate the PWM output cycle by cycle, depending on how critical the fault is.</p></li>
<li><p><strong>MCPWM Capture</strong>: This is a standalone submodule that can work even without the above MCPWM operators. The capture consists one dedicated timer and several independent channels, with each channel connected to the GPIO. A pulse on the GPIO triggers the capture timer to store the time-base count value and then notify you by an interrupt. Using this feature, you can measure a pulse width precisely. What is more, the capture timer can also be synchronized by the MCPWM Sync submodule.</p></li>
</ul>
<section id="functional-overview">
<h2>Functional Overview<a class="headerlink" href="#functional-overview" title="Permalink to this heading"></a></h2>
<p>Description of the MCPWM functionality is divided into the following sections:</p>
<p><ul class="simple">
<li><p><a class="reference internal" href="#mcpwm-resource-allocation-and-initialization"><span class="std std-ref">Resource Allocation and Initialization</span></a> - covers how to allocate various MCPWM objects, like timers, operators, comparators, generators and so on. These objects are the basis of the following IO setting and control functions.</p></li>
<li><p><a class="reference internal" href="#mcpwm-timer-operations-and-events"><span class="std std-ref">Timer Operations and Events</span></a> - describes control functions and event callbacks supported by the MCPWM timer.</p></li>
<li><p><a class="reference internal" href="#mcpwm-comparator-operations-and-events"><span class="std std-ref">Comparator Operations and Events</span></a> - describes control functions and event callbacks supported by the MCPWM comparator.</p></li>
<li><p><a class="reference internal" href="#mcpwm-generator-actions-on-events"><span class="std std-ref">Generator Actions on Events</span></a> - describes how to set actions for MCPWM generators on particular events that are generated by the MCPWM timer and comparators.</p></li>
<li><p><a class="reference internal" href="#mcpwm-classical-pwm-waveforms-and-generator-configurations"><span class="std std-ref">Generator Configurations for Classical PWM Waveforms</span></a> - demonstrates some classical PWM waveforms that can be achieved by configuring generator actions.</p></li>
<li><p><a class="reference internal" href="#mcpwm-dead-time"><span class="std std-ref">Dead Time</span></a> - describes how to set dead time for MCPWM generators.</p></li>
<li><p><a class="reference internal" href="#mcpwm-classical-pwm-waveforms-and-dead-time-configurations"><span class="std std-ref">Dead Time Configurations for Classical PWM Waveforms</span></a> - demonstrates some classical PWM waveforms that can be achieved by configuring dead time.</p></li>
<li><p><a class="reference internal" href="#mcpwm-carrier-modulation"><span class="std std-ref">Carrier Modulation</span></a> - describes how to set and modulate a high frequency onto the final PWM waveforms.</p></li>
<li><p><a class="reference internal" href="#mcpwm-faults-and-brake-actions"><span class="std std-ref">Faults and Brake Actions</span></a> - describes how to set brake actions for MCPWM operators on particular fault events.</p></li>
<li><p><a class="reference internal" href="#mcpwm-generator-force-actions"><span class="std std-ref">Generator Force Actions</span></a> - describes how to control the generator output level asynchronously in a forceful way.</p></li>
<li><p><a class="reference internal" href="#mcpwm-synchronization"><span class="std std-ref">Synchronization</span></a> - describes how to synchronize the MCPWM timers and get a fixed phase difference between the generated PWM signals.</p></li>
<li><p><a class="reference internal" href="#mcpwm-capture"><span class="std std-ref">Capture</span></a> - describes how to use the MCPWM capture module to measure the pulse width of a signal.</p></li>
<li><p><a class="reference internal" href="#mcpwm-power-management"><span class="std std-ref">Power Management</span></a> - describes how different source clocks affects power consumption.</p></li>
<li><p><a class="reference internal" href="#mcpwm-iram-safe"><span class="std std-ref">IRAM Safe</span></a> - describes tips on how to make the RMT interrupt work better along with a disabled cache.</p></li>
<li><p><a class="reference internal" href="#mcpwm-thread-safety"><span class="std std-ref">Thread Safety</span></a> - lists which APIs are guaranteed to be thread-safe by the driver.</p></li>
<li><p><a class="reference internal" href="#mcpwm-kconfig-options"><span class="std std-ref">Kconfig Options</span></a> - lists the supported Kconfig options that can bring different effects to the driver.</p></li>
</ul>
</p>
<section id="resource-allocation-and-initialization">
<span id="mcpwm-resource-allocation-and-initialization"></span><h3>Resource Allocation and Initialization<a class="headerlink" href="#resource-allocation-and-initialization" title="Permalink to this heading"></a></h3>
<p>As displayed in the diagram above, the MCPWM peripheral consists of several submodules. Each submodule has its own resource allocation, which is described in the following sections.</p>
<section id="mcpwm-timers">
<h4>MCPWM Timers<a class="headerlink" href="#mcpwm-timers" title="Permalink to this heading"></a></h4>
<p>You can allocate a MCPWM timer object by calling <a class="reference internal" href="#_CPPv415mcpwm_new_timerPK20mcpwm_timer_config_tP20mcpwm_timer_handle_t" title="mcpwm_new_timer"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_new_timer()</span></code></a> function, with a configuration structure <a class="reference internal" href="#_CPPv420mcpwm_timer_config_t" title="mcpwm_timer_config_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">mcpwm_timer_config_t</span></code></a> as the parameter. The configuration structure is defined as:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#_CPPv4N20mcpwm_timer_config_t8group_idE" title="mcpwm_timer_config_t::group_id"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_timer_config_t::group_id</span></code></a> specifies the MCPWM group ID. The ID should belong to [0, <a class="reference internal" href="../system/soc_caps.html#c.SOC_MCPWM_GROUPS" title="SOC_MCPWM_GROUPS"><code class="xref c c-macro docutils literal notranslate"><span class="pre">SOC_MCPWM_GROUPS</span></code></a> - 1] range. Please note, timers located in different groups are totally independent.</p></li>
<li><p><a class="reference internal" href="#_CPPv4N20mcpwm_timer_config_t13intr_priorityE" title="mcpwm_timer_config_t::intr_priority"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_timer_config_t::intr_priority</span></code></a> sets the priority of the interrupt. If it is set to <code class="docutils literal notranslate"><span class="pre">0</span></code>, the driver will allocate an interrupt with a default priority. Otherwise, the driver will use the given priority.</p></li>
<li><p><a class="reference internal" href="#_CPPv4N20mcpwm_timer_config_t7clk_srcE" title="mcpwm_timer_config_t::clk_src"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_timer_config_t::clk_src</span></code></a> sets the clock source of the timer.</p></li>
<li><p><a class="reference internal" href="#_CPPv4N20mcpwm_timer_config_t13resolution_hzE" title="mcpwm_timer_config_t::resolution_hz"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_timer_config_t::resolution_hz</span></code></a> sets the expected resolution of the timer. The driver internally sets a proper divider based on the clock source and the resolution.</p></li>
<li><p><a class="reference internal" href="#_CPPv4N20mcpwm_timer_config_t10count_modeE" title="mcpwm_timer_config_t::count_mode"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_timer_config_t::count_mode</span></code></a> sets the count mode of the timer.</p></li>
<li><p><a class="reference internal" href="#_CPPv4N20mcpwm_timer_config_t12period_ticksE" title="mcpwm_timer_config_t::period_ticks"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_timer_config_t::period_ticks</span></code></a> sets the period of the timer, in ticks (the tick resolution is set in the <a class="reference internal" href="#_CPPv4N20mcpwm_timer_config_t13resolution_hzE" title="mcpwm_timer_config_t::resolution_hz"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_timer_config_t::resolution_hz</span></code></a>).</p></li>
<li><p><a class="reference internal" href="#_CPPv4N20mcpwm_timer_config_t22update_period_on_emptyE" title="mcpwm_timer_config_t::update_period_on_empty"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_timer_config_t::update_period_on_empty</span></code></a> sets whether to update the period value when the timer counts to zero.</p></li>
<li><p><a class="reference internal" href="#_CPPv4N20mcpwm_timer_config_t21update_period_on_syncE" title="mcpwm_timer_config_t::update_period_on_sync"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_timer_config_t::update_period_on_sync</span></code></a> sets whether to update the period value when the timer takes a sync signal.</p></li>
</ul>
<p>The <a class="reference internal" href="#_CPPv415mcpwm_new_timerPK20mcpwm_timer_config_tP20mcpwm_timer_handle_t" title="mcpwm_new_timer"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_new_timer()</span></code></a> will return a pointer to the allocated timer object if the allocation succeeds. Otherwise, it will return an error code. Specifically, when there are no more free timers in the MCPWM group, this function will return the <a class="reference internal" href="../system/esp_err.html#c.ESP_ERR_NOT_FOUND" title="ESP_ERR_NOT_FOUND"><code class="xref c c-macro docutils literal notranslate"><span class="pre">ESP_ERR_NOT_FOUND</span></code></a> error. <a class="footnote-reference brackets" href="#id36" id="id1" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a></p>
<p>On the contrary, calling the <a class="reference internal" href="#_CPPv415mcpwm_del_timer20mcpwm_timer_handle_t" title="mcpwm_del_timer"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_del_timer()</span></code></a> function will free the allocated timer object.</p>
</section>
<section id="mcpwm-operators">
<h4>MCPWM Operators<a class="headerlink" href="#mcpwm-operators" title="Permalink to this heading"></a></h4>
<p>You can allocate a MCPWM operator object by calling <a class="reference internal" href="#_CPPv418mcpwm_new_operatorPK23mcpwm_operator_config_tP19mcpwm_oper_handle_t" title="mcpwm_new_operator"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_new_operator()()</span></code></a> function, with a configuration structure <a class="reference internal" href="#_CPPv423mcpwm_operator_config_t" title="mcpwm_operator_config_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">mcpwm_operator_config_t</span></code></a> as the parameter. The configuration structure is defined as:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#_CPPv4N23mcpwm_operator_config_t8group_idE" title="mcpwm_operator_config_t::group_id"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_operator_config_t::group_id</span></code></a> specifies the MCPWM group ID. The ID should belong to [0, <a class="reference internal" href="../system/soc_caps.html#c.SOC_MCPWM_GROUPS" title="SOC_MCPWM_GROUPS"><code class="xref c c-macro docutils literal notranslate"><span class="pre">SOC_MCPWM_GROUPS</span></code></a> - 1] range. Please note, operators located in different groups are totally independent.</p></li>
<li><p><a class="reference internal" href="#_CPPv4N23mcpwm_operator_config_t13intr_priorityE" title="mcpwm_operator_config_t::intr_priority"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_operator_config_t::intr_priority</span></code></a> sets the priority of the interrupt. If it is set to <code class="docutils literal notranslate"><span class="pre">0</span></code>, the driver will allocate an interrupt with a default priority. Otherwise, the driver will use the given priority.</p></li>
<li><p><a class="reference internal" href="#_CPPv4N23mcpwm_operator_config_t24update_gen_action_on_tezE" title="mcpwm_operator_config_t::update_gen_action_on_tez"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_operator_config_t::update_gen_action_on_tez</span></code></a> sets whether to update the generator action when the timer counts to zero. Here and below, the timer refers to the one that is connected to the operator by <a class="reference internal" href="#_CPPv428mcpwm_operator_connect_timer19mcpwm_oper_handle_t20mcpwm_timer_handle_t" title="mcpwm_operator_connect_timer"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_operator_connect_timer()</span></code></a>.</p></li>
<li><p><a class="reference internal" href="#_CPPv4N23mcpwm_operator_config_t24update_gen_action_on_tepE" title="mcpwm_operator_config_t::update_gen_action_on_tep"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_operator_config_t::update_gen_action_on_tep</span></code></a> sets whether to update the generator action when the timer counts to peak.</p></li>
<li><p><a class="reference internal" href="#_CPPv4N23mcpwm_operator_config_t25update_gen_action_on_syncE" title="mcpwm_operator_config_t::update_gen_action_on_sync"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_operator_config_t::update_gen_action_on_sync</span></code></a> sets whether to update the generator action when the timer takes a sync signal.</p></li>
<li><p><a class="reference internal" href="#_CPPv4N23mcpwm_operator_config_t23update_dead_time_on_tezE" title="mcpwm_operator_config_t::update_dead_time_on_tez"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_operator_config_t::update_dead_time_on_tez</span></code></a> sets whether to update the dead time when the timer counts to zero.</p></li>
<li><p><a class="reference internal" href="#_CPPv4N23mcpwm_operator_config_t23update_dead_time_on_tepE" title="mcpwm_operator_config_t::update_dead_time_on_tep"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_operator_config_t::update_dead_time_on_tep</span></code></a> sets whether to update the dead time when the timer counts to the peak.</p></li>
<li><p><a class="reference internal" href="#_CPPv4N23mcpwm_operator_config_t24update_dead_time_on_syncE" title="mcpwm_operator_config_t::update_dead_time_on_sync"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_operator_config_t::update_dead_time_on_sync</span></code></a> sets whether to update the dead time when the timer takes a sync signal.</p></li>
</ul>
<p>The <a class="reference internal" href="#_CPPv418mcpwm_new_operatorPK23mcpwm_operator_config_tP19mcpwm_oper_handle_t" title="mcpwm_new_operator"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_new_operator()()</span></code></a> will return a pointer to the allocated operator object if the allocation succeeds. Otherwise, it will return an error code. Specifically, when there are no more free operators in the MCPWM group, this function will return the <a class="reference internal" href="../system/esp_err.html#c.ESP_ERR_NOT_FOUND" title="ESP_ERR_NOT_FOUND"><code class="xref c c-macro docutils literal notranslate"><span class="pre">ESP_ERR_NOT_FOUND</span></code></a> error. <a class="footnote-reference brackets" href="#id36" id="id2" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a></p>
<p>On the contrary, calling <a class="reference internal" href="#_CPPv418mcpwm_del_operator19mcpwm_oper_handle_t" title="mcpwm_del_operator"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_del_operator()()</span></code></a> function will free the allocated operator object.</p>
</section>
<section id="mcpwm-comparators">
<h4>MCPWM Comparators<a class="headerlink" href="#mcpwm-comparators" title="Permalink to this heading"></a></h4>
<p>You can allocate a MCPWM comparator object by calling the <a class="reference internal" href="#_CPPv420mcpwm_new_comparator19mcpwm_oper_handle_tPK25mcpwm_comparator_config_tP19mcpwm_cmpr_handle_t" title="mcpwm_new_comparator"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_new_comparator()</span></code></a> function, with a MCPWM operator handle and configuration structure <a class="reference internal" href="#_CPPv425mcpwm_comparator_config_t" title="mcpwm_comparator_config_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">mcpwm_comparator_config_t</span></code></a> as the parameter. The operator handle is created by <a class="reference internal" href="#_CPPv418mcpwm_new_operatorPK23mcpwm_operator_config_tP19mcpwm_oper_handle_t" title="mcpwm_new_operator"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_new_operator()()</span></code></a>. The configuration structure is defined as:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#_CPPv4N25mcpwm_comparator_config_t13intr_priorityE" title="mcpwm_comparator_config_t::intr_priority"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_comparator_config_t::intr_priority</span></code></a> sets the priority of the interrupt. If it is set to <code class="docutils literal notranslate"><span class="pre">0</span></code>, the driver will allocate an interrupt with a default priority. Otherwise, the driver will use the given priority.</p></li>
<li><p><a class="reference internal" href="#_CPPv4N25mcpwm_comparator_config_t17update_cmp_on_tezE" title="mcpwm_comparator_config_t::update_cmp_on_tez"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_comparator_config_t::update_cmp_on_tez</span></code></a> sets whether to update the compare threshold when the timer counts to zero.</p></li>
<li><p><a class="reference internal" href="#_CPPv4N25mcpwm_comparator_config_t17update_cmp_on_tepE" title="mcpwm_comparator_config_t::update_cmp_on_tep"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_comparator_config_t::update_cmp_on_tep</span></code></a> sets whether to update the compare threshold when the timer counts to the peak.</p></li>
<li><p><a class="reference internal" href="#_CPPv4N25mcpwm_comparator_config_t18update_cmp_on_syncE" title="mcpwm_comparator_config_t::update_cmp_on_sync"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_comparator_config_t::update_cmp_on_sync</span></code></a> sets whether to update the compare threshold when the timer takes a sync signal.</p></li>
</ul>
<p>The <a class="reference internal" href="#_CPPv420mcpwm_new_comparator19mcpwm_oper_handle_tPK25mcpwm_comparator_config_tP19mcpwm_cmpr_handle_t" title="mcpwm_new_comparator"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_new_comparator()</span></code></a> will return a pointer to the allocated comparator object if the allocation succeeds. Otherwise, it will return an error code. Specifically, when there are no more free comparators in the MCPWM operator, this function will return the <a class="reference internal" href="../system/esp_err.html#c.ESP_ERR_NOT_FOUND" title="ESP_ERR_NOT_FOUND"><code class="xref c c-macro docutils literal notranslate"><span class="pre">ESP_ERR_NOT_FOUND</span></code></a> error. <a class="footnote-reference brackets" href="#id36" id="id3" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a></p>
<p>On the contrary, calling the <a class="reference internal" href="#_CPPv420mcpwm_del_comparator19mcpwm_cmpr_handle_t" title="mcpwm_del_comparator"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_del_comparator()</span></code></a> function will free the allocated comparator object.</p>
</section>
<section id="mcpwm-generators">
<h4>MCPWM Generators<a class="headerlink" href="#mcpwm-generators" title="Permalink to this heading"></a></h4>
<p>You can allocate a MCPWM generator object by calling the <a class="reference internal" href="#_CPPv419mcpwm_new_generator19mcpwm_oper_handle_tPK24mcpwm_generator_config_tP18mcpwm_gen_handle_t" title="mcpwm_new_generator"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_new_generator()</span></code></a> function, with a MCPWM operator handle and configuration structure <a class="reference internal" href="#_CPPv424mcpwm_generator_config_t" title="mcpwm_generator_config_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">mcpwm_generator_config_t</span></code></a> as the parameter. The operator handle is created by <a class="reference internal" href="#_CPPv418mcpwm_new_operatorPK23mcpwm_operator_config_tP19mcpwm_oper_handle_t" title="mcpwm_new_operator"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_new_operator()()</span></code></a>. The configuration structure is defined as:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#_CPPv4N24mcpwm_generator_config_t12gen_gpio_numE" title="mcpwm_generator_config_t::gen_gpio_num"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_generator_config_t::gen_gpio_num</span></code></a> sets the GPIO number used by the generator.</p></li>
<li><p><a class="reference internal" href="#_CPPv4N24mcpwm_generator_config_t10invert_pwmE" title="mcpwm_generator_config_t::invert_pwm"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_generator_config_t::invert_pwm</span></code></a> sets whether to invert the PWM signal.</p></li>
<li><p><a class="reference internal" href="#_CPPv4N24mcpwm_generator_config_t7pull_upE" title="mcpwm_generator_config_t::pull_up"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_generator_config_t::pull_up</span></code></a> and <a class="reference internal" href="#_CPPv4N24mcpwm_generator_config_t9pull_downE" title="mcpwm_generator_config_t::pull_down"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_generator_config_t::pull_down</span></code></a> controls whether to enable the internal pull-up and pull-down resistors accordingly.</p></li>
</ul>
<p>The <a class="reference internal" href="#_CPPv419mcpwm_new_generator19mcpwm_oper_handle_tPK24mcpwm_generator_config_tP18mcpwm_gen_handle_t" title="mcpwm_new_generator"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_new_generator()</span></code></a> will return a pointer to the allocated generator object if the allocation succeeds. Otherwise, it will return an error code. Specifically, when there are no more free generators in the MCPWM operator, this function will return the <a class="reference internal" href="../system/esp_err.html#c.ESP_ERR_NOT_FOUND" title="ESP_ERR_NOT_FOUND"><code class="xref c c-macro docutils literal notranslate"><span class="pre">ESP_ERR_NOT_FOUND</span></code></a> error. <a class="footnote-reference brackets" href="#id36" id="id4" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a></p>
<p>On the contrary, calling the <a class="reference internal" href="#_CPPv419mcpwm_del_generator18mcpwm_gen_handle_t" title="mcpwm_del_generator"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_del_generator()</span></code></a> function will free the allocated generator object.</p>
</section>
<section id="mcpwm-faults">
<h4>MCPWM Faults<a class="headerlink" href="#mcpwm-faults" title="Permalink to this heading"></a></h4>
<p>There are two types of faults: A fault signal reflected from the GPIO and a fault generated by software.</p>
<p>To allocate a GPIO fault object, you can call the <a class="reference internal" href="#_CPPv420mcpwm_new_gpio_faultPK25mcpwm_gpio_fault_config_tP20mcpwm_fault_handle_t" title="mcpwm_new_gpio_fault"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_new_gpio_fault()</span></code></a> function, with the configuration structure <a class="reference internal" href="#_CPPv425mcpwm_gpio_fault_config_t" title="mcpwm_gpio_fault_config_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">mcpwm_gpio_fault_config_t</span></code></a> as the parameter. The configuration structure is defined as:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#_CPPv4N25mcpwm_gpio_fault_config_t8group_idE" title="mcpwm_gpio_fault_config_t::group_id"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_gpio_fault_config_t::group_id</span></code></a> sets the MCPWM group ID. The ID should belong to [0, <a class="reference internal" href="../system/soc_caps.html#c.SOC_MCPWM_GROUPS" title="SOC_MCPWM_GROUPS"><code class="xref c c-macro docutils literal notranslate"><span class="pre">SOC_MCPWM_GROUPS</span></code></a> - 1] range. Please note, GPIO faults located in different groups are totally independent, i.e., GPIO faults in group 0 can not be detected by the operator in group 1.</p></li>
<li><p><a class="reference internal" href="#_CPPv4N25mcpwm_gpio_fault_config_t13intr_priorityE" title="mcpwm_gpio_fault_config_t::intr_priority"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_gpio_fault_config_t::intr_priority</span></code></a> sets the priority of the interrupt. If it is set to <code class="docutils literal notranslate"><span class="pre">0</span></code>, the driver will allocate an interrupt with a default priority. Otherwise, the driver will use the given priority.</p></li>
<li><p><a class="reference internal" href="#_CPPv4N25mcpwm_gpio_fault_config_t8gpio_numE" title="mcpwm_gpio_fault_config_t::gpio_num"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_gpio_fault_config_t::gpio_num</span></code></a> sets the GPIO number used by the fault.</p></li>
<li><p><a class="reference internal" href="#_CPPv4N25mcpwm_gpio_fault_config_t12active_levelE" title="mcpwm_gpio_fault_config_t::active_level"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_gpio_fault_config_t::active_level</span></code></a> sets the active level of the fault signal.</p></li>
<li><p><a class="reference internal" href="#_CPPv4N25mcpwm_gpio_fault_config_t7pull_upE" title="mcpwm_gpio_fault_config_t::pull_up"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_gpio_fault_config_t::pull_up</span></code></a> and <a class="reference internal" href="#_CPPv4N25mcpwm_gpio_fault_config_t9pull_downE" title="mcpwm_gpio_fault_config_t::pull_down"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_gpio_fault_config_t::pull_down</span></code></a> set whether to pull up and/or pull down the GPIO internally.</p></li>
</ul>
<p>The <a class="reference internal" href="#_CPPv420mcpwm_new_gpio_faultPK25mcpwm_gpio_fault_config_tP20mcpwm_fault_handle_t" title="mcpwm_new_gpio_fault"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_new_gpio_fault()</span></code></a> will return a pointer to the allocated fault object if the allocation succeeds. Otherwise, it will return an error code. Specifically, when there are no more free GPIO faults in the MCPWM group, this function will return the <a class="reference internal" href="../system/esp_err.html#c.ESP_ERR_NOT_FOUND" title="ESP_ERR_NOT_FOUND"><code class="xref c c-macro docutils literal notranslate"><span class="pre">ESP_ERR_NOT_FOUND</span></code></a> error. <a class="footnote-reference brackets" href="#id36" id="id5" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a></p>
<p>Software fault object can be used to trigger a fault by calling the function <a class="reference internal" href="#_CPPv425mcpwm_soft_fault_activate20mcpwm_fault_handle_t" title="mcpwm_soft_fault_activate"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_soft_fault_activate()</span></code></a> instead of waiting for a real fault signal on the GPIO. A software fault object can be allocated by calling the  <a class="reference internal" href="#_CPPv420mcpwm_new_soft_faultPK25mcpwm_soft_fault_config_tP20mcpwm_fault_handle_t" title="mcpwm_new_soft_fault"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_new_soft_fault()</span></code></a> function, with configuration structure <a class="reference internal" href="#_CPPv425mcpwm_soft_fault_config_t" title="mcpwm_soft_fault_config_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">mcpwm_soft_fault_config_t</span></code></a> as the parameter. Currently, this configuration structure is left for future purposes.</p>
<p>The <a class="reference internal" href="#_CPPv420mcpwm_new_soft_faultPK25mcpwm_soft_fault_config_tP20mcpwm_fault_handle_t" title="mcpwm_new_soft_fault"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_new_soft_fault()</span></code></a> function will return a pointer to the allocated fault object if the allocation succeeds. Otherwise, it will return an error code. Specifically, when there is no memory left for the fault object, this function will return the <a class="reference internal" href="../system/esp_err.html#c.ESP_ERR_NO_MEM" title="ESP_ERR_NO_MEM"><code class="xref c c-macro docutils literal notranslate"><span class="pre">ESP_ERR_NO_MEM</span></code></a> error. Although the software fault and GPIO fault are of different types, the returned fault handle is of the same type.</p>
<p>On the contrary, calling the <a class="reference internal" href="#_CPPv415mcpwm_del_fault20mcpwm_fault_handle_t" title="mcpwm_del_fault"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_del_fault()</span></code></a> function will free the allocated fault object, this function works for both software and GPIO fault.</p>
</section>
<section id="mcpwm-sync-sources">
<h4>MCPWM Sync Sources<a class="headerlink" href="#mcpwm-sync-sources" title="Permalink to this heading"></a></h4>
<p>The sync source is what can be used to synchronize the MCPWM timer and MCPWM capture timer. There are three types of sync sources: a sync source reflected from the GPIO, a sync source generated by software, and a sync source generated by an MCPWM timer event.</p>
<p>To allocate a GPIO sync source, you can call the <a class="reference internal" href="#_CPPv423mcpwm_new_gpio_sync_srcPK28mcpwm_gpio_sync_src_config_tP19mcpwm_sync_handle_t" title="mcpwm_new_gpio_sync_src"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_new_gpio_sync_src()</span></code></a> function, with configuration structure <a class="reference internal" href="#_CPPv428mcpwm_gpio_sync_src_config_t" title="mcpwm_gpio_sync_src_config_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">mcpwm_gpio_sync_src_config_t</span></code></a> as the parameter. The configuration structure is defined as:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#_CPPv4N28mcpwm_gpio_sync_src_config_t8group_idE" title="mcpwm_gpio_sync_src_config_t::group_id"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_gpio_sync_src_config_t::group_id</span></code></a> sets the MCPWM group ID. The ID should belong to [0, <a class="reference internal" href="../system/soc_caps.html#c.SOC_MCPWM_GROUPS" title="SOC_MCPWM_GROUPS"><code class="xref c c-macro docutils literal notranslate"><span class="pre">SOC_MCPWM_GROUPS</span></code></a> - 1] range. Please note, the GPIO sync sources located in different groups are totally independent, i.e., GPIO sync source in group 0 can not be detected by the timers in group 1.</p></li>
<li><p><a class="reference internal" href="#_CPPv4N28mcpwm_gpio_sync_src_config_t8gpio_numE" title="mcpwm_gpio_sync_src_config_t::gpio_num"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_gpio_sync_src_config_t::gpio_num</span></code></a> sets the GPIO number used by the sync source.</p></li>
<li><p><a class="reference internal" href="#_CPPv4N28mcpwm_gpio_sync_src_config_t10active_negE" title="mcpwm_gpio_sync_src_config_t::active_neg"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_gpio_sync_src_config_t::active_neg</span></code></a> sets whether the sync signal is active on falling edges.</p></li>
<li><p><a class="reference internal" href="#_CPPv4N28mcpwm_gpio_sync_src_config_t7pull_upE" title="mcpwm_gpio_sync_src_config_t::pull_up"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_gpio_sync_src_config_t::pull_up</span></code></a> and <a class="reference internal" href="#_CPPv4N28mcpwm_gpio_sync_src_config_t9pull_downE" title="mcpwm_gpio_sync_src_config_t::pull_down"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_gpio_sync_src_config_t::pull_down</span></code></a> set whether to pull up and/or pull down the GPIO internally.</p></li>
</ul>
<p>The <a class="reference internal" href="#_CPPv423mcpwm_new_gpio_sync_srcPK28mcpwm_gpio_sync_src_config_tP19mcpwm_sync_handle_t" title="mcpwm_new_gpio_sync_src"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_new_gpio_sync_src()</span></code></a> will return a pointer to the allocated sync source object if the allocation succeeds. Otherwise, it will return an error code. Specifically, when there are no more free GPIO sync sources in the MCPWM group, this function will return the <a class="reference internal" href="../system/esp_err.html#c.ESP_ERR_NOT_FOUND" title="ESP_ERR_NOT_FOUND"><code class="xref c c-macro docutils literal notranslate"><span class="pre">ESP_ERR_NOT_FOUND</span></code></a> error. <a class="footnote-reference brackets" href="#id36" id="id6" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a></p>
<p>To allocate a timer event sync source, you can call the  <a class="reference internal" href="#_CPPv424mcpwm_new_timer_sync_src20mcpwm_timer_handle_tPK29mcpwm_timer_sync_src_config_tP19mcpwm_sync_handle_t" title="mcpwm_new_timer_sync_src"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_new_timer_sync_src()</span></code></a> function, with configuration structure <a class="reference internal" href="#_CPPv429mcpwm_timer_sync_src_config_t" title="mcpwm_timer_sync_src_config_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">mcpwm_timer_sync_src_config_t</span></code></a> as the parameter. The configuration structure is defined as:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#_CPPv4N29mcpwm_timer_sync_src_config_t11timer_eventE" title="mcpwm_timer_sync_src_config_t::timer_event"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_timer_sync_src_config_t::timer_event</span></code></a> specifies on what timer event to generate the sync signal.</p></li>
<li><p><a class="reference internal" href="#_CPPv4N29mcpwm_timer_sync_src_config_t20propagate_input_syncE" title="mcpwm_timer_sync_src_config_t::propagate_input_sync"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_timer_sync_src_config_t::propagate_input_sync</span></code></a> sets whether to propagate the input sync signal (i.e., the input sync signal will be routed to its sync output).</p></li>
</ul>
<p>The <a class="reference internal" href="#_CPPv424mcpwm_new_timer_sync_src20mcpwm_timer_handle_tPK29mcpwm_timer_sync_src_config_tP19mcpwm_sync_handle_t" title="mcpwm_new_timer_sync_src"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_new_timer_sync_src()</span></code></a> will return a pointer to the allocated sync source object if the allocation succeeds. Otherwise, it will return an error code. Specifically, if a sync source has been allocated from the same timer before, this function will return the <a class="reference internal" href="../system/esp_err.html#c.ESP_ERR_INVALID_STATE" title="ESP_ERR_INVALID_STATE"><code class="xref c c-macro docutils literal notranslate"><span class="pre">ESP_ERR_INVALID_STATE</span></code></a> error.</p>
<p>Last but not least, to allocate a software sync source, you can call the <a class="reference internal" href="#_CPPv423mcpwm_new_soft_sync_srcPK24mcpwm_soft_sync_config_tP19mcpwm_sync_handle_t" title="mcpwm_new_soft_sync_src"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_new_soft_sync_src()</span></code></a> function, with configuration structure <a class="reference internal" href="#_CPPv424mcpwm_soft_sync_config_t" title="mcpwm_soft_sync_config_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">mcpwm_soft_sync_config_t</span></code></a> as the parameter. Currently, this configuration structure is left for future purposes.</p>
<p><a class="reference internal" href="#_CPPv423mcpwm_new_soft_sync_srcPK24mcpwm_soft_sync_config_tP19mcpwm_sync_handle_t" title="mcpwm_new_soft_sync_src"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_new_soft_sync_src()</span></code></a> will return a pointer to the allocated sync source object if the allocation succeeds. Otherwise, it will return an error code. Specifically, when there is no memory left for the sync source object, this function will return the <a class="reference internal" href="../system/esp_err.html#c.ESP_ERR_NO_MEM" title="ESP_ERR_NO_MEM"><code class="xref c c-macro docutils literal notranslate"><span class="pre">ESP_ERR_NO_MEM</span></code></a> error. Please note, to make a software sync source take effect, do not forget to call <a class="reference internal" href="#_CPPv424mcpwm_soft_sync_activate19mcpwm_sync_handle_t" title="mcpwm_soft_sync_activate"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_soft_sync_activate()</span></code></a>.</p>
<p>On the contrary, calling the <a class="reference internal" href="#_CPPv418mcpwm_del_sync_src19mcpwm_sync_handle_t" title="mcpwm_del_sync_src"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_del_sync_src()</span></code></a> function will free the allocated sync source object. This function works for all types of sync sources.</p>
</section>
<section id="mcpwm-capture-timer-and-channels">
<h4>MCPWM Capture Timer and Channels<a class="headerlink" href="#mcpwm-capture-timer-and-channels" title="Permalink to this heading"></a></h4>
<p>The MCPWM group has a dedicated timer which is used to capture the timestamp when a specific event occurred. The capture timer is connected to several independent channels, each channel is assigned a GPIO.</p>
<p>To allocate a capture timer, you can call the <a class="reference internal" href="#_CPPv423mcpwm_new_capture_timerPK28mcpwm_capture_timer_config_tP24mcpwm_cap_timer_handle_t" title="mcpwm_new_capture_timer"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_new_capture_timer()</span></code></a> function, with configuration structure <a class="reference internal" href="#_CPPv428mcpwm_capture_timer_config_t" title="mcpwm_capture_timer_config_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">mcpwm_capture_timer_config_t</span></code></a> as the parameter. The configuration structure is defined as:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#_CPPv4N28mcpwm_capture_timer_config_t8group_idE" title="mcpwm_capture_timer_config_t::group_id"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_capture_timer_config_t::group_id</span></code></a> sets the MCPWM group ID. The ID should belong to [0, <a class="reference internal" href="../system/soc_caps.html#c.SOC_MCPWM_GROUPS" title="SOC_MCPWM_GROUPS"><code class="xref c c-macro docutils literal notranslate"><span class="pre">SOC_MCPWM_GROUPS</span></code></a> - 1] range.</p></li>
<li><p><a class="reference internal" href="#_CPPv4N28mcpwm_capture_timer_config_t7clk_srcE" title="mcpwm_capture_timer_config_t::clk_src"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_capture_timer_config_t::clk_src</span></code></a> sets the clock source of the capture timer.</p></li>
<li><p><a class="reference internal" href="#_CPPv4N28mcpwm_capture_timer_config_t13resolution_hzE" title="mcpwm_capture_timer_config_t::resolution_hz"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_capture_timer_config_t::resolution_hz</span></code></a> The driver internally will set a proper divider based on the clock source and the resolution. If it is set to <code class="docutils literal notranslate"><span class="pre">0</span></code>, the driver will pick an appropriate resolution on its own, and you can subsequently view the current timer resolution via <a class="reference internal" href="#_CPPv434mcpwm_capture_timer_get_resolution24mcpwm_cap_timer_handle_tP8uint32_t" title="mcpwm_capture_timer_get_resolution"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_capture_timer_get_resolution()</span></code></a>.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In ESP32, <a class="reference internal" href="#_CPPv4N28mcpwm_capture_timer_config_t13resolution_hzE" title="mcpwm_capture_timer_config_t::resolution_hz"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_capture_timer_config_t::resolution_hz</span></code></a> parameter is invalid, the capture timer resolution is always equal to the <a class="reference internal" href="clk_tree.html#_CPPv4N34soc_periph_mcpwm_capture_clk_src_t25MCPWM_CAPTURE_CLK_SRC_APBE" title="MCPWM_CAPTURE_CLK_SRC_APB"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">MCPWM_CAPTURE_CLK_SRC_APB</span></code></a>.</p>
</div>
<p>The <a class="reference internal" href="#_CPPv423mcpwm_new_capture_timerPK28mcpwm_capture_timer_config_tP24mcpwm_cap_timer_handle_t" title="mcpwm_new_capture_timer"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_new_capture_timer()</span></code></a> will return a pointer to the allocated capture timer object if the allocation succeeds. Otherwise, it will return an error code. Specifically, when there is no free capture timer left in the MCPWM group, this function will return the <a class="reference internal" href="../system/esp_err.html#c.ESP_ERR_NOT_FOUND" title="ESP_ERR_NOT_FOUND"><code class="xref c c-macro docutils literal notranslate"><span class="pre">ESP_ERR_NOT_FOUND</span></code></a> error. <a class="footnote-reference brackets" href="#id36" id="id7" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a></p>
<p>Next, to allocate a capture channel, you can call the <a class="reference internal" href="#_CPPv425mcpwm_new_capture_channel24mcpwm_cap_timer_handle_tPK30mcpwm_capture_channel_config_tP26mcpwm_cap_channel_handle_t" title="mcpwm_new_capture_channel"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_new_capture_channel()</span></code></a> function, with a capture timer handle and configuration structure <a class="reference internal" href="#_CPPv430mcpwm_capture_channel_config_t" title="mcpwm_capture_channel_config_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">mcpwm_capture_channel_config_t</span></code></a> as the parameter. The configuration structure is defined as:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#_CPPv4N30mcpwm_capture_channel_config_t13intr_priorityE" title="mcpwm_capture_channel_config_t::intr_priority"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_capture_channel_config_t::intr_priority</span></code></a> sets the priority of the interrupt. If it is set to <code class="docutils literal notranslate"><span class="pre">0</span></code>, the driver will allocate an interrupt with a default priority. Otherwise, the driver will use the given priority.</p></li>
<li><p><a class="reference internal" href="#_CPPv4N30mcpwm_capture_channel_config_t8gpio_numE" title="mcpwm_capture_channel_config_t::gpio_num"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_capture_channel_config_t::gpio_num</span></code></a> sets the GPIO number used by the capture channel.</p></li>
<li><p><a class="reference internal" href="#_CPPv4N30mcpwm_capture_channel_config_t8prescaleE" title="mcpwm_capture_channel_config_t::prescale"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_capture_channel_config_t::prescale</span></code></a> sets the prescaler of the input signal.</p></li>
<li><p><a class="reference internal" href="#_CPPv4N30mcpwm_capture_channel_config_t27extra_capture_channel_flags8pos_edgeE" title="mcpwm_capture_channel_config_t::extra_capture_channel_flags::pos_edge"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_capture_channel_config_t::extra_capture_channel_flags::pos_edge</span></code></a> and <a class="reference internal" href="#_CPPv4N30mcpwm_capture_channel_config_t27extra_capture_channel_flags8neg_edgeE" title="mcpwm_capture_channel_config_t::extra_capture_channel_flags::neg_edge"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_capture_channel_config_t::extra_capture_channel_flags::neg_edge</span></code></a> set whether to capture on the positive and/or falling edge of the input signal.</p></li>
<li><p><a class="reference internal" href="#_CPPv4N30mcpwm_capture_channel_config_t27extra_capture_channel_flags7pull_upE" title="mcpwm_capture_channel_config_t::extra_capture_channel_flags::pull_up"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_capture_channel_config_t::extra_capture_channel_flags::pull_up</span></code></a> and <a class="reference internal" href="#_CPPv4N30mcpwm_capture_channel_config_t27extra_capture_channel_flags9pull_downE" title="mcpwm_capture_channel_config_t::extra_capture_channel_flags::pull_down"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_capture_channel_config_t::extra_capture_channel_flags::pull_down</span></code></a> set whether to pull up and/or pull down the GPIO internally.</p></li>
<li><p><a class="reference internal" href="#_CPPv4N30mcpwm_capture_channel_config_t27extra_capture_channel_flags17invert_cap_signalE" title="mcpwm_capture_channel_config_t::extra_capture_channel_flags::invert_cap_signal"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_capture_channel_config_t::extra_capture_channel_flags::invert_cap_signal</span></code></a> sets whether to invert the capture signal.</p></li>
</ul>
<p>The <a class="reference internal" href="#_CPPv425mcpwm_new_capture_channel24mcpwm_cap_timer_handle_tPK30mcpwm_capture_channel_config_tP26mcpwm_cap_channel_handle_t" title="mcpwm_new_capture_channel"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_new_capture_channel()</span></code></a> will return a pointer to the allocated capture channel object if the allocation succeeds. Otherwise, it will return an error code. Specifically, when there is no free capture channel left in the capture timer, this function will return the <a class="reference internal" href="../system/esp_err.html#c.ESP_ERR_NOT_FOUND" title="ESP_ERR_NOT_FOUND"><code class="xref c c-macro docutils literal notranslate"><span class="pre">ESP_ERR_NOT_FOUND</span></code></a> error.</p>
<p>On the contrary, calling <a class="reference internal" href="#_CPPv425mcpwm_del_capture_channel26mcpwm_cap_channel_handle_t" title="mcpwm_del_capture_channel"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_del_capture_channel()</span></code></a> and <a class="reference internal" href="#_CPPv423mcpwm_del_capture_timer24mcpwm_cap_timer_handle_t" title="mcpwm_del_capture_timer"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_del_capture_timer()</span></code></a> will free the allocated capture channel and timer object accordingly.</p>
</section>
<section id="mcpwm-interrupt-priority">
<h4>MCPWM Interrupt Priority<a class="headerlink" href="#mcpwm-interrupt-priority" title="Permalink to this heading"></a></h4>
<p>MCPWM allows configuring interrupts separately for timer, operator, comparator, fault, and capture events. The interrupt priority is determined by the respective <code class="docutils literal notranslate"><span class="pre">config_t::intr_priority</span></code>. Additionally, events within the same MCPWM group share a common interrupt source. When registering multiple interrupt events, the interrupt priorities need to remain consistent.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When registering multiple interrupt events within an MCPWM group, the driver will use the interrupt priority of the first registered event as the MCPWM group's interrupt priority.</p>
</div>
</section>
</section>
<section id="timer-operations-and-events">
<span id="mcpwm-timer-operations-and-events"></span><h3>Timer Operations and Events<a class="headerlink" href="#timer-operations-and-events" title="Permalink to this heading"></a></h3>
<section id="update-period">
<h4>Update Period<a class="headerlink" href="#update-period" title="Permalink to this heading"></a></h4>
<p>The timer period is initialized by the <a class="reference internal" href="#_CPPv4N20mcpwm_timer_config_t12period_ticksE" title="mcpwm_timer_config_t::period_ticks"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_timer_config_t::period_ticks</span></code></a> parameter in <a class="reference internal" href="#_CPPv420mcpwm_timer_config_t" title="mcpwm_timer_config_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">mcpwm_timer_config_t</span></code></a>. You can update the period at runtime by calling <a class="reference internal" href="#_CPPv422mcpwm_timer_set_period20mcpwm_timer_handle_t8uint32_t" title="mcpwm_timer_set_period"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_timer_set_period()</span></code></a> function. The new period will take effect based on how you set the <a class="reference internal" href="#_CPPv4N20mcpwm_timer_config_t22update_period_on_emptyE" title="mcpwm_timer_config_t::update_period_on_empty"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_timer_config_t::update_period_on_empty</span></code></a> and <a class="reference internal" href="#_CPPv4N20mcpwm_timer_config_t21update_period_on_syncE" title="mcpwm_timer_config_t::update_period_on_sync"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_timer_config_t::update_period_on_sync</span></code></a> parameters in <a class="reference internal" href="#_CPPv420mcpwm_timer_config_t" title="mcpwm_timer_config_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">mcpwm_timer_config_t</span></code></a>. If none of them are set, the timer period will take effect immediately.</p>
</section>
<section id="register-timer-event-callbacks">
<h4>Register Timer Event Callbacks<a class="headerlink" href="#register-timer-event-callbacks" title="Permalink to this heading"></a></h4>
<p>The MCPWM timer can generate different events at runtime. If you have some function that should be called when a particular event happens, you should hook your function to the interrupt service routine by calling <a class="reference internal" href="#_CPPv436mcpwm_timer_register_event_callbacks20mcpwm_timer_handle_tPK29mcpwm_timer_event_callbacks_tPv" title="mcpwm_timer_register_event_callbacks"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_timer_register_event_callbacks()</span></code></a>. The callback function prototype is declared in <a class="reference internal" href="#_CPPv422mcpwm_timer_event_cb_t" title="mcpwm_timer_event_cb_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">mcpwm_timer_event_cb_t</span></code></a>. All supported event callbacks are listed in the <a class="reference internal" href="#_CPPv429mcpwm_timer_event_callbacks_t" title="mcpwm_timer_event_callbacks_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">mcpwm_timer_event_callbacks_t</span></code></a>:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#_CPPv4N29mcpwm_timer_event_callbacks_t7on_fullE" title="mcpwm_timer_event_callbacks_t::on_full"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_timer_event_callbacks_t::on_full</span></code></a> sets the callback function for the timer when it counts to peak value.</p></li>
<li><p><a class="reference internal" href="#_CPPv4N29mcpwm_timer_event_callbacks_t8on_emptyE" title="mcpwm_timer_event_callbacks_t::on_empty"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_timer_event_callbacks_t::on_empty</span></code></a> sets the callback function for the timer when it counts to zero.</p></li>
<li><p><a class="reference internal" href="#_CPPv4N29mcpwm_timer_event_callbacks_t7on_stopE" title="mcpwm_timer_event_callbacks_t::on_stop"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_timer_event_callbacks_t::on_stop</span></code></a> sets the callback function for the timer when it is stopped.</p></li>
</ul>
<p>The callback functions above are called within the ISR context, so they should <strong>not</strong> attempt to block. For example, you may make sure that only FreeRTOS APIs with the <code class="docutils literal notranslate"><span class="pre">ISR</span></code> suffix are called within the function.</p>
<p>The parameter <code class="docutils literal notranslate"><span class="pre">user_data</span></code> of the <a class="reference internal" href="#_CPPv436mcpwm_timer_register_event_callbacks20mcpwm_timer_handle_tPK29mcpwm_timer_event_callbacks_tPv" title="mcpwm_timer_register_event_callbacks"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_timer_register_event_callbacks()</span></code></a> function is used to save your own context. It is passed to each callback function directly.</p>
<p>This function will lazy the install interrupt service for the MCPWM timer without enabling it. It is only allowed to be called before <a class="reference internal" href="#_CPPv418mcpwm_timer_enable20mcpwm_timer_handle_t" title="mcpwm_timer_enable"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_timer_enable()</span></code></a>, otherwise the <a class="reference internal" href="../system/esp_err.html#c.ESP_ERR_INVALID_STATE" title="ESP_ERR_INVALID_STATE"><code class="xref c c-macro docutils literal notranslate"><span class="pre">ESP_ERR_INVALID_STATE</span></code></a> error will be returned. See also <a class="reference external" href="#enable-and-disable-timer">Enable and Disable timer</a> for more information.</p>
</section>
<section id="enable-and-disable-timer">
<h4>Enable and Disable Timer<a class="headerlink" href="#enable-and-disable-timer" title="Permalink to this heading"></a></h4>
<p>Before doing IO control to the timer, you need to enable the timer first, by calling <a class="reference internal" href="#_CPPv418mcpwm_timer_enable20mcpwm_timer_handle_t" title="mcpwm_timer_enable"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_timer_enable()</span></code></a>.  This function:</p>
<ul class="simple">
<li><p>switches the timer state from <strong>init</strong> to <strong>enable</strong>.</p></li>
<li><p>enables the interrupt service if it has been lazy installed by <a class="reference internal" href="#_CPPv436mcpwm_timer_register_event_callbacks20mcpwm_timer_handle_tPK29mcpwm_timer_event_callbacks_tPv" title="mcpwm_timer_register_event_callbacks"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_timer_register_event_callbacks()</span></code></a>.</p></li>
<li><p>acquire a proper power management lock if a specific clock source (e.g., PLL_160M clock) is selected. See also <a class="reference external" href="#power-management">Power management</a> for more information.</p></li>
</ul>
<p>On the contrary, calling <a class="reference internal" href="#_CPPv419mcpwm_timer_disable20mcpwm_timer_handle_t" title="mcpwm_timer_disable"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_timer_disable()</span></code></a> will put the timer driver back to the <strong>init</strong> state, disable the interrupt service and release the power management lock.</p>
</section>
<section id="start-and-stop-timer">
<h4>Start and Stop Timer<a class="headerlink" href="#start-and-stop-timer" title="Permalink to this heading"></a></h4>
<p>The basic IO operation of a timer is to start and stop. Calling <a class="reference internal" href="#_CPPv422mcpwm_timer_start_stop20mcpwm_timer_handle_t28mcpwm_timer_start_stop_cmd_t" title="mcpwm_timer_start_stop"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_timer_start_stop()</span></code></a> with different <a class="reference internal" href="#_CPPv428mcpwm_timer_start_stop_cmd_t" title="mcpwm_timer_start_stop_cmd_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">mcpwm_timer_start_stop_cmd_t</span></code></a> commands can start the timer immediately or stop the timer at a specific event. What is more, you can even start the timer for only one round, which means, the timer will count to peak value or zero, and then stop itself.</p>
</section>
<section id="connect-timer-with-operator">
<h4>Connect Timer with Operator<a class="headerlink" href="#connect-timer-with-operator" title="Permalink to this heading"></a></h4>
<p>The allocated MCPWM timer should be connected with an MCPWM operator by calling <a class="reference internal" href="#_CPPv428mcpwm_operator_connect_timer19mcpwm_oper_handle_t20mcpwm_timer_handle_t" title="mcpwm_operator_connect_timer"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_operator_connect_timer()</span></code></a>, so that the operator can take that timer as its time base, and generate the required PWM waves. Please make sure the MCPWM timer and operator are in the same group. Otherwise, this function will return the <a class="reference internal" href="../system/esp_err.html#c.ESP_ERR_INVALID_ARG" title="ESP_ERR_INVALID_ARG"><code class="xref c c-macro docutils literal notranslate"><span class="pre">ESP_ERR_INVALID_ARG</span></code></a> error.</p>
</section>
</section>
<section id="comparator-operations-and-events">
<span id="mcpwm-comparator-operations-and-events"></span><h3>Comparator Operations and Events<a class="headerlink" href="#comparator-operations-and-events" title="Permalink to this heading"></a></h3>
<section id="register-comparator-event-callbacks">
<h4>Register Comparator Event Callbacks<a class="headerlink" href="#register-comparator-event-callbacks" title="Permalink to this heading"></a></h4>
<p>The MCPWM comparator can inform you when the timer counter equals the compare value. If you have some function that should be called when this event happens, you should hook your function to the interrupt service routine by calling <a class="reference internal" href="#_CPPv441mcpwm_comparator_register_event_callbacks19mcpwm_cmpr_handle_tPK34mcpwm_comparator_event_callbacks_tPv" title="mcpwm_comparator_register_event_callbacks"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_comparator_register_event_callbacks()</span></code></a>. The callback function prototype is declared in <a class="reference internal" href="#_CPPv424mcpwm_compare_event_cb_t" title="mcpwm_compare_event_cb_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">mcpwm_compare_event_cb_t</span></code></a>. All supported event callbacks are listed in the <a class="reference internal" href="#_CPPv434mcpwm_comparator_event_callbacks_t" title="mcpwm_comparator_event_callbacks_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">mcpwm_comparator_event_callbacks_t</span></code></a>:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#_CPPv4N34mcpwm_comparator_event_callbacks_t8on_reachE" title="mcpwm_comparator_event_callbacks_t::on_reach"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_comparator_event_callbacks_t::on_reach</span></code></a> sets the callback function for the comparator when the timer counter equals the compare value.</p></li>
</ul>
<p>The callback function provides event-specific data of type <a class="reference internal" href="#_CPPv426mcpwm_compare_event_data_t" title="mcpwm_compare_event_data_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">mcpwm_compare_event_data_t</span></code></a> to you. The callback function is called within the ISR context, so it should <strong>not</strong> attempt to block. For example, you may make sure that only FreeRTOS APIs with the <code class="docutils literal notranslate"><span class="pre">ISR</span></code> suffix are called within the function.</p>
<p>The parameter <code class="docutils literal notranslate"><span class="pre">user_data</span></code> of <a class="reference internal" href="#_CPPv441mcpwm_comparator_register_event_callbacks19mcpwm_cmpr_handle_tPK34mcpwm_comparator_event_callbacks_tPv" title="mcpwm_comparator_register_event_callbacks"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_comparator_register_event_callbacks()</span></code></a> function is used to save your own context. It is passed to the callback function directly.</p>
<p>This function will lazy the installation of interrupt service for the MCPWM comparator, whereas the service can only be removed in <a class="reference internal" href="#_CPPv420mcpwm_del_comparator19mcpwm_cmpr_handle_t" title="mcpwm_del_comparator"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">mcpwm_del_comparator</span></code></a>.</p>
</section>
<section id="set-compare-value">
<h4>Set Compare Value<a class="headerlink" href="#set-compare-value" title="Permalink to this heading"></a></h4>
<p>You can set the compare value for the MCPWM comparator at runtime by calling <a class="reference internal" href="#_CPPv434mcpwm_comparator_set_compare_value19mcpwm_cmpr_handle_t8uint32_t" title="mcpwm_comparator_set_compare_value"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_comparator_set_compare_value()</span></code></a>. There are a few points to note:</p>
<ul class="simple">
<li><p>A new compare value might not take effect immediately. The update time for the compare value is set by <a class="reference internal" href="#_CPPv4N25mcpwm_comparator_config_t17update_cmp_on_tezE" title="mcpwm_comparator_config_t::update_cmp_on_tez"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_comparator_config_t::update_cmp_on_tez</span></code></a> or <a class="reference internal" href="#_CPPv4N25mcpwm_comparator_config_t17update_cmp_on_tepE" title="mcpwm_comparator_config_t::update_cmp_on_tep"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_comparator_config_t::update_cmp_on_tep</span></code></a> or <a class="reference internal" href="#_CPPv4N25mcpwm_comparator_config_t18update_cmp_on_syncE" title="mcpwm_comparator_config_t::update_cmp_on_sync"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_comparator_config_t::update_cmp_on_sync</span></code></a>.</p></li>
<li><p>Make sure the operator has connected to one MCPWM timer already by <a class="reference internal" href="#_CPPv428mcpwm_operator_connect_timer19mcpwm_oper_handle_t20mcpwm_timer_handle_t" title="mcpwm_operator_connect_timer"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_operator_connect_timer()</span></code></a>. Otherwise, it will return the error code <a class="reference internal" href="../system/esp_err.html#c.ESP_ERR_INVALID_STATE" title="ESP_ERR_INVALID_STATE"><code class="xref c c-macro docutils literal notranslate"><span class="pre">ESP_ERR_INVALID_STATE</span></code></a>.</p></li>
<li><p>The compare value should not exceed the timer's count peak, otherwise, the compare event will never get triggered.</p></li>
</ul>
</section>
</section>
<section id="generator-actions-on-events">
<span id="mcpwm-generator-actions-on-events"></span><h3>Generator Actions on Events<a class="headerlink" href="#generator-actions-on-events" title="Permalink to this heading"></a></h3>
<section id="set-generator-action-on-timer-event">
<h4>Set Generator Action on Timer Event<a class="headerlink" href="#set-generator-action-on-timer-event" title="Permalink to this heading"></a></h4>
<p>One generator can set multiple actions on different timer events, by calling <a class="reference internal" href="#_CPPv442mcpwm_generator_set_actions_on_timer_event18mcpwm_gen_handle_t30mcpwm_gen_timer_event_action_tz" title="mcpwm_generator_set_actions_on_timer_event"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_generator_set_actions_on_timer_event()</span></code></a> with a variable number of action configurations. The action configuration is defined in <a class="reference internal" href="#_CPPv430mcpwm_gen_timer_event_action_t" title="mcpwm_gen_timer_event_action_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">mcpwm_gen_timer_event_action_t</span></code></a>:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#_CPPv4N30mcpwm_gen_timer_event_action_t9directionE" title="mcpwm_gen_timer_event_action_t::direction"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_gen_timer_event_action_t::direction</span></code></a> specifies the timer direction. The supported directions are listed in <a class="reference internal" href="#_CPPv423mcpwm_timer_direction_t" title="mcpwm_timer_direction_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">mcpwm_timer_direction_t</span></code></a>.</p></li>
<li><p><a class="reference internal" href="#_CPPv4N30mcpwm_gen_timer_event_action_t5eventE" title="mcpwm_gen_timer_event_action_t::event"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_gen_timer_event_action_t::event</span></code></a> specifies the timer event. The supported timer events are listed in <a class="reference internal" href="#_CPPv419mcpwm_timer_event_t" title="mcpwm_timer_event_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">mcpwm_timer_event_t</span></code></a>.</p></li>
<li><p><a class="reference internal" href="#_CPPv4N30mcpwm_gen_timer_event_action_t6actionE" title="mcpwm_gen_timer_event_action_t::action"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_gen_timer_event_action_t::action</span></code></a> specifies the generator action to be taken. The supported actions are listed in <a class="reference internal" href="#_CPPv424mcpwm_generator_action_t" title="mcpwm_generator_action_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">mcpwm_generator_action_t</span></code></a>.</p></li>
</ul>
<p>There is a helper macro <a class="reference internal" href="#c.MCPWM_GEN_TIMER_EVENT_ACTION" title="MCPWM_GEN_TIMER_EVENT_ACTION"><code class="xref c c-macro docutils literal notranslate"><span class="pre">MCPWM_GEN_TIMER_EVENT_ACTION</span></code></a> to simplify the construction of a timer event action entry.</p>
<p>Please note, the argument list of <a class="reference internal" href="#_CPPv442mcpwm_generator_set_actions_on_timer_event18mcpwm_gen_handle_t30mcpwm_gen_timer_event_action_tz" title="mcpwm_generator_set_actions_on_timer_event"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_generator_set_actions_on_timer_event()</span></code></a> <strong>must</strong> be terminated by <a class="reference internal" href="#c.MCPWM_GEN_TIMER_EVENT_ACTION_END" title="MCPWM_GEN_TIMER_EVENT_ACTION_END"><code class="xref c c-macro docutils literal notranslate"><span class="pre">MCPWM_GEN_TIMER_EVENT_ACTION_END</span></code></a>.</p>
<p>You can also set the timer action one by one by calling <a class="reference internal" href="#_CPPv441mcpwm_generator_set_action_on_timer_event18mcpwm_gen_handle_t30mcpwm_gen_timer_event_action_t" title="mcpwm_generator_set_action_on_timer_event"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_generator_set_action_on_timer_event()</span></code></a> without varargs.</p>
</section>
<section id="set-generator-action-on-compare-event">
<h4>Set Generator Action on Compare Event<a class="headerlink" href="#set-generator-action-on-compare-event" title="Permalink to this heading"></a></h4>
<p>One generator can set multiple actions on different compare events, by calling <a class="reference internal" href="#_CPPv444mcpwm_generator_set_actions_on_compare_event18mcpwm_gen_handle_t32mcpwm_gen_compare_event_action_tz" title="mcpwm_generator_set_actions_on_compare_event"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_generator_set_actions_on_compare_event()</span></code></a> with a variable number of action configurations. The action configuration is defined in <a class="reference internal" href="#_CPPv432mcpwm_gen_compare_event_action_t" title="mcpwm_gen_compare_event_action_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">mcpwm_gen_compare_event_action_t</span></code></a>:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#_CPPv4N32mcpwm_gen_compare_event_action_t9directionE" title="mcpwm_gen_compare_event_action_t::direction"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_gen_compare_event_action_t::direction</span></code></a> specifies the timer direction. The supported directions are listed in <a class="reference internal" href="#_CPPv423mcpwm_timer_direction_t" title="mcpwm_timer_direction_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">mcpwm_timer_direction_t</span></code></a>.</p></li>
<li><p><a class="reference internal" href="#_CPPv4N32mcpwm_gen_compare_event_action_t10comparatorE" title="mcpwm_gen_compare_event_action_t::comparator"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_gen_compare_event_action_t::comparator</span></code></a> specifies the comparator handle. See <a class="reference external" href="#mcpwm-comparators">MCPWM Comparators</a> for how to allocate a comparator.</p></li>
<li><p><a class="reference internal" href="#_CPPv4N32mcpwm_gen_compare_event_action_t6actionE" title="mcpwm_gen_compare_event_action_t::action"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_gen_compare_event_action_t::action</span></code></a> specifies the generator action to be taken. The supported actions are listed in <a class="reference internal" href="#_CPPv424mcpwm_generator_action_t" title="mcpwm_generator_action_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">mcpwm_generator_action_t</span></code></a>.</p></li>
</ul>
<p>There is a helper macro <a class="reference internal" href="#c.MCPWM_GEN_COMPARE_EVENT_ACTION" title="MCPWM_GEN_COMPARE_EVENT_ACTION"><code class="xref c c-macro docutils literal notranslate"><span class="pre">MCPWM_GEN_COMPARE_EVENT_ACTION</span></code></a> to simplify the construction of a compare event action entry.</p>
<p>Please note, the argument list of <a class="reference internal" href="#_CPPv444mcpwm_generator_set_actions_on_compare_event18mcpwm_gen_handle_t32mcpwm_gen_compare_event_action_tz" title="mcpwm_generator_set_actions_on_compare_event"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_generator_set_actions_on_compare_event()</span></code></a> <strong>must</strong> be terminated by <a class="reference internal" href="#c.MCPWM_GEN_COMPARE_EVENT_ACTION_END" title="MCPWM_GEN_COMPARE_EVENT_ACTION_END"><code class="xref c c-macro docutils literal notranslate"><span class="pre">MCPWM_GEN_COMPARE_EVENT_ACTION_END</span></code></a>.</p>
<p>You can also set the compare action one by one by calling <a class="reference internal" href="#_CPPv443mcpwm_generator_set_action_on_compare_event18mcpwm_gen_handle_t32mcpwm_gen_compare_event_action_t" title="mcpwm_generator_set_action_on_compare_event"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_generator_set_action_on_compare_event()</span></code></a> without varargs.</p>
</section>
<section id="set-generator-action-on-fault-event">
<h4>Set Generator Action on Fault Event<a class="headerlink" href="#set-generator-action-on-fault-event" title="Permalink to this heading"></a></h4>
<p>One generator can set action on fault based trigger events, by calling <a class="reference internal" href="#_CPPv441mcpwm_generator_set_action_on_fault_event18mcpwm_gen_handle_t30mcpwm_gen_fault_event_action_t" title="mcpwm_generator_set_action_on_fault_event"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_generator_set_action_on_fault_event()</span></code></a> with an action configurations. The action configuration is defined in <a class="reference internal" href="#_CPPv430mcpwm_gen_fault_event_action_t" title="mcpwm_gen_fault_event_action_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">mcpwm_gen_fault_event_action_t</span></code></a>:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#_CPPv4N30mcpwm_gen_fault_event_action_t9directionE" title="mcpwm_gen_fault_event_action_t::direction"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_gen_fault_event_action_t::direction</span></code></a> specifies the timer direction. The supported directions are listed in <a class="reference internal" href="#_CPPv423mcpwm_timer_direction_t" title="mcpwm_timer_direction_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">mcpwm_timer_direction_t</span></code></a>.</p></li>
<li><p><a class="reference internal" href="#_CPPv4N30mcpwm_gen_fault_event_action_t5faultE" title="mcpwm_gen_fault_event_action_t::fault"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_gen_fault_event_action_t::fault</span></code></a> specifies the fault used for the trigger. See <a class="reference external" href="#mcpwm-faults">MCPWM Faults</a> for how to allocate a fault.</p></li>
<li><p><a class="reference internal" href="#_CPPv4N30mcpwm_gen_fault_event_action_t6actionE" title="mcpwm_gen_fault_event_action_t::action"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_gen_fault_event_action_t::action</span></code></a> specifies the generator action to be taken. The supported actions are listed in <a class="reference internal" href="#_CPPv424mcpwm_generator_action_t" title="mcpwm_generator_action_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">mcpwm_generator_action_t</span></code></a>.</p></li>
</ul>
<p>When no free trigger slot is left in the operator to which the generator belongs, this function will return the <a class="reference internal" href="../system/esp_err.html#c.ESP_ERR_NOT_FOUND" title="ESP_ERR_NOT_FOUND"><code class="xref c c-macro docutils literal notranslate"><span class="pre">ESP_ERR_NOT_FOUND</span></code></a> error. <a class="footnote-reference brackets" href="#id36" id="id8" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a></p>
<p>The trigger only support GPIO fault. when the input is not a GPIO fault, this function will return the <a class="reference internal" href="../system/esp_err.html#c.ESP_ERR_NOT_SUPPORTED" title="ESP_ERR_NOT_SUPPORTED"><code class="xref c c-macro docutils literal notranslate"><span class="pre">ESP_ERR_NOT_SUPPORTED</span></code></a> error.</p>
<p>There is a helper macro <a class="reference internal" href="#c.MCPWM_GEN_FAULT_EVENT_ACTION" title="MCPWM_GEN_FAULT_EVENT_ACTION"><code class="xref c c-macro docutils literal notranslate"><span class="pre">MCPWM_GEN_FAULT_EVENT_ACTION</span></code></a> to simplify the construction of a trigger event action entry.</p>
<p>Please note, fault event does not have variadic function like <code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_generator_set_actions_on_fault_event()</span></code>.</p>
</section>
<section id="set-generator-action-on-sync-event">
<h4>Set Generator Action on Sync Event<a class="headerlink" href="#set-generator-action-on-sync-event" title="Permalink to this heading"></a></h4>
<p>One generator can set action on sync based trigger events, by calling <a class="reference internal" href="#_CPPv440mcpwm_generator_set_action_on_sync_event18mcpwm_gen_handle_t29mcpwm_gen_sync_event_action_t" title="mcpwm_generator_set_action_on_sync_event"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_generator_set_action_on_sync_event()</span></code></a> with an action configurations. The action configuration is defined in <a class="reference internal" href="#_CPPv429mcpwm_gen_sync_event_action_t" title="mcpwm_gen_sync_event_action_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">mcpwm_gen_sync_event_action_t</span></code></a>:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#_CPPv4N29mcpwm_gen_sync_event_action_t9directionE" title="mcpwm_gen_sync_event_action_t::direction"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_gen_sync_event_action_t::direction</span></code></a> specifies the timer direction. The supported directions are listed in <a class="reference internal" href="#_CPPv423mcpwm_timer_direction_t" title="mcpwm_timer_direction_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">mcpwm_timer_direction_t</span></code></a>.</p></li>
<li><p><a class="reference internal" href="#_CPPv4N29mcpwm_gen_sync_event_action_t4syncE" title="mcpwm_gen_sync_event_action_t::sync"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_gen_sync_event_action_t::sync</span></code></a> specifies the sync source used for the trigger. See <a class="reference external" href="#mcpwm-sync-sources">MCPWM Sync Sources</a> for how to allocate a sync source.</p></li>
<li><p><a class="reference internal" href="#_CPPv4N29mcpwm_gen_sync_event_action_t6actionE" title="mcpwm_gen_sync_event_action_t::action"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_gen_sync_event_action_t::action</span></code></a> specifies the generator action to be taken. The supported actions are listed in <a class="reference internal" href="#_CPPv424mcpwm_generator_action_t" title="mcpwm_generator_action_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">mcpwm_generator_action_t</span></code></a>.</p></li>
</ul>
<p>When no free trigger slot is left in the operator to which the generator belongs, this function will return the <a class="reference internal" href="../system/esp_err.html#c.ESP_ERR_NOT_FOUND" title="ESP_ERR_NOT_FOUND"><code class="xref c c-macro docutils literal notranslate"><span class="pre">ESP_ERR_NOT_FOUND</span></code></a> error. <a class="footnote-reference brackets" href="#id36" id="id9" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a></p>
<p>The trigger only support one sync action, regardless of the kinds. When set sync actions more than once, this function will return the <a class="reference internal" href="../system/esp_err.html#c.ESP_ERR_INVALID_STATE" title="ESP_ERR_INVALID_STATE"><code class="xref c c-macro docutils literal notranslate"><span class="pre">ESP_ERR_INVALID_STATE</span></code></a> error.</p>
<p>There is a helper macro <a class="reference internal" href="#c.MCPWM_GEN_SYNC_EVENT_ACTION" title="MCPWM_GEN_SYNC_EVENT_ACTION"><code class="xref c c-macro docutils literal notranslate"><span class="pre">MCPWM_GEN_SYNC_EVENT_ACTION</span></code></a> to simplify the construction of a trigger event action entry.</p>
<p>Please note, sync event does not have variadic function like <code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_generator_set_actions_on_sync_event()</span></code>.</p>
</section>
</section>
<section id="generator-configurations-for-classical-pwm-waveforms">
<span id="mcpwm-classical-pwm-waveforms-and-generator-configurations"></span><h3>Generator Configurations for Classical PWM Waveforms<a class="headerlink" href="#generator-configurations-for-classical-pwm-waveforms" title="Permalink to this heading"></a></h3>
<p>This section will demonstrate the classical PWM waveforms that can be generated by the pair of generators. The code snippet that is used to generate the waveforms is also provided below the diagram. Some general summary:</p>
<ul class="simple">
<li><p>The <strong>Symmetric</strong> or <strong>Asymmetric</strong> of the waveforms is determined by the count mode of the MCPWM timer.</p></li>
<li><p>The <strong>active level</strong> of the waveform pair is determined by the level of the PWM with a smaller duty cycle.</p></li>
<li><p>The period of the PWM waveform is determined by the timer's period and count mode.</p></li>
<li><p>The duty cycle of the PWM waveform is determined by the generator's various action combinations.</p></li>
</ul>
<section id="single-edge-asymmetric-waveform-active-high">
<h4>Single Edge Asymmetric Waveform - Active High<a class="headerlink" href="#single-edge-asymmetric-waveform-active-high" title="Permalink to this heading"></a></h4>

<div style="overflow-x:auto">
<script type="WaveDrom">
{
  "signal": [
    {
      "name": "pwm_A",
      "wave": "01....0..1....0..1"
    },
    {
      "name": "pwm_B",
      "wave": "01..0....1..0....1"
    }
  ],
  "head": {
    "text": "Single Edge Asymmetric Waveform, Active High"
  }
}

</script>
</div>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">gen_action_config</span><span class="p">(</span><span class="n">mcpwm_gen_handle_t</span><span class="w"> </span><span class="n">gena</span><span class="p">,</span><span class="w"> </span><span class="n">mcpwm_gen_handle_t</span><span class="w"> </span><span class="n">genb</span><span class="p">,</span><span class="w"> </span><span class="n">mcpwm_cmpr_handle_t</span><span class="w"> </span><span class="n">cmpa</span><span class="p">,</span><span class="w"> </span><span class="n">mcpwm_cmpr_handle_t</span><span class="w"> </span><span class="n">cmpb</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">ESP_ERROR_CHECK</span><span class="p">(</span><span class="n">mcpwm_generator_set_action_on_timer_event</span><span class="p">(</span><span class="n">gena</span><span class="p">,</span>
<span class="w">                    </span><span class="n">MCPWM_GEN_TIMER_EVENT_ACTION</span><span class="p">(</span><span class="n">MCPWM_TIMER_DIRECTION_UP</span><span class="p">,</span><span class="w"> </span><span class="n">MCPWM_TIMER_EVENT_EMPTY</span><span class="p">,</span><span class="w"> </span><span class="n">MCPWM_GEN_ACTION_HIGH</span><span class="p">)));</span>
<span class="w">    </span><span class="n">ESP_ERROR_CHECK</span><span class="p">(</span><span class="n">mcpwm_generator_set_action_on_compare_event</span><span class="p">(</span><span class="n">gena</span><span class="p">,</span>
<span class="w">                    </span><span class="n">MCPWM_GEN_COMPARE_EVENT_ACTION</span><span class="p">(</span><span class="n">MCPWM_TIMER_DIRECTION_UP</span><span class="p">,</span><span class="w"> </span><span class="n">cmpa</span><span class="p">,</span><span class="w"> </span><span class="n">MCPWM_GEN_ACTION_LOW</span><span class="p">)));</span>
<span class="w">    </span><span class="n">ESP_ERROR_CHECK</span><span class="p">(</span><span class="n">mcpwm_generator_set_action_on_timer_event</span><span class="p">(</span><span class="n">genb</span><span class="p">,</span>
<span class="w">                    </span><span class="n">MCPWM_GEN_TIMER_EVENT_ACTION</span><span class="p">(</span><span class="n">MCPWM_TIMER_DIRECTION_UP</span><span class="p">,</span><span class="w"> </span><span class="n">MCPWM_TIMER_EVENT_EMPTY</span><span class="p">,</span><span class="w"> </span><span class="n">MCPWM_GEN_ACTION_HIGH</span><span class="p">)));</span>
<span class="w">    </span><span class="n">ESP_ERROR_CHECK</span><span class="p">(</span><span class="n">mcpwm_generator_set_action_on_compare_event</span><span class="p">(</span><span class="n">genb</span><span class="p">,</span>
<span class="w">                    </span><span class="n">MCPWM_GEN_COMPARE_EVENT_ACTION</span><span class="p">(</span><span class="n">MCPWM_TIMER_DIRECTION_UP</span><span class="p">,</span><span class="w"> </span><span class="n">cmpb</span><span class="p">,</span><span class="w"> </span><span class="n">MCPWM_GEN_ACTION_LOW</span><span class="p">)));</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="single-edge-asymmetric-waveform-active-low">
<h4>Single Edge Asymmetric Waveform - Active Low<a class="headerlink" href="#single-edge-asymmetric-waveform-active-low" title="Permalink to this heading"></a></h4>

<div style="overflow-x:auto">
<script type="WaveDrom">
{
  "signal": [
    {
      "name": "pwm_A",
      "wave": "10....1..0....1..0"
    },
    {
      "name": "pwm_B",
      "wave": "10..1....0..1....0"
    }
  ],
  "head": {
    "text": "Single Edge Asymmetric Waveform, Active Low"
  }
}

</script>
</div>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">gen_action_config</span><span class="p">(</span><span class="n">mcpwm_gen_handle_t</span><span class="w"> </span><span class="n">gena</span><span class="p">,</span><span class="w"> </span><span class="n">mcpwm_gen_handle_t</span><span class="w"> </span><span class="n">genb</span><span class="p">,</span><span class="w"> </span><span class="n">mcpwm_cmpr_handle_t</span><span class="w"> </span><span class="n">cmpa</span><span class="p">,</span><span class="w"> </span><span class="n">mcpwm_cmpr_handle_t</span><span class="w"> </span><span class="n">cmpb</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">ESP_ERROR_CHECK</span><span class="p">(</span><span class="n">mcpwm_generator_set_action_on_timer_event</span><span class="p">(</span><span class="n">gena</span><span class="p">,</span>
<span class="w">                    </span><span class="n">MCPWM_GEN_TIMER_EVENT_ACTION</span><span class="p">(</span><span class="n">MCPWM_TIMER_DIRECTION_UP</span><span class="p">,</span><span class="w"> </span><span class="n">MCPWM_TIMER_EVENT_FULL</span><span class="p">,</span><span class="w"> </span><span class="n">MCPWM_GEN_ACTION_LOW</span><span class="p">)));</span>
<span class="w">    </span><span class="n">ESP_ERROR_CHECK</span><span class="p">(</span><span class="n">mcpwm_generator_set_action_on_compare_event</span><span class="p">(</span><span class="n">gena</span><span class="p">,</span>
<span class="w">                    </span><span class="n">MCPWM_GEN_COMPARE_EVENT_ACTION</span><span class="p">(</span><span class="n">MCPWM_TIMER_DIRECTION_UP</span><span class="p">,</span><span class="w"> </span><span class="n">cmpa</span><span class="p">,</span><span class="w"> </span><span class="n">MCPWM_GEN_ACTION_HIGH</span><span class="p">)));</span>
<span class="w">    </span><span class="n">ESP_ERROR_CHECK</span><span class="p">(</span><span class="n">mcpwm_generator_set_action_on_timer_event</span><span class="p">(</span><span class="n">genb</span><span class="p">,</span>
<span class="w">                    </span><span class="n">MCPWM_GEN_TIMER_EVENT_ACTION</span><span class="p">(</span><span class="n">MCPWM_TIMER_DIRECTION_UP</span><span class="p">,</span><span class="w"> </span><span class="n">MCPWM_TIMER_EVENT_FULL</span><span class="p">,</span><span class="w"> </span><span class="n">MCPWM_GEN_ACTION_LOW</span><span class="p">)));</span>
<span class="w">    </span><span class="n">ESP_ERROR_CHECK</span><span class="p">(</span><span class="n">mcpwm_generator_set_action_on_compare_event</span><span class="p">(</span><span class="n">genb</span><span class="p">,</span>
<span class="w">                    </span><span class="n">MCPWM_GEN_COMPARE_EVENT_ACTION</span><span class="p">(</span><span class="n">MCPWM_TIMER_DIRECTION_UP</span><span class="p">,</span><span class="w"> </span><span class="n">cmpb</span><span class="p">,</span><span class="w"> </span><span class="n">MCPWM_GEN_ACTION_HIGH</span><span class="p">)));</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="pulse-placement-asymmetric-waveform">
<h4>Pulse Placement Asymmetric Waveform<a class="headerlink" href="#pulse-placement-asymmetric-waveform" title="Permalink to this heading"></a></h4>

<div style="overflow-x:auto">
<script type="WaveDrom">
{
  "signal": [
    {
      "name": "pwm_A",
      "wave": "0.1..0..1..0..1..0..1..0.."
    },
    {
      "name": "pwm_B",
      "wave": "01.....0.....1.....0.....1"
    }
  ],
  "head": {
    "text": "Pulse Placement Asymmetric Waveform"
  }
}

</script>
</div>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">gen_action_config</span><span class="p">(</span><span class="n">mcpwm_gen_handle_t</span><span class="w"> </span><span class="n">gena</span><span class="p">,</span><span class="w"> </span><span class="n">mcpwm_gen_handle_t</span><span class="w"> </span><span class="n">genb</span><span class="p">,</span><span class="w"> </span><span class="n">mcpwm_cmpr_handle_t</span><span class="w"> </span><span class="n">cmpa</span><span class="p">,</span><span class="w"> </span><span class="n">mcpwm_cmpr_handle_t</span><span class="w"> </span><span class="n">cmpb</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">ESP_ERROR_CHECK</span><span class="p">(</span><span class="n">mcpwm_generator_set_actions_on_compare_event</span><span class="p">(</span><span class="n">gena</span><span class="p">,</span>
<span class="w">                    </span><span class="n">MCPWM_GEN_COMPARE_EVENT_ACTION</span><span class="p">(</span><span class="n">MCPWM_TIMER_DIRECTION_UP</span><span class="p">,</span><span class="w"> </span><span class="n">cmpa</span><span class="p">,</span><span class="w"> </span><span class="n">MCPWM_GEN_ACTION_HIGH</span><span class="p">),</span>
<span class="w">                    </span><span class="n">MCPWM_GEN_COMPARE_EVENT_ACTION</span><span class="p">(</span><span class="n">MCPWM_TIMER_DIRECTION_UP</span><span class="p">,</span><span class="w"> </span><span class="n">cmpb</span><span class="p">,</span><span class="w"> </span><span class="n">MCPWM_GEN_ACTION_LOW</span><span class="p">),</span>
<span class="w">                    </span><span class="n">MCPWM_GEN_COMPARE_EVENT_ACTION_END</span><span class="p">()));</span>
<span class="w">    </span><span class="n">ESP_ERROR_CHECK</span><span class="p">(</span><span class="n">mcpwm_generator_set_actions_on_timer_event</span><span class="p">(</span><span class="n">genb</span><span class="p">,</span>
<span class="w">                    </span><span class="n">MCPWM_GEN_TIMER_EVENT_ACTION</span><span class="p">(</span><span class="n">MCPWM_TIMER_DIRECTION_UP</span><span class="p">,</span><span class="w"> </span><span class="n">MCPWM_TIMER_EVENT_EMPTY</span><span class="p">,</span><span class="w"> </span><span class="n">MCPWM_GEN_ACTION_TOGGLE</span><span class="p">),</span>
<span class="w">                    </span><span class="n">MCPWM_GEN_TIMER_EVENT_ACTION_END</span><span class="p">()));</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="dual-edge-asymmetric-waveform-active-low">
<h4>Dual Edge Asymmetric Waveform - Active Low<a class="headerlink" href="#dual-edge-asymmetric-waveform-active-low" title="Permalink to this heading"></a></h4>

<div style="overflow-x:auto">
<script type="WaveDrom">
{
  "signal": [
    {
      "name": "pwm_A",
      "wave": "01..0..1..0."
    },
    {
      "name": "pwm_B",
      "wave": "0..1..0..1.."
    }
  ],
  "head": {
    "text": "Dual Edge Asymmetric Waveform, Active Low"
  }
}

</script>
</div>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">gen_action_config</span><span class="p">(</span><span class="n">mcpwm_gen_handle_t</span><span class="w"> </span><span class="n">gena</span><span class="p">,</span><span class="w"> </span><span class="n">mcpwm_gen_handle_t</span><span class="w"> </span><span class="n">genb</span><span class="p">,</span><span class="w"> </span><span class="n">mcpwm_cmpr_handle_t</span><span class="w"> </span><span class="n">cmpa</span><span class="p">,</span><span class="w"> </span><span class="n">mcpwm_cmpr_handle_t</span><span class="w"> </span><span class="n">cmpb</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">ESP_ERROR_CHECK</span><span class="p">(</span><span class="n">mcpwm_generator_set_actions_on_compare_event</span><span class="p">(</span><span class="n">gena</span><span class="p">,</span>
<span class="w">                    </span><span class="n">MCPWM_GEN_COMPARE_EVENT_ACTION</span><span class="p">(</span><span class="n">MCPWM_TIMER_DIRECTION_UP</span><span class="p">,</span><span class="w"> </span><span class="n">cmpa</span><span class="p">,</span><span class="w"> </span><span class="n">MCPWM_GEN_ACTION_HIGH</span><span class="p">),</span>
<span class="w">                    </span><span class="n">MCPWM_GEN_COMPARE_EVENT_ACTION</span><span class="p">(</span><span class="n">MCPWM_TIMER_DIRECTION_DOWN</span><span class="p">,</span><span class="w"> </span><span class="n">cmpb</span><span class="p">,</span><span class="w"> </span><span class="n">MCPWM_GEN_ACTION_LOW</span><span class="p">),</span>
<span class="w">                    </span><span class="n">MCPWM_GEN_COMPARE_EVENT_ACTION_END</span><span class="p">()));</span>
<span class="w">    </span><span class="n">ESP_ERROR_CHECK</span><span class="p">(</span><span class="n">mcpwm_generator_set_actions_on_timer_event</span><span class="p">(</span><span class="n">genb</span><span class="p">,</span>
<span class="w">                    </span><span class="n">MCPWM_GEN_TIMER_EVENT_ACTION</span><span class="p">(</span><span class="n">MCPWM_TIMER_DIRECTION_UP</span><span class="p">,</span><span class="w"> </span><span class="n">MCPWM_TIMER_EVENT_EMPTY</span><span class="p">,</span><span class="w"> </span><span class="n">MCPWM_GEN_ACTION_LOW</span><span class="p">),</span>
<span class="w">                    </span><span class="n">MCPWM_GEN_TIMER_EVENT_ACTION</span><span class="p">(</span><span class="n">MCPWM_TIMER_DIRECTION_DOWN</span><span class="p">,</span><span class="w"> </span><span class="n">MCPWM_TIMER_EVENT_FULL</span><span class="p">,</span><span class="w"> </span><span class="n">MCPWM_GEN_ACTION_HIGH</span><span class="p">),</span>
<span class="w">                    </span><span class="n">MCPWM_GEN_TIMER_EVENT_ACTION_END</span><span class="p">()));</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="dual-edge-symmetric-waveform-active-low">
<h4>Dual Edge Symmetric Waveform - Active Low<a class="headerlink" href="#dual-edge-symmetric-waveform-active-low" title="Permalink to this heading"></a></h4>

<div style="overflow-x:auto">
<script type="WaveDrom">
{
  "signal": [
    {
      "name": "pwm_A",
      "wave": "0.1..0...1..0.."
    },
    {
      "name": "pwm_B",
      "wave": "0..10.....10..."
    }
  ],
  "head": {
    "text": "Dual Edge Symmetric Waveform, Active Low"
  }
}

</script>
</div>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">gen_action_config</span><span class="p">(</span><span class="n">mcpwm_gen_handle_t</span><span class="w"> </span><span class="n">gena</span><span class="p">,</span><span class="w"> </span><span class="n">mcpwm_gen_handle_t</span><span class="w"> </span><span class="n">genb</span><span class="p">,</span><span class="w"> </span><span class="n">mcpwm_cmpr_handle_t</span><span class="w"> </span><span class="n">cmpa</span><span class="p">,</span><span class="w"> </span><span class="n">mcpwm_cmpr_handle_t</span><span class="w"> </span><span class="n">cmpb</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">ESP_ERROR_CHECK</span><span class="p">(</span><span class="n">mcpwm_generator_set_actions_on_compare_event</span><span class="p">(</span><span class="n">gena</span><span class="p">,</span>
<span class="w">                    </span><span class="n">MCPWM_GEN_COMPARE_EVENT_ACTION</span><span class="p">(</span><span class="n">MCPWM_TIMER_DIRECTION_UP</span><span class="p">,</span><span class="w"> </span><span class="n">cmpa</span><span class="p">,</span><span class="w"> </span><span class="n">MCPWM_GEN_ACTION_HIGH</span><span class="p">),</span>
<span class="w">                    </span><span class="n">MCPWM_GEN_COMPARE_EVENT_ACTION</span><span class="p">(</span><span class="n">MCPWM_TIMER_DIRECTION_DOWN</span><span class="p">,</span><span class="w"> </span><span class="n">cmpa</span><span class="p">,</span><span class="w"> </span><span class="n">MCPWM_GEN_ACTION_LOW</span><span class="p">),</span>
<span class="w">                    </span><span class="n">MCPWM_GEN_COMPARE_EVENT_ACTION_END</span><span class="p">()));</span>
<span class="w">    </span><span class="n">ESP_ERROR_CHECK</span><span class="p">(</span><span class="n">mcpwm_generator_set_actions_on_compare_event</span><span class="p">(</span><span class="n">genb</span><span class="p">,</span>
<span class="w">                    </span><span class="n">MCPWM_GEN_COMPARE_EVENT_ACTION</span><span class="p">(</span><span class="n">MCPWM_TIMER_DIRECTION_UP</span><span class="p">,</span><span class="w"> </span><span class="n">cmpb</span><span class="p">,</span><span class="w"> </span><span class="n">MCPWM_GEN_ACTION_HIGH</span><span class="p">),</span>
<span class="w">                    </span><span class="n">MCPWM_GEN_COMPARE_EVENT_ACTION</span><span class="p">(</span><span class="n">MCPWM_TIMER_DIRECTION_DOWN</span><span class="p">,</span><span class="w"> </span><span class="n">cmpb</span><span class="p">,</span><span class="w"> </span><span class="n">MCPWM_GEN_ACTION_LOW</span><span class="p">),</span>
<span class="w">                    </span><span class="n">MCPWM_GEN_COMPARE_EVENT_ACTION_END</span><span class="p">()));</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="dual-edge-symmetric-waveform-complementary">
<h4>Dual Edge Symmetric Waveform - Complementary<a class="headerlink" href="#dual-edge-symmetric-waveform-complementary" title="Permalink to this heading"></a></h4>

<div style="overflow-x:auto">
<script type="WaveDrom">
{
  "signal": [
    {
      "name": "pwm_A",
      "wave": "01..0...1..0"
    },
    {
      "name": "pwm_B",
      "wave": "1.01.....01."
    }
  ],
  "head": {
    "text": "Dual Edge Symmetric Waveform, Complementary"
  }
}

</script>
</div>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">gen_action_config</span><span class="p">(</span><span class="n">mcpwm_gen_handle_t</span><span class="w"> </span><span class="n">gena</span><span class="p">,</span><span class="w"> </span><span class="n">mcpwm_gen_handle_t</span><span class="w"> </span><span class="n">genb</span><span class="p">,</span><span class="w"> </span><span class="n">mcpwm_cmpr_handle_t</span><span class="w"> </span><span class="n">cmpa</span><span class="p">,</span><span class="w"> </span><span class="n">mcpwm_cmpr_handle_t</span><span class="w"> </span><span class="n">cmpb</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">ESP_ERROR_CHECK</span><span class="p">(</span><span class="n">mcpwm_generator_set_actions_on_compare_event</span><span class="p">(</span><span class="n">gena</span><span class="p">,</span>
<span class="w">                    </span><span class="n">MCPWM_GEN_COMPARE_EVENT_ACTION</span><span class="p">(</span><span class="n">MCPWM_TIMER_DIRECTION_UP</span><span class="p">,</span><span class="w"> </span><span class="n">cmpa</span><span class="p">,</span><span class="w"> </span><span class="n">MCPWM_GEN_ACTION_HIGH</span><span class="p">),</span>
<span class="w">                    </span><span class="n">MCPWM_GEN_COMPARE_EVENT_ACTION</span><span class="p">(</span><span class="n">MCPWM_TIMER_DIRECTION_DOWN</span><span class="p">,</span><span class="w"> </span><span class="n">cmpa</span><span class="p">,</span><span class="w"> </span><span class="n">MCPWM_GEN_ACTION_LOW</span><span class="p">),</span>
<span class="w">                    </span><span class="n">MCPWM_GEN_COMPARE_EVENT_ACTION_END</span><span class="p">()));</span>
<span class="w">    </span><span class="n">ESP_ERROR_CHECK</span><span class="p">(</span><span class="n">mcpwm_generator_set_actions_on_compare_event</span><span class="p">(</span><span class="n">genb</span><span class="p">,</span>
<span class="w">                    </span><span class="n">MCPWM_GEN_COMPARE_EVENT_ACTION</span><span class="p">(</span><span class="n">MCPWM_TIMER_DIRECTION_UP</span><span class="p">,</span><span class="w"> </span><span class="n">cmpb</span><span class="p">,</span><span class="w"> </span><span class="n">MCPWM_GEN_ACTION_LOW</span><span class="p">),</span>
<span class="w">                    </span><span class="n">MCPWM_GEN_COMPARE_EVENT_ACTION</span><span class="p">(</span><span class="n">MCPWM_TIMER_DIRECTION_DOWN</span><span class="p">,</span><span class="w"> </span><span class="n">cmpb</span><span class="p">,</span><span class="w"> </span><span class="n">MCPWM_GEN_ACTION_HIGH</span><span class="p">),</span>
<span class="w">                    </span><span class="n">MCPWM_GEN_COMPARE_EVENT_ACTION_END</span><span class="p">()));</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
</section>
<section id="dead-time">
<span id="mcpwm-dead-time"></span><h3>Dead Time<a class="headerlink" href="#dead-time" title="Permalink to this heading"></a></h3>
<p>In power electronics, the rectifier and inverter are commonly used. This requires the use of a rectifier bridge and an inverter bridge. Each bridge arm has two power electronic devices, such as MOSFET, IGBT, etc. The two MOSFETs on the same arm can not conduct at the same time, otherwise there will be a short circuit. The fact is that, although the PWM wave shows it is turning off the switch, the MOSFET still needs a small time window to make that happen. This requires an extra delay to be added to the existing PWM wave generated by setting <a class="reference external" href="#generator-actions-on-events">Generator Actions on Events</a>.</p>
<p>The dead time driver works like a <strong>decorator</strong>. This is also reflected in the function parameters of <a class="reference internal" href="#_CPPv429mcpwm_generator_set_dead_time18mcpwm_gen_handle_t18mcpwm_gen_handle_tPK24mcpwm_dead_time_config_t" title="mcpwm_generator_set_dead_time"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_generator_set_dead_time()</span></code></a>, where it takes the primary generator handle (<code class="docutils literal notranslate"><span class="pre">in_generator</span></code>), and returns a new generator (<code class="docutils literal notranslate"><span class="pre">out_generator</span></code>) after applying the dead time. Please note, if the <code class="docutils literal notranslate"><span class="pre">out_generator</span></code> and <code class="docutils literal notranslate"><span class="pre">in_generator</span></code> are the same, it means you are adding the time delay to the PWM waveform in an &quot;in-place&quot; fashion. In turn, if the <code class="docutils literal notranslate"><span class="pre">out_generator</span></code> and <code class="docutils literal notranslate"><span class="pre">in_generator</span></code> are different, it means you are deriving a new PWM waveform from the existing <code class="docutils literal notranslate"><span class="pre">in_generator</span></code>.</p>
<p>Dead time specific configuration is listed in the <a class="reference internal" href="#_CPPv424mcpwm_dead_time_config_t" title="mcpwm_dead_time_config_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">mcpwm_dead_time_config_t</span></code></a> structure:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#_CPPv4N24mcpwm_dead_time_config_t19posedge_delay_ticksE" title="mcpwm_dead_time_config_t::posedge_delay_ticks"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_dead_time_config_t::posedge_delay_ticks</span></code></a> and <a class="reference internal" href="#_CPPv4N24mcpwm_dead_time_config_t19negedge_delay_ticksE" title="mcpwm_dead_time_config_t::negedge_delay_ticks"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_dead_time_config_t::negedge_delay_ticks</span></code></a> set the number of ticks to delay the PWM waveform on the rising and falling edge. Specifically, setting both of them to zero means bypassing the dead time module. The resolution of the dead time tick is the same as the timer that is connected with the operator by <a class="reference internal" href="#_CPPv428mcpwm_operator_connect_timer19mcpwm_oper_handle_t20mcpwm_timer_handle_t" title="mcpwm_operator_connect_timer"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_operator_connect_timer()</span></code></a>.</p></li>
<li><p><a class="reference internal" href="#_CPPv4N24mcpwm_dead_time_config_t13invert_outputE" title="mcpwm_dead_time_config_t::invert_output"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_dead_time_config_t::invert_output</span></code></a> sets whether to invert the signal after applying the dead time, which can be used to control the delay edge polarity.</p></li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Due to the hardware limitation, one delay module (either <code class="docutils literal notranslate"><span class="pre">posedge</span> <span class="pre">delay</span></code> or <code class="docutils literal notranslate"><span class="pre">negedge</span> <span class="pre">delay</span></code>) can not be applied to multiple MCPWM generators at the same time. e.g., the following configuration is <strong>invalid</strong>:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">mcpwm_dead_time_config_t</span><span class="w"> </span><span class="n">dt_config</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="p">.</span><span class="n">posedge_delay_ticks</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span>
<span class="p">};</span>
<span class="c1">// Set posedge delay to generator A</span>
<span class="n">mcpwm_generator_set_dead_time</span><span class="p">(</span><span class="n">mcpwm_gen_a</span><span class="p">,</span><span class="w"> </span><span class="n">mcpwm_gen_a</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">dt_config</span><span class="p">);</span>
<span class="c1">// NOTE: This is invalid, you can not apply the posedge delay to another generator</span>
<span class="n">mcpwm_generator_set_dead_time</span><span class="p">(</span><span class="n">mcpwm_gen_b</span><span class="p">,</span><span class="w"> </span><span class="n">mcpwm_gen_b</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">dt_config</span><span class="p">);</span>
</pre></div>
</div>
<p>However, you can apply <code class="docutils literal notranslate"><span class="pre">posedge</span> <span class="pre">delay</span></code> to generator A and <code class="docutils literal notranslate"><span class="pre">negedge</span> <span class="pre">delay</span></code> to generator B. You can also set both <code class="docutils literal notranslate"><span class="pre">posedge</span> <span class="pre">delay</span></code> and <code class="docutils literal notranslate"><span class="pre">negedge</span> <span class="pre">delay</span></code> for generator B, while letting generator A bypass the dead time module. Note that if <code class="docutils literal notranslate"><span class="pre">negedge</span> <span class="pre">delay</span></code> and <code class="docutils literal notranslate"><span class="pre">posedge</span> <span class="pre">delay</span></code> are both set for generator A, generator B will not be available. Where generator A is the first generator requested through the operator handle and generator B is the second generator requested through an operator handle.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It is also possible to generate the required dead time by setting <a class="reference external" href="#generator-actions-on-events">Generator Actions on Events</a>, especially by controlling edge placement using different comparators. However, if the more classical edge delay-based dead time with polarity control is required, then the dead time submodule should be used.</p>
</div>
</section>
<section id="dead-time-configurations-for-classical-pwm-waveforms">
<span id="mcpwm-classical-pwm-waveforms-and-dead-time-configurations"></span><h3>Dead Time Configurations for Classical PWM Waveforms<a class="headerlink" href="#dead-time-configurations-for-classical-pwm-waveforms" title="Permalink to this heading"></a></h3>
<p>This section demonstrates the classical PWM waveforms that can be generated by the dead time submodule. The code snippet that is used to generate the waveforms is also provided below the diagram.</p>
<section id="active-high-complementary">
<h4>Active High Complementary<a class="headerlink" href="#active-high-complementary" title="Permalink to this heading"></a></h4>

<div style="overflow-x:auto">
<script type="WaveDrom">
{
  "signal": [
    {
      "name": "origin",
      "wave": "0...1.....0...",
      "node": "....a.e...b..."
    },
    {
      "name": "pwm_A",
      "wave": "0....1....0...",
      "node": ".....c....."
    },
    {
      "name": "pwm_B",
      "wave": "1...0......1..",
      "node": "......f....d.."
    }
  ],
  "edge": [
    "a|->c RED",
    "b|->d FED",
    "e<->f Invert"
  ],
  "head": {
    "text": "Active High, Complementary"
  }
}

</script>
</div>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">gen_action_config</span><span class="p">(</span><span class="n">mcpwm_gen_handle_t</span><span class="w"> </span><span class="n">gena</span><span class="p">,</span><span class="w"> </span><span class="n">mcpwm_gen_handle_t</span><span class="w"> </span><span class="n">genb</span><span class="p">,</span><span class="w"> </span><span class="n">mcpwm_cmpr_handle_t</span><span class="w"> </span><span class="n">cmpa</span><span class="p">,</span><span class="w"> </span><span class="n">mcpwm_cmpr_handle_t</span><span class="w"> </span><span class="n">cmpb</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">ESP_ERROR_CHECK</span><span class="p">(</span><span class="n">mcpwm_generator_set_action_on_timer_event</span><span class="p">(</span><span class="n">gena</span><span class="p">,</span>
<span class="w">                    </span><span class="n">MCPWM_GEN_TIMER_EVENT_ACTION</span><span class="p">(</span><span class="n">MCPWM_TIMER_DIRECTION_UP</span><span class="p">,</span><span class="w"> </span><span class="n">MCPWM_TIMER_EVENT_EMPTY</span><span class="p">,</span><span class="w"> </span><span class="n">MCPWM_GEN_ACTION_HIGH</span><span class="p">)));</span>
<span class="w">    </span><span class="n">ESP_ERROR_CHECK</span><span class="p">(</span><span class="n">mcpwm_generator_set_action_on_compare_event</span><span class="p">(</span><span class="n">gena</span><span class="p">,</span>
<span class="w">                    </span><span class="n">MCPWM_GEN_COMPARE_EVENT_ACTION</span><span class="p">(</span><span class="n">MCPWM_TIMER_DIRECTION_UP</span><span class="p">,</span><span class="w"> </span><span class="n">cmpa</span><span class="p">,</span><span class="w"> </span><span class="n">MCPWM_GEN_ACTION_LOW</span><span class="p">)));</span>
<span class="p">}</span>

<span class="k">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">dead_time_config</span><span class="p">(</span><span class="n">mcpwm_gen_handle_t</span><span class="w"> </span><span class="n">gena</span><span class="p">,</span><span class="w"> </span><span class="n">mcpwm_gen_handle_t</span><span class="w"> </span><span class="n">genb</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">mcpwm_dead_time_config_t</span><span class="w"> </span><span class="n">dead_time_config</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="p">.</span><span class="n">posedge_delay_ticks</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span>
<span class="w">        </span><span class="p">.</span><span class="n">negedge_delay_ticks</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
<span class="w">    </span><span class="p">};</span>
<span class="w">    </span><span class="n">ESP_ERROR_CHECK</span><span class="p">(</span><span class="n">mcpwm_generator_set_dead_time</span><span class="p">(</span><span class="n">gena</span><span class="p">,</span><span class="w"> </span><span class="n">gena</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">dead_time_config</span><span class="p">));</span>
<span class="w">    </span><span class="n">dead_time_config</span><span class="p">.</span><span class="n">posedge_delay_ticks</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="n">dead_time_config</span><span class="p">.</span><span class="n">negedge_delay_ticks</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">100</span><span class="p">;</span>
<span class="w">    </span><span class="n">dead_time_config</span><span class="p">.</span><span class="n">flags</span><span class="p">.</span><span class="n">invert_output</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="w">    </span><span class="n">ESP_ERROR_CHECK</span><span class="p">(</span><span class="n">mcpwm_generator_set_dead_time</span><span class="p">(</span><span class="n">gena</span><span class="p">,</span><span class="w"> </span><span class="n">genb</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">dead_time_config</span><span class="p">));</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="active-low-complementary">
<h4>Active Low Complementary<a class="headerlink" href="#active-low-complementary" title="Permalink to this heading"></a></h4>

<div style="overflow-x:auto">
<script type="WaveDrom">
{
  "signal": [
    {
      "name": "origin",
      "wave": "0...1.....0...",
      "node": "....a..e..b..."
    },
    {
      "name": "pwm_A",
      "wave": "1....0....1...",
      "node": ".....c.f..."
    },
    {
      "name": "pwm_B",
      "wave": "0...1......0..",
      "node": "...........d.."
    }
  ],
  "edge": [
    "a|->c RED",
    "b|->d FED",
    "e<->f Invert"
  ],
  "head": {
    "text": "Active Low, Complementary"
  }
}

</script>
</div>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">gen_action_config</span><span class="p">(</span><span class="n">mcpwm_gen_handle_t</span><span class="w"> </span><span class="n">gena</span><span class="p">,</span><span class="w"> </span><span class="n">mcpwm_gen_handle_t</span><span class="w"> </span><span class="n">genb</span><span class="p">,</span><span class="w"> </span><span class="n">mcpwm_cmpr_handle_t</span><span class="w"> </span><span class="n">cmpa</span><span class="p">,</span><span class="w"> </span><span class="n">mcpwm_cmpr_handle_t</span><span class="w"> </span><span class="n">cmpb</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">ESP_ERROR_CHECK</span><span class="p">(</span><span class="n">mcpwm_generator_set_action_on_timer_event</span><span class="p">(</span><span class="n">gena</span><span class="p">,</span>
<span class="w">                    </span><span class="n">MCPWM_GEN_TIMER_EVENT_ACTION</span><span class="p">(</span><span class="n">MCPWM_TIMER_DIRECTION_UP</span><span class="p">,</span><span class="w"> </span><span class="n">MCPWM_TIMER_EVENT_EMPTY</span><span class="p">,</span><span class="w"> </span><span class="n">MCPWM_GEN_ACTION_HIGH</span><span class="p">)));</span>
<span class="w">    </span><span class="n">ESP_ERROR_CHECK</span><span class="p">(</span><span class="n">mcpwm_generator_set_action_on_compare_event</span><span class="p">(</span><span class="n">gena</span><span class="p">,</span>
<span class="w">                    </span><span class="n">MCPWM_GEN_COMPARE_EVENT_ACTION</span><span class="p">(</span><span class="n">MCPWM_TIMER_DIRECTION_UP</span><span class="p">,</span><span class="w"> </span><span class="n">cmpa</span><span class="p">,</span><span class="w"> </span><span class="n">MCPWM_GEN_ACTION_LOW</span><span class="p">)));</span>
<span class="p">}</span>

<span class="k">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">dead_time_config</span><span class="p">(</span><span class="n">mcpwm_gen_handle_t</span><span class="w"> </span><span class="n">gena</span><span class="p">,</span><span class="w"> </span><span class="n">mcpwm_gen_handle_t</span><span class="w"> </span><span class="n">genb</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">mcpwm_dead_time_config_t</span><span class="w"> </span><span class="n">dead_time_config</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="p">.</span><span class="n">posedge_delay_ticks</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span>
<span class="w">        </span><span class="p">.</span><span class="n">negedge_delay_ticks</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">        </span><span class="p">.</span><span class="n">flags</span><span class="p">.</span><span class="n">invert_output</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span>
<span class="w">    </span><span class="p">};</span>
<span class="w">    </span><span class="n">ESP_ERROR_CHECK</span><span class="p">(</span><span class="n">mcpwm_generator_set_dead_time</span><span class="p">(</span><span class="n">gena</span><span class="p">,</span><span class="w"> </span><span class="n">gena</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">dead_time_config</span><span class="p">));</span>
<span class="w">    </span><span class="n">dead_time_config</span><span class="p">.</span><span class="n">posedge_delay_ticks</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="n">dead_time_config</span><span class="p">.</span><span class="n">negedge_delay_ticks</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">100</span><span class="p">;</span>
<span class="w">    </span><span class="n">dead_time_config</span><span class="p">.</span><span class="n">flags</span><span class="p">.</span><span class="n">invert_output</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="w">    </span><span class="n">ESP_ERROR_CHECK</span><span class="p">(</span><span class="n">mcpwm_generator_set_dead_time</span><span class="p">(</span><span class="n">gena</span><span class="p">,</span><span class="w"> </span><span class="n">genb</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">dead_time_config</span><span class="p">));</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="active-high">
<h4>Active High<a class="headerlink" href="#active-high" title="Permalink to this heading"></a></h4>

<div style="overflow-x:auto">
<script type="WaveDrom">
{
  "signal": [
    {
      "name": "origin",
      "wave": "0...1.....0...",
      "node": "....a.....b..."
    },
    {
      "name": "pwm_A",
      "wave": "0....1....0...",
      "node": ".....c....."
    },
    {
      "name": "pwm_B",
      "wave": "0...1......0..",
      "node": "...........d.."
    }
  ],
  "edge": [
    "a|->c RED",
    "b|->d FED"
  ],
  "head": {
    "text": "Active High"
  }
}

</script>
</div>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">gen_action_config</span><span class="p">(</span><span class="n">mcpwm_gen_handle_t</span><span class="w"> </span><span class="n">gena</span><span class="p">,</span><span class="w"> </span><span class="n">mcpwm_gen_handle_t</span><span class="w"> </span><span class="n">genb</span><span class="p">,</span><span class="w"> </span><span class="n">mcpwm_cmpr_handle_t</span><span class="w"> </span><span class="n">cmpa</span><span class="p">,</span><span class="w"> </span><span class="n">mcpwm_cmpr_handle_t</span><span class="w"> </span><span class="n">cmpb</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">ESP_ERROR_CHECK</span><span class="p">(</span><span class="n">mcpwm_generator_set_action_on_timer_event</span><span class="p">(</span><span class="n">gena</span><span class="p">,</span>
<span class="w">                    </span><span class="n">MCPWM_GEN_TIMER_EVENT_ACTION</span><span class="p">(</span><span class="n">MCPWM_TIMER_DIRECTION_UP</span><span class="p">,</span><span class="w"> </span><span class="n">MCPWM_TIMER_EVENT_EMPTY</span><span class="p">,</span><span class="w"> </span><span class="n">MCPWM_GEN_ACTION_HIGH</span><span class="p">)));</span>
<span class="w">    </span><span class="n">ESP_ERROR_CHECK</span><span class="p">(</span><span class="n">mcpwm_generator_set_action_on_compare_event</span><span class="p">(</span><span class="n">gena</span><span class="p">,</span>
<span class="w">                    </span><span class="n">MCPWM_GEN_COMPARE_EVENT_ACTION</span><span class="p">(</span><span class="n">MCPWM_TIMER_DIRECTION_UP</span><span class="p">,</span><span class="w"> </span><span class="n">cmpa</span><span class="p">,</span><span class="w"> </span><span class="n">MCPWM_GEN_ACTION_LOW</span><span class="p">)));</span>
<span class="p">}</span>

<span class="k">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">dead_time_config</span><span class="p">(</span><span class="n">mcpwm_gen_handle_t</span><span class="w"> </span><span class="n">gena</span><span class="p">,</span><span class="w"> </span><span class="n">mcpwm_gen_handle_t</span><span class="w"> </span><span class="n">genb</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">mcpwm_dead_time_config_t</span><span class="w"> </span><span class="n">dead_time_config</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="p">.</span><span class="n">posedge_delay_ticks</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span>
<span class="w">        </span><span class="p">.</span><span class="n">negedge_delay_ticks</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">    </span><span class="p">};</span>
<span class="w">    </span><span class="n">ESP_ERROR_CHECK</span><span class="p">(</span><span class="n">mcpwm_generator_set_dead_time</span><span class="p">(</span><span class="n">gena</span><span class="p">,</span><span class="w"> </span><span class="n">gena</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">dead_time_config</span><span class="p">));</span>
<span class="w">    </span><span class="n">dead_time_config</span><span class="p">.</span><span class="n">posedge_delay_ticks</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="n">dead_time_config</span><span class="p">.</span><span class="n">negedge_delay_ticks</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">100</span><span class="p">;</span>
<span class="w">    </span><span class="n">ESP_ERROR_CHECK</span><span class="p">(</span><span class="n">mcpwm_generator_set_dead_time</span><span class="p">(</span><span class="n">gena</span><span class="p">,</span><span class="w"> </span><span class="n">genb</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">dead_time_config</span><span class="p">));</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="active-low">
<h4>Active Low<a class="headerlink" href="#active-low" title="Permalink to this heading"></a></h4>

<div style="overflow-x:auto">
<script type="WaveDrom">
{
  "signal": [
    {
      "name": "origin",
      "wave": "0...1.....0...",
      "node": "....a..ef.b..."
    },
    {
      "name": "pwm_A",
      "wave": "1....0....1...",
      "node": ".....c.g..."
    },
    {
      "name": "pwm_B",
      "wave": "1...0......1..",
      "node": "........h..d.."
    }
  ],
  "edge": [
    "a|->c RED",
    "b|->d FED",
    "e<->g Invert",
    "f<->h Invert"
  ],
  "head": {
    "text": "Active Low"
  }
}

</script>
</div>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">gen_action_config</span><span class="p">(</span><span class="n">mcpwm_gen_handle_t</span><span class="w"> </span><span class="n">gena</span><span class="p">,</span><span class="w"> </span><span class="n">mcpwm_gen_handle_t</span><span class="w"> </span><span class="n">genb</span><span class="p">,</span><span class="w"> </span><span class="n">mcpwm_cmpr_handle_t</span><span class="w"> </span><span class="n">cmpa</span><span class="p">,</span><span class="w"> </span><span class="n">mcpwm_cmpr_handle_t</span><span class="w"> </span><span class="n">cmpb</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">ESP_ERROR_CHECK</span><span class="p">(</span><span class="n">mcpwm_generator_set_action_on_timer_event</span><span class="p">(</span><span class="n">gena</span><span class="p">,</span>
<span class="w">                    </span><span class="n">MCPWM_GEN_TIMER_EVENT_ACTION</span><span class="p">(</span><span class="n">MCPWM_TIMER_DIRECTION_UP</span><span class="p">,</span><span class="w"> </span><span class="n">MCPWM_TIMER_EVENT_EMPTY</span><span class="p">,</span><span class="w"> </span><span class="n">MCPWM_GEN_ACTION_HIGH</span><span class="p">)));</span>
<span class="w">    </span><span class="n">ESP_ERROR_CHECK</span><span class="p">(</span><span class="n">mcpwm_generator_set_action_on_compare_event</span><span class="p">(</span><span class="n">gena</span><span class="p">,</span>
<span class="w">                    </span><span class="n">MCPWM_GEN_COMPARE_EVENT_ACTION</span><span class="p">(</span><span class="n">MCPWM_TIMER_DIRECTION_UP</span><span class="p">,</span><span class="w"> </span><span class="n">cmpa</span><span class="p">,</span><span class="w"> </span><span class="n">MCPWM_GEN_ACTION_LOW</span><span class="p">)));</span>
<span class="p">}</span>

<span class="k">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">dead_time_config</span><span class="p">(</span><span class="n">mcpwm_gen_handle_t</span><span class="w"> </span><span class="n">gena</span><span class="p">,</span><span class="w"> </span><span class="n">mcpwm_gen_handle_t</span><span class="w"> </span><span class="n">genb</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">mcpwm_dead_time_config_t</span><span class="w"> </span><span class="n">dead_time_config</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="p">.</span><span class="n">posedge_delay_ticks</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span>
<span class="w">        </span><span class="p">.</span><span class="n">negedge_delay_ticks</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">        </span><span class="p">.</span><span class="n">flags</span><span class="p">.</span><span class="n">invert_output</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span>
<span class="w">    </span><span class="p">};</span>
<span class="w">    </span><span class="n">ESP_ERROR_CHECK</span><span class="p">(</span><span class="n">mcpwm_generator_set_dead_time</span><span class="p">(</span><span class="n">gena</span><span class="p">,</span><span class="w"> </span><span class="n">gena</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">dead_time_config</span><span class="p">));</span>
<span class="w">    </span><span class="n">dead_time_config</span><span class="p">.</span><span class="n">posedge_delay_ticks</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="n">dead_time_config</span><span class="p">.</span><span class="n">negedge_delay_ticks</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">100</span><span class="p">;</span>
<span class="w">    </span><span class="n">ESP_ERROR_CHECK</span><span class="p">(</span><span class="n">mcpwm_generator_set_dead_time</span><span class="p">(</span><span class="n">gena</span><span class="p">,</span><span class="w"> </span><span class="n">genb</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">dead_time_config</span><span class="p">));</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="rising-delay-on-pwma-and-bypass-dead-time-for-pwmb">
<h4>Rising Delay on PWMA and Bypass Dead Time for PWMB<a class="headerlink" href="#rising-delay-on-pwma-and-bypass-dead-time-for-pwmb" title="Permalink to this heading"></a></h4>

<div style="overflow-x:auto">
<script type="WaveDrom">
{
  "signal": [
    {
      "name": "origin_A",
      "wave": "0...1.....0...",
      "node": "....a........."
    },
    {
      "name": "origin_B",
      "wave": "0...1.....0..."
    },
    {
      "name": "pwm_A",
      "wave": "0....1....0...",
      "node": ".....b....."
    },
    {
      "name": "pwm_B",
      "wave": "0...1.....0..."
    }
  ],
  "edge": [
    "a|->b RED"
  ],
  "head": {
    "text": "RED on A, Bypass B"
  }
}

</script>
</div>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">gen_action_config</span><span class="p">(</span><span class="n">mcpwm_gen_handle_t</span><span class="w"> </span><span class="n">gena</span><span class="p">,</span><span class="w"> </span><span class="n">mcpwm_gen_handle_t</span><span class="w"> </span><span class="n">genb</span><span class="p">,</span><span class="w"> </span><span class="n">mcpwm_cmpr_handle_t</span><span class="w"> </span><span class="n">cmpa</span><span class="p">,</span><span class="w"> </span><span class="n">mcpwm_cmpr_handle_t</span><span class="w"> </span><span class="n">cmpb</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">ESP_ERROR_CHECK</span><span class="p">(</span><span class="n">mcpwm_generator_set_action_on_timer_event</span><span class="p">(</span><span class="n">gena</span><span class="p">,</span>
<span class="w">                    </span><span class="n">MCPWM_GEN_TIMER_EVENT_ACTION</span><span class="p">(</span><span class="n">MCPWM_TIMER_DIRECTION_UP</span><span class="p">,</span><span class="w"> </span><span class="n">MCPWM_TIMER_EVENT_EMPTY</span><span class="p">,</span><span class="w"> </span><span class="n">MCPWM_GEN_ACTION_HIGH</span><span class="p">)));</span>
<span class="w">    </span><span class="n">ESP_ERROR_CHECK</span><span class="p">(</span><span class="n">mcpwm_generator_set_action_on_compare_event</span><span class="p">(</span><span class="n">gena</span><span class="p">,</span>
<span class="w">                    </span><span class="n">MCPWM_GEN_COMPARE_EVENT_ACTION</span><span class="p">(</span><span class="n">MCPWM_TIMER_DIRECTION_UP</span><span class="p">,</span><span class="w"> </span><span class="n">cmpa</span><span class="p">,</span><span class="w"> </span><span class="n">MCPWM_GEN_ACTION_LOW</span><span class="p">)));</span>
<span class="w">    </span><span class="n">ESP_ERROR_CHECK</span><span class="p">(</span><span class="n">mcpwm_generator_set_action_on_timer_event</span><span class="p">(</span><span class="n">genb</span><span class="p">,</span>
<span class="w">                    </span><span class="n">MCPWM_GEN_TIMER_EVENT_ACTION</span><span class="p">(</span><span class="n">MCPWM_TIMER_DIRECTION_UP</span><span class="p">,</span><span class="w"> </span><span class="n">MCPWM_TIMER_EVENT_EMPTY</span><span class="p">,</span><span class="w"> </span><span class="n">MCPWM_GEN_ACTION_HIGH</span><span class="p">)));</span>
<span class="w">    </span><span class="n">ESP_ERROR_CHECK</span><span class="p">(</span><span class="n">mcpwm_generator_set_action_on_compare_event</span><span class="p">(</span><span class="n">genb</span><span class="p">,</span>
<span class="w">                    </span><span class="n">MCPWM_GEN_COMPARE_EVENT_ACTION</span><span class="p">(</span><span class="n">MCPWM_TIMER_DIRECTION_UP</span><span class="p">,</span><span class="w"> </span><span class="n">cmpb</span><span class="p">,</span><span class="w"> </span><span class="n">MCPWM_GEN_ACTION_LOW</span><span class="p">)));</span>
<span class="p">}</span>

<span class="k">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">dead_time_config</span><span class="p">(</span><span class="n">mcpwm_gen_handle_t</span><span class="w"> </span><span class="n">gena</span><span class="p">,</span><span class="w"> </span><span class="n">mcpwm_gen_handle_t</span><span class="w"> </span><span class="n">genb</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">mcpwm_dead_time_config_t</span><span class="w"> </span><span class="n">dead_time_config</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="p">.</span><span class="n">posedge_delay_ticks</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span>
<span class="w">        </span><span class="p">.</span><span class="n">negedge_delay_ticks</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">    </span><span class="p">};</span>
<span class="w">    </span><span class="c1">// apply deadtime to generator_a</span>
<span class="w">    </span><span class="n">ESP_ERROR_CHECK</span><span class="p">(</span><span class="n">mcpwm_generator_set_dead_time</span><span class="p">(</span><span class="n">gena</span><span class="p">,</span><span class="w"> </span><span class="n">gena</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">dead_time_config</span><span class="p">));</span>
<span class="w">    </span><span class="c1">// bypass deadtime module for generator_b</span>
<span class="w">    </span><span class="n">dead_time_config</span><span class="p">.</span><span class="n">posedge_delay_ticks</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="n">ESP_ERROR_CHECK</span><span class="p">(</span><span class="n">mcpwm_generator_set_dead_time</span><span class="p">(</span><span class="n">genb</span><span class="p">,</span><span class="w"> </span><span class="n">genb</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">dead_time_config</span><span class="p">));</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="falling-delay-on-pwmb-and-bypass-dead-time-for-pwma">
<h4>Falling Delay on PWMB and Bypass Dead Time for PWMA<a class="headerlink" href="#falling-delay-on-pwmb-and-bypass-dead-time-for-pwma" title="Permalink to this heading"></a></h4>

<div style="overflow-x:auto">
<script type="WaveDrom">
{
  "signal": [
    {
      "name": "origin_A",
      "wave": "0...1.....0..."
    },
    {
      "name": "origin_B",
      "wave": "0...1.....0...",
      "node": "..........a..."
    },
    {
      "name": "pwm_A",
      "wave": "0...1.....0..."
    },
    {
      "name": "pwm_B",
      "wave": "0...1......0..",
      "node": "...........b..."
    }
  ],
  "edge": [
    "a|->b FED"
  ],
  "head": {
    "text": "FED on B, Bypass A"
  }
}

</script>
</div>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">gen_action_config</span><span class="p">(</span><span class="n">mcpwm_gen_handle_t</span><span class="w"> </span><span class="n">gena</span><span class="p">,</span><span class="w"> </span><span class="n">mcpwm_gen_handle_t</span><span class="w"> </span><span class="n">genb</span><span class="p">,</span><span class="w"> </span><span class="n">mcpwm_cmpr_handle_t</span><span class="w"> </span><span class="n">cmpa</span><span class="p">,</span><span class="w"> </span><span class="n">mcpwm_cmpr_handle_t</span><span class="w"> </span><span class="n">cmpb</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">ESP_ERROR_CHECK</span><span class="p">(</span><span class="n">mcpwm_generator_set_action_on_timer_event</span><span class="p">(</span><span class="n">gena</span><span class="p">,</span>
<span class="w">                    </span><span class="n">MCPWM_GEN_TIMER_EVENT_ACTION</span><span class="p">(</span><span class="n">MCPWM_TIMER_DIRECTION_UP</span><span class="p">,</span><span class="w"> </span><span class="n">MCPWM_TIMER_EVENT_EMPTY</span><span class="p">,</span><span class="w"> </span><span class="n">MCPWM_GEN_ACTION_HIGH</span><span class="p">)));</span>
<span class="w">    </span><span class="n">ESP_ERROR_CHECK</span><span class="p">(</span><span class="n">mcpwm_generator_set_action_on_compare_event</span><span class="p">(</span><span class="n">gena</span><span class="p">,</span>
<span class="w">                    </span><span class="n">MCPWM_GEN_COMPARE_EVENT_ACTION</span><span class="p">(</span><span class="n">MCPWM_TIMER_DIRECTION_UP</span><span class="p">,</span><span class="w"> </span><span class="n">cmpa</span><span class="p">,</span><span class="w"> </span><span class="n">MCPWM_GEN_ACTION_LOW</span><span class="p">)));</span>
<span class="w">    </span><span class="n">ESP_ERROR_CHECK</span><span class="p">(</span><span class="n">mcpwm_generator_set_action_on_timer_event</span><span class="p">(</span><span class="n">genb</span><span class="p">,</span>
<span class="w">                    </span><span class="n">MCPWM_GEN_TIMER_EVENT_ACTION</span><span class="p">(</span><span class="n">MCPWM_TIMER_DIRECTION_UP</span><span class="p">,</span><span class="w"> </span><span class="n">MCPWM_TIMER_EVENT_EMPTY</span><span class="p">,</span><span class="w"> </span><span class="n">MCPWM_GEN_ACTION_HIGH</span><span class="p">)));</span>
<span class="w">    </span><span class="n">ESP_ERROR_CHECK</span><span class="p">(</span><span class="n">mcpwm_generator_set_action_on_compare_event</span><span class="p">(</span><span class="n">genb</span><span class="p">,</span>
<span class="w">                    </span><span class="n">MCPWM_GEN_COMPARE_EVENT_ACTION</span><span class="p">(</span><span class="n">MCPWM_TIMER_DIRECTION_UP</span><span class="p">,</span><span class="w"> </span><span class="n">cmpb</span><span class="p">,</span><span class="w"> </span><span class="n">MCPWM_GEN_ACTION_LOW</span><span class="p">)));</span>
<span class="p">}</span>

<span class="k">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">dead_time_config</span><span class="p">(</span><span class="n">mcpwm_gen_handle_t</span><span class="w"> </span><span class="n">gena</span><span class="p">,</span><span class="w"> </span><span class="n">mcpwm_gen_handle_t</span><span class="w"> </span><span class="n">genb</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">mcpwm_dead_time_config_t</span><span class="w"> </span><span class="n">dead_time_config</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="p">.</span><span class="n">posedge_delay_ticks</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">        </span><span class="p">.</span><span class="n">negedge_delay_ticks</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">    </span><span class="p">};</span>
<span class="w">    </span><span class="c1">// generator_a bypass the deadtime module (no delay)</span>
<span class="w">    </span><span class="n">ESP_ERROR_CHECK</span><span class="p">(</span><span class="n">mcpwm_generator_set_dead_time</span><span class="p">(</span><span class="n">gena</span><span class="p">,</span><span class="w"> </span><span class="n">gena</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">dead_time_config</span><span class="p">));</span>
<span class="w">    </span><span class="c1">// apply dead time to generator_b</span>
<span class="w">    </span><span class="n">dead_time_config</span><span class="p">.</span><span class="n">negedge_delay_ticks</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">50</span><span class="p">;</span>
<span class="w">    </span><span class="n">ESP_ERROR_CHECK</span><span class="p">(</span><span class="n">mcpwm_generator_set_dead_time</span><span class="p">(</span><span class="n">genb</span><span class="p">,</span><span class="w"> </span><span class="n">genb</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">dead_time_config</span><span class="p">));</span>

<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="rising-and-falling-delay-on-pwmb-and-bypass-dead-time-for-pwma">
<h4>Rising and Falling Delay on PWMB and Bypass Dead Time for PWMA<a class="headerlink" href="#rising-and-falling-delay-on-pwmb-and-bypass-dead-time-for-pwma" title="Permalink to this heading"></a></h4>

<div style="overflow-x:auto">
<script type="WaveDrom">
{
  "signal": [
    {
      "name": "origin_A",
      "wave": "0...1.....0..."
    },
    {
      "name": "origin_B",
      "wave": "0...1.....0...",
      "node": "....a.....b..."
    },
    {
      "name": "pwm_A",
      "wave": "0...1.....0..."
    },
    {
      "name": "pwm_B",
      "wave": "0....1.....0..",
      "node": ".....c.....d..."
    }
  ],
  "edge": [
    "a|->c RED",
    "b|->d FED"
  ],
  "head": {
    "text": "Bypass A, RED + FED on B"
  }
}

</script>
</div>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">gen_action_config</span><span class="p">(</span><span class="n">mcpwm_gen_handle_t</span><span class="w"> </span><span class="n">gena</span><span class="p">,</span><span class="w"> </span><span class="n">mcpwm_gen_handle_t</span><span class="w"> </span><span class="n">genb</span><span class="p">,</span><span class="w"> </span><span class="n">mcpwm_cmpr_handle_t</span><span class="w"> </span><span class="n">cmpa</span><span class="p">,</span><span class="w"> </span><span class="n">mcpwm_cmpr_handle_t</span><span class="w"> </span><span class="n">cmpb</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">ESP_ERROR_CHECK</span><span class="p">(</span><span class="n">mcpwm_generator_set_action_on_timer_event</span><span class="p">(</span><span class="n">gena</span><span class="p">,</span>
<span class="w">                    </span><span class="n">MCPWM_GEN_TIMER_EVENT_ACTION</span><span class="p">(</span><span class="n">MCPWM_TIMER_DIRECTION_UP</span><span class="p">,</span><span class="w"> </span><span class="n">MCPWM_TIMER_EVENT_EMPTY</span><span class="p">,</span><span class="w"> </span><span class="n">MCPWM_GEN_ACTION_HIGH</span><span class="p">)));</span>
<span class="w">    </span><span class="n">ESP_ERROR_CHECK</span><span class="p">(</span><span class="n">mcpwm_generator_set_action_on_compare_event</span><span class="p">(</span><span class="n">gena</span><span class="p">,</span>
<span class="w">                    </span><span class="n">MCPWM_GEN_COMPARE_EVENT_ACTION</span><span class="p">(</span><span class="n">MCPWM_TIMER_DIRECTION_UP</span><span class="p">,</span><span class="w"> </span><span class="n">cmpa</span><span class="p">,</span><span class="w"> </span><span class="n">MCPWM_GEN_ACTION_LOW</span><span class="p">)));</span>
<span class="w">    </span><span class="n">ESP_ERROR_CHECK</span><span class="p">(</span><span class="n">mcpwm_generator_set_action_on_timer_event</span><span class="p">(</span><span class="n">genb</span><span class="p">,</span>
<span class="w">                    </span><span class="n">MCPWM_GEN_TIMER_EVENT_ACTION</span><span class="p">(</span><span class="n">MCPWM_TIMER_DIRECTION_UP</span><span class="p">,</span><span class="w"> </span><span class="n">MCPWM_TIMER_EVENT_EMPTY</span><span class="p">,</span><span class="w"> </span><span class="n">MCPWM_GEN_ACTION_HIGH</span><span class="p">)));</span>
<span class="w">    </span><span class="n">ESP_ERROR_CHECK</span><span class="p">(</span><span class="n">mcpwm_generator_set_action_on_compare_event</span><span class="p">(</span><span class="n">genb</span><span class="p">,</span>
<span class="w">                    </span><span class="n">MCPWM_GEN_COMPARE_EVENT_ACTION</span><span class="p">(</span><span class="n">MCPWM_TIMER_DIRECTION_UP</span><span class="p">,</span><span class="w"> </span><span class="n">cmpb</span><span class="p">,</span><span class="w"> </span><span class="n">MCPWM_GEN_ACTION_LOW</span><span class="p">)));</span>
<span class="p">}</span>

<span class="k">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">dead_time_config</span><span class="p">(</span><span class="n">mcpwm_gen_handle_t</span><span class="w"> </span><span class="n">gena</span><span class="p">,</span><span class="w"> </span><span class="n">mcpwm_gen_handle_t</span><span class="w"> </span><span class="n">genb</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">mcpwm_dead_time_config_t</span><span class="w"> </span><span class="n">dead_time_config</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="p">.</span><span class="n">posedge_delay_ticks</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">        </span><span class="p">.</span><span class="n">negedge_delay_ticks</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">    </span><span class="p">};</span>
<span class="w">    </span><span class="c1">// generator_a bypass the deadtime module (no delay)</span>
<span class="w">    </span><span class="n">ESP_ERROR_CHECK</span><span class="p">(</span><span class="n">mcpwm_generator_set_dead_time</span><span class="p">(</span><span class="n">gena</span><span class="p">,</span><span class="w"> </span><span class="n">gena</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">dead_time_config</span><span class="p">));</span>
<span class="w">    </span><span class="c1">// apply dead time on both edge for generator_b</span>
<span class="w">    </span><span class="n">dead_time_config</span><span class="p">.</span><span class="n">negedge_delay_ticks</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">50</span><span class="p">;</span>
<span class="w">    </span><span class="n">dead_time_config</span><span class="p">.</span><span class="n">posedge_delay_ticks</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">50</span><span class="p">;</span>
<span class="w">    </span><span class="n">ESP_ERROR_CHECK</span><span class="p">(</span><span class="n">mcpwm_generator_set_dead_time</span><span class="p">(</span><span class="n">genb</span><span class="p">,</span><span class="w"> </span><span class="n">genb</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">dead_time_config</span><span class="p">));</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
</section>
<section id="carrier-modulation">
<span id="mcpwm-carrier-modulation"></span><h3>Carrier Modulation<a class="headerlink" href="#carrier-modulation" title="Permalink to this heading"></a></h3>
<p>The MCPWM operator has a carrier submodule that can be used if galvanic isolation from the motor driver is required (e.g., isolated digital power application) by passing the PWM output signals through transformers. Any of the PWM output signals may be at 100% duty and not changing whenever a motor is required to run steadily at the full load. Coupling with non-alternating signals with a transformer is problematic, so the signals are modulated by the carrier submodule to create an AC waveform, to make the coupling possible.</p>
<p>To configure the carrier submodule, you can call <a class="reference internal" href="#_CPPv428mcpwm_operator_apply_carrier19mcpwm_oper_handle_tPK22mcpwm_carrier_config_t" title="mcpwm_operator_apply_carrier"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_operator_apply_carrier()</span></code></a>, and provide configuration structure <a class="reference internal" href="#_CPPv422mcpwm_carrier_config_t" title="mcpwm_carrier_config_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">mcpwm_carrier_config_t</span></code></a>:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#_CPPv4N22mcpwm_carrier_config_t7clk_srcE" title="mcpwm_carrier_config_t::clk_src"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_carrier_config_t::clk_src</span></code></a> sets the clock source of the carrier.</p></li>
<li><p><a class="reference internal" href="#_CPPv4N22mcpwm_carrier_config_t12frequency_hzE" title="mcpwm_carrier_config_t::frequency_hz"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_carrier_config_t::frequency_hz</span></code></a> indicates carrier frequency in Hz.</p></li>
<li><p><a class="reference internal" href="#_CPPv4N22mcpwm_carrier_config_t10duty_cycleE" title="mcpwm_carrier_config_t::duty_cycle"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_carrier_config_t::duty_cycle</span></code></a> indicates the duty cycle of the carrier. Note that, the supported choices of the duty cycle are discrete, the driver searches for the nearest one based on your configuration.</p></li>
<li><p><a class="reference internal" href="#_CPPv4N22mcpwm_carrier_config_t23first_pulse_duration_usE" title="mcpwm_carrier_config_t::first_pulse_duration_us"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_carrier_config_t::first_pulse_duration_us</span></code></a> indicates the duration of the first pulse in microseconds. The resolution of the first pulse duration is determined by the carrier frequency you set in the <a class="reference internal" href="#_CPPv4N22mcpwm_carrier_config_t12frequency_hzE" title="mcpwm_carrier_config_t::frequency_hz"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_carrier_config_t::frequency_hz</span></code></a>. The first pulse duration can not be zero, and it has to be at least one period of the carrier. A longer pulse width can help conduct the inductance quicker.</p></li>
<li><p><a class="reference internal" href="#_CPPv4N22mcpwm_carrier_config_t22invert_before_modulateE" title="mcpwm_carrier_config_t::invert_before_modulate"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_carrier_config_t::invert_before_modulate</span></code></a> and <a class="reference internal" href="#_CPPv4N22mcpwm_carrier_config_t21invert_after_modulateE" title="mcpwm_carrier_config_t::invert_after_modulate"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_carrier_config_t::invert_after_modulate</span></code></a> set whether to invert the carrier output before and after modulation.</p></li>
</ul>
<p>Specifically, the carrier submodule can be disabled by calling <a class="reference internal" href="#_CPPv428mcpwm_operator_apply_carrier19mcpwm_oper_handle_tPK22mcpwm_carrier_config_t" title="mcpwm_operator_apply_carrier"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_operator_apply_carrier()</span></code></a> with a <code class="docutils literal notranslate"><span class="pre">NULL</span></code> configuration.</p>
</section>
<section id="faults-and-brake-actions">
<span id="mcpwm-faults-and-brake-actions"></span><h3>Faults and Brake Actions<a class="headerlink" href="#faults-and-brake-actions" title="Permalink to this heading"></a></h3>
<p>The MCPWM operator is able to sense external signals with information about the failure of the motor, the power driver or any other device connected. These failure signals are encapsulated into MCPWM fault objects.</p>
<p>You should determine possible failure modes of the motor and what action should be performed on detection of a particular fault, e.g., drive all outputs low for a brushed motor, lock current state for a stepper motor, etc. Because of this action, the motor should be put into a safe state to reduce the likelihood of damage caused by the fault.</p>
<section id="set-operator-brake-mode-on-fault">
<h4>Set Operator Brake Mode on Fault<a class="headerlink" href="#set-operator-brake-mode-on-fault" title="Permalink to this heading"></a></h4>
<p>The way that MCPWM operator reacts to the fault is called <strong>Brake</strong>. The MCPWM operator can be configured to perform different brake modes for each fault object by calling <a class="reference internal" href="#_CPPv433mcpwm_operator_set_brake_on_fault19mcpwm_oper_handle_tPK20mcpwm_brake_config_t" title="mcpwm_operator_set_brake_on_fault"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_operator_set_brake_on_fault()</span></code></a>. Specific brake configuration is passed as a structure <a class="reference internal" href="#_CPPv420mcpwm_brake_config_t" title="mcpwm_brake_config_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">mcpwm_brake_config_t</span></code></a>:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#_CPPv4N20mcpwm_brake_config_t5faultE" title="mcpwm_brake_config_t::fault"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_brake_config_t::fault</span></code></a> sets which fault the operator should react to.</p></li>
<li><p><a class="reference internal" href="#_CPPv4N20mcpwm_brake_config_t10brake_modeE" title="mcpwm_brake_config_t::brake_mode"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_brake_config_t::brake_mode</span></code></a> sets the brake mode that should be used for the fault. The supported brake modes are listed in the <a class="reference internal" href="#_CPPv427mcpwm_operator_brake_mode_t" title="mcpwm_operator_brake_mode_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">mcpwm_operator_brake_mode_t</span></code></a>. For <a class="reference internal" href="#_CPPv4N27mcpwm_operator_brake_mode_t25MCPWM_OPER_BRAKE_MODE_CBCE" title="MCPWM_OPER_BRAKE_MODE_CBC"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">MCPWM_OPER_BRAKE_MODE_CBC</span></code></a> mode, the operator recovers itself automatically as long as the fault disappears. You can specify the recovery time in <a class="reference internal" href="#_CPPv4N20mcpwm_brake_config_t18cbc_recover_on_tezE" title="mcpwm_brake_config_t::cbc_recover_on_tez"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_brake_config_t::cbc_recover_on_tez</span></code></a> and <a class="reference internal" href="#_CPPv4N20mcpwm_brake_config_t18cbc_recover_on_tepE" title="mcpwm_brake_config_t::cbc_recover_on_tep"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_brake_config_t::cbc_recover_on_tep</span></code></a>. For <a class="reference internal" href="#_CPPv4N27mcpwm_operator_brake_mode_t25MCPWM_OPER_BRAKE_MODE_OSTE" title="MCPWM_OPER_BRAKE_MODE_OST"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">MCPWM_OPER_BRAKE_MODE_OST</span></code></a> mode, the operator can not recover even though the fault disappears. You have to call <a class="reference internal" href="#_CPPv433mcpwm_operator_recover_from_fault19mcpwm_oper_handle_t20mcpwm_fault_handle_t" title="mcpwm_operator_recover_from_fault"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_operator_recover_from_fault()</span></code></a> to manually recover it.</p></li>
</ul>
</section>
<section id="set-generator-action-on-brake-event">
<h4>Set Generator Action on Brake Event<a class="headerlink" href="#set-generator-action-on-brake-event" title="Permalink to this heading"></a></h4>
<p>One generator can set multiple actions on different brake events, by calling <a class="reference internal" href="#_CPPv442mcpwm_generator_set_actions_on_brake_event18mcpwm_gen_handle_t30mcpwm_gen_brake_event_action_tz" title="mcpwm_generator_set_actions_on_brake_event"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_generator_set_actions_on_brake_event()</span></code></a> with a variable number of action configurations. The action configuration is defined in <a class="reference internal" href="#_CPPv430mcpwm_gen_brake_event_action_t" title="mcpwm_gen_brake_event_action_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">mcpwm_gen_brake_event_action_t</span></code></a>:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#_CPPv4N30mcpwm_gen_brake_event_action_t9directionE" title="mcpwm_gen_brake_event_action_t::direction"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_gen_brake_event_action_t::direction</span></code></a> specifies the timer direction. The supported directions are listed in <a class="reference internal" href="#_CPPv423mcpwm_timer_direction_t" title="mcpwm_timer_direction_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">mcpwm_timer_direction_t</span></code></a>.</p></li>
<li><p><a class="reference internal" href="#_CPPv4N30mcpwm_gen_brake_event_action_t10brake_modeE" title="mcpwm_gen_brake_event_action_t::brake_mode"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_gen_brake_event_action_t::brake_mode</span></code></a> specifies the brake mode. The supported brake modes are listed in the <a class="reference internal" href="#_CPPv427mcpwm_operator_brake_mode_t" title="mcpwm_operator_brake_mode_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">mcpwm_operator_brake_mode_t</span></code></a>.</p></li>
<li><p><a class="reference internal" href="#_CPPv4N30mcpwm_gen_brake_event_action_t6actionE" title="mcpwm_gen_brake_event_action_t::action"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_gen_brake_event_action_t::action</span></code></a> specifies the generator action to be taken. The supported actions are listed in <a class="reference internal" href="#_CPPv424mcpwm_generator_action_t" title="mcpwm_generator_action_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">mcpwm_generator_action_t</span></code></a>.</p></li>
</ul>
<p>There is a helper macro <a class="reference internal" href="#c.MCPWM_GEN_BRAKE_EVENT_ACTION" title="MCPWM_GEN_BRAKE_EVENT_ACTION"><code class="xref c c-macro docutils literal notranslate"><span class="pre">MCPWM_GEN_BRAKE_EVENT_ACTION</span></code></a> to simplify the construction of a brake event action entry.</p>
<p>Please note, the argument list of <a class="reference internal" href="#_CPPv442mcpwm_generator_set_actions_on_brake_event18mcpwm_gen_handle_t30mcpwm_gen_brake_event_action_tz" title="mcpwm_generator_set_actions_on_brake_event"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_generator_set_actions_on_brake_event()</span></code></a> <strong>must</strong> be terminated by <a class="reference internal" href="#c.MCPWM_GEN_BRAKE_EVENT_ACTION_END" title="MCPWM_GEN_BRAKE_EVENT_ACTION_END"><code class="xref c c-macro docutils literal notranslate"><span class="pre">MCPWM_GEN_BRAKE_EVENT_ACTION_END</span></code></a>.</p>
<p>You can also set the brake action one by one by calling <a class="reference internal" href="#_CPPv441mcpwm_generator_set_action_on_brake_event18mcpwm_gen_handle_t30mcpwm_gen_brake_event_action_t" title="mcpwm_generator_set_action_on_brake_event"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_generator_set_action_on_brake_event()</span></code></a> without varargs.</p>
</section>
<section id="register-fault-event-callbacks">
<h4>Register Fault Event Callbacks<a class="headerlink" href="#register-fault-event-callbacks" title="Permalink to this heading"></a></h4>
<p>The MCPWM fault detector can inform you when it detects a valid fault or a fault signal disappears. If you have some function that should be called when such an event happens, you should hook your function to the interrupt service routine by calling <a class="reference internal" href="#_CPPv436mcpwm_fault_register_event_callbacks20mcpwm_fault_handle_tPK29mcpwm_fault_event_callbacks_tPv" title="mcpwm_fault_register_event_callbacks"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_fault_register_event_callbacks()</span></code></a>. The callback function prototype is declared in <a class="reference internal" href="#_CPPv422mcpwm_fault_event_cb_t" title="mcpwm_fault_event_cb_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">mcpwm_fault_event_cb_t</span></code></a>. All supported event callbacks are listed in the <a class="reference internal" href="#_CPPv429mcpwm_fault_event_callbacks_t" title="mcpwm_fault_event_callbacks_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">mcpwm_fault_event_callbacks_t</span></code></a>:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#_CPPv4N29mcpwm_fault_event_callbacks_t14on_fault_enterE" title="mcpwm_fault_event_callbacks_t::on_fault_enter"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_fault_event_callbacks_t::on_fault_enter</span></code></a> sets the callback function that will be called when a fault is detected.</p></li>
<li><p><a class="reference internal" href="#_CPPv4N29mcpwm_fault_event_callbacks_t13on_fault_exitE" title="mcpwm_fault_event_callbacks_t::on_fault_exit"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_fault_event_callbacks_t::on_fault_exit</span></code></a> sets the callback function that will be called when a fault is cleared.</p></li>
</ul>
<p>The callback function is called within the ISR context, so it should <strong>not</strong> attempt to block. For example, you may make sure that only FreeRTOS APIs with the <code class="docutils literal notranslate"><span class="pre">ISR</span></code> suffix are called within the function.</p>
<p>The parameter <code class="docutils literal notranslate"><span class="pre">user_data</span></code> of <a class="reference internal" href="#_CPPv436mcpwm_fault_register_event_callbacks20mcpwm_fault_handle_tPK29mcpwm_fault_event_callbacks_tPv" title="mcpwm_fault_register_event_callbacks"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_fault_register_event_callbacks()</span></code></a> function is used to save your own context. It is passed to the callback function directly.</p>
<p>This function will lazy the install interrupt service for the MCPWM fault, whereas the service can only be removed in <a class="reference internal" href="#_CPPv415mcpwm_del_fault20mcpwm_fault_handle_t" title="mcpwm_del_fault"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">mcpwm_del_fault</span></code></a>.</p>
</section>
<section id="register-brake-event-callbacks">
<h4>Register Brake Event Callbacks<a class="headerlink" href="#register-brake-event-callbacks" title="Permalink to this heading"></a></h4>
<p>The MCPWM operator can inform you when it is going to take a brake action. If you have some function that should be called when this event happens, you should hook your function to the interrupt service routine by calling <a class="reference internal" href="#_CPPv439mcpwm_operator_register_event_callbacks19mcpwm_oper_handle_tPK32mcpwm_operator_event_callbacks_tPv" title="mcpwm_operator_register_event_callbacks"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_operator_register_event_callbacks()</span></code></a>. The callback function prototype is declared in <a class="reference internal" href="#_CPPv422mcpwm_brake_event_cb_t" title="mcpwm_brake_event_cb_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">mcpwm_brake_event_cb_t</span></code></a>. All supported event callbacks are listed in the <a class="reference internal" href="#_CPPv432mcpwm_operator_event_callbacks_t" title="mcpwm_operator_event_callbacks_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">mcpwm_operator_event_callbacks_t</span></code></a>:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#_CPPv4N32mcpwm_operator_event_callbacks_t12on_brake_cbcE" title="mcpwm_operator_event_callbacks_t::on_brake_cbc"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_operator_event_callbacks_t::on_brake_cbc</span></code></a> sets the callback function that will be called when the operator is going to take a <strong>CBC</strong> action.</p></li>
<li><p><a class="reference internal" href="#_CPPv4N32mcpwm_operator_event_callbacks_t12on_brake_ostE" title="mcpwm_operator_event_callbacks_t::on_brake_ost"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_operator_event_callbacks_t::on_brake_ost</span></code></a> sets the callback function that will be called when the operator is going to take an <strong>OST</strong> action.</p></li>
</ul>
<p>The callback function is called within the ISR context, so it should <strong>not</strong> attempt to block. For example, you may make sure that only FreeRTOS APIs with the <code class="docutils literal notranslate"><span class="pre">ISR</span></code> suffix are called within the function.</p>
<p>The parameter <code class="docutils literal notranslate"><span class="pre">user_data</span></code> of the <a class="reference internal" href="#_CPPv439mcpwm_operator_register_event_callbacks19mcpwm_oper_handle_tPK32mcpwm_operator_event_callbacks_tPv" title="mcpwm_operator_register_event_callbacks"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_operator_register_event_callbacks()</span></code></a> function is used to save your own context. It will be passed to the callback function directly.</p>
<p>This function will lazy the install interrupt service for the MCPWM operator, whereas the service can only be removed in <a class="reference internal" href="#_CPPv418mcpwm_del_operator19mcpwm_oper_handle_t" title="mcpwm_del_operator"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">mcpwm_del_operator</span></code></a>.</p>
</section>
</section>
<section id="generator-force-actions">
<span id="mcpwm-generator-force-actions"></span><h3>Generator Force Actions<a class="headerlink" href="#generator-force-actions" title="Permalink to this heading"></a></h3>
<p>Software can override generator output level at runtime, by calling <a class="reference internal" href="#_CPPv431mcpwm_generator_set_force_level18mcpwm_gen_handle_tib" title="mcpwm_generator_set_force_level"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_generator_set_force_level()</span></code></a>. The software force level always has a higher priority than other event actions set in e.g., <a class="reference internal" href="#_CPPv442mcpwm_generator_set_actions_on_timer_event18mcpwm_gen_handle_t30mcpwm_gen_timer_event_action_tz" title="mcpwm_generator_set_actions_on_timer_event"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_generator_set_actions_on_timer_event()</span></code></a>.</p>
<ul class="simple">
<li><p>Set the <code class="docutils literal notranslate"><span class="pre">level</span></code> to -1 means to disable the force action, and the generator's output level will be controlled by the event actions again.</p></li>
<li><p>Set the <code class="docutils literal notranslate"><span class="pre">hold_on</span></code> to true, and the force output level will keep alive until it is removed by assigning <code class="docutils literal notranslate"><span class="pre">level</span></code> to -1.</p></li>
<li><p>Set the <code class="docutils literal notranslate"><span class="pre">hole_on</span></code> to false, the force output level will only be active for a short time, and any upcoming event can override it.</p></li>
</ul>
</section>
<section id="synchronization">
<span id="mcpwm-synchronization"></span><h3>Synchronization<a class="headerlink" href="#synchronization" title="Permalink to this heading"></a></h3>
<p>When a sync signal is taken by the MCPWM timer, the timer will be forced into a predefined <strong>phase</strong>, where the phase is determined by count value and count direction. You can set the sync phase by calling <a class="reference internal" href="#_CPPv429mcpwm_timer_set_phase_on_sync20mcpwm_timer_handle_tPK31mcpwm_timer_sync_phase_config_t" title="mcpwm_timer_set_phase_on_sync"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_timer_set_phase_on_sync()</span></code></a>. The sync phase configuration is defined in <a class="reference internal" href="#_CPPv431mcpwm_timer_sync_phase_config_t" title="mcpwm_timer_sync_phase_config_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">mcpwm_timer_sync_phase_config_t</span></code></a> structure:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#_CPPv4N31mcpwm_timer_sync_phase_config_t8sync_srcE" title="mcpwm_timer_sync_phase_config_t::sync_src"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_timer_sync_phase_config_t::sync_src</span></code></a> sets the sync signal source. See <a class="reference external" href="#mcpwm-sync-sources">MCPWM Sync Sources</a> for how to create a sync source object. Specifically, if this is set to <code class="docutils literal notranslate"><span class="pre">NULL</span></code>, the driver will disable the sync feature for the MCPWM timer.</p></li>
<li><p><a class="reference internal" href="#_CPPv4N31mcpwm_timer_sync_phase_config_t11count_valueE" title="mcpwm_timer_sync_phase_config_t::count_value"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_timer_sync_phase_config_t::count_value</span></code></a> sets the count value to load when the sync signal is taken.</p></li>
<li><p><a class="reference internal" href="#_CPPv4N31mcpwm_timer_sync_phase_config_t9directionE" title="mcpwm_timer_sync_phase_config_t::direction"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_timer_sync_phase_config_t::direction</span></code></a> sets the count direction when the sync signal is taken.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When the MCPWM timer is working in <a class="reference internal" href="#_CPPv4N24mcpwm_timer_count_mode_t30MCPWM_TIMER_COUNT_MODE_UP_DOWNE" title="MCPWM_TIMER_COUNT_MODE_UP_DOWN"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">MCPWM_TIMER_COUNT_MODE_UP_DOWN</span></code></a> mode, special attention needs to be taken. In this mode, counter range <code class="docutils literal notranslate"><span class="pre">[0</span> <span class="pre">-&gt;</span> <span class="pre">peak-1]</span></code> belongs to the <strong>increment</strong> phase, and counter range <code class="docutils literal notranslate"><span class="pre">[peak</span> <span class="pre">-&gt;</span> <span class="pre">1]</span></code> belongs to the <strong>decrement</strong> phase. Thus if you set the <a class="reference internal" href="#_CPPv4N31mcpwm_timer_sync_phase_config_t11count_valueE" title="mcpwm_timer_sync_phase_config_t::count_value"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_timer_sync_phase_config_t::count_value</span></code></a> to zero, you may also want to set the <a class="reference internal" href="#_CPPv4N31mcpwm_timer_sync_phase_config_t9directionE" title="mcpwm_timer_sync_phase_config_t::direction"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_timer_sync_phase_config_t::direction</span></code></a> to <a class="reference internal" href="#_CPPv4N23mcpwm_timer_direction_t24MCPWM_TIMER_DIRECTION_UPE" title="MCPWM_TIMER_DIRECTION_UP"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">MCPWM_TIMER_DIRECTION_UP</span></code></a>. Otherwise, the timer will be continue with the decrement phase, and the count value underflows to <code class="docutils literal notranslate"><span class="pre">peak</span></code>.</p>
</div>
<p>Likewise, the <a class="reference external" href="#mcpwm-capture-timer-and-channels">MCPWM Capture Timer</a> can be synced as well. You can set the sync phase for the capture timer by calling <a class="reference internal" href="#_CPPv437mcpwm_capture_timer_set_phase_on_sync24mcpwm_cap_timer_handle_tPK39mcpwm_capture_timer_sync_phase_config_t" title="mcpwm_capture_timer_set_phase_on_sync"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_capture_timer_set_phase_on_sync()</span></code></a>. The sync phase configuration is defined in <a class="reference internal" href="#_CPPv439mcpwm_capture_timer_sync_phase_config_t" title="mcpwm_capture_timer_sync_phase_config_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">mcpwm_capture_timer_sync_phase_config_t</span></code></a> structure:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#_CPPv4N39mcpwm_capture_timer_sync_phase_config_t8sync_srcE" title="mcpwm_capture_timer_sync_phase_config_t::sync_src"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_capture_timer_sync_phase_config_t::sync_src</span></code></a> sets the sync signal source. See <a class="reference external" href="#mcpwm-sync-sources">MCPWM Sync Sources</a> for how to create a sync source object. Specifically, if this is set to <code class="docutils literal notranslate"><span class="pre">NULL</span></code>, the driver will disable the sync feature for the MCPWM capture timer.</p></li>
<li><p><a class="reference internal" href="#_CPPv4N39mcpwm_capture_timer_sync_phase_config_t11count_valueE" title="mcpwm_capture_timer_sync_phase_config_t::count_value"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_capture_timer_sync_phase_config_t::count_value</span></code></a> sets the count value to load when the sync signal is taken.</p></li>
<li><p><a class="reference internal" href="#_CPPv4N39mcpwm_capture_timer_sync_phase_config_t9directionE" title="mcpwm_capture_timer_sync_phase_config_t::direction"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_capture_timer_sync_phase_config_t::direction</span></code></a> sets the count direction when the sync signal is taken. Note that, different from MCPWM Timer, the capture timer can only support one count direction: <a class="reference internal" href="#_CPPv4N23mcpwm_timer_direction_t24MCPWM_TIMER_DIRECTION_UPE" title="MCPWM_TIMER_DIRECTION_UP"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">MCPWM_TIMER_DIRECTION_UP</span></code></a>.</p></li>
</ul>
<section id="sync-timers-by-gpio">
<h4>Sync Timers by GPIO<a class="headerlink" href="#sync-timers-by-gpio" title="Permalink to this heading"></a></h4>
<figure class="align-center" id="id39">
<div class="align-default"><img height="280" src="../../_images/blockdiag-18406a21dc0c52a26b024c35835493d53eb05ac6.png" width="448" /></div>
<figcaption>
<p><span class="caption-text">GPIO Sync All MCPWM Timers</span><a class="headerlink" href="#id39" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">example_setup_sync_strategy</span><span class="p">(</span><span class="n">mcpwm_timer_handle_t</span><span class="w"> </span><span class="n">timers</span><span class="p">[])</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">mcpwm_sync_handle_t</span><span class="w"> </span><span class="n">gpio_sync_source</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span>
<span class="w">    </span><span class="n">mcpwm_gpio_sync_src_config_t</span><span class="w"> </span><span class="n">gpio_sync_config</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="p">.</span><span class="n">group_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">              </span><span class="c1">// GPIO fault should be in the same group of the above timers</span>
<span class="w">        </span><span class="p">.</span><span class="n">gpio_num</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">EXAMPLE_SYNC_GPIO</span><span class="p">,</span>
<span class="w">        </span><span class="p">.</span><span class="n">flags</span><span class="p">.</span><span class="n">pull_down</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">,</span>
<span class="w">        </span><span class="p">.</span><span class="n">flags</span><span class="p">.</span><span class="n">active_neg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">,</span><span class="w">  </span><span class="c1">// By default, a posedge pulse can trigger a sync event</span>
<span class="w">    </span><span class="p">};</span>
<span class="w">    </span><span class="n">ESP_ERROR_CHECK</span><span class="p">(</span><span class="n">mcpwm_new_gpio_sync_src</span><span class="p">(</span><span class="o">&amp;</span><span class="n">gpio_sync_config</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">gpio_sync_source</span><span class="p">));</span>

<span class="w">    </span><span class="n">mcpwm_timer_sync_phase_config_t</span><span class="w"> </span><span class="n">sync_phase_config</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="p">.</span><span class="n">count_value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">                      </span><span class="c1">// sync phase: target count value</span>
<span class="w">        </span><span class="p">.</span><span class="n">direction</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MCPWM_TIMER_DIRECTION_UP</span><span class="p">,</span><span class="w"> </span><span class="c1">// sync phase: count direction</span>
<span class="w">        </span><span class="p">.</span><span class="n">sync_src</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">gpio_sync_source</span><span class="p">,</span><span class="w">          </span><span class="c1">// sync source</span>
<span class="w">    </span><span class="p">};</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">ESP_ERROR_CHECK</span><span class="p">(</span><span class="n">mcpwm_timer_set_phase_on_sync</span><span class="p">(</span><span class="n">timers</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="w"> </span><span class="o">&amp;</span><span class="n">sync_phase_config</span><span class="p">));</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
</section>
<section id="capture">
<span id="mcpwm-capture"></span><h3>Capture<a class="headerlink" href="#capture" title="Permalink to this heading"></a></h3>
<p>The basic functionality of MCPWM capture is to record the time when any pulse edge of the capture signal turns active. Then you can get the pulse width and convert it into other physical quantities like distance or speed in the capture callback function. For example, in the BLDC (Brushless DC, see figure below) scenario, you can use the capture submodule to sense the rotor position from the Hall sensor.</p>
<figure class="align-center" id="id40">
<img alt="MCPWM BLDC with Hall Sensor" src="../../_images/mcpwm-bldc-control.png" />
<figcaption>
<p><span class="caption-text">MCPWM BLDC with Hall Sensor</span><a class="headerlink" href="#id40" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>The capture timer is usually connected to several capture channels. Please refer to <a class="reference external" href="#mcpwm-capture-timer-and-channels">MCPWM Capture Timer and Channels</a> for more information about resource allocation.</p>
<section id="register-capture-event-callbacks">
<h4>Register Capture Event Callbacks<a class="headerlink" href="#register-capture-event-callbacks" title="Permalink to this heading"></a></h4>
<p>The MCPWM capture channel can inform you when there is a valid edge detected on the signal. You have to register a callback function to get the timer count value of the captured moment, by calling <a class="reference internal" href="#_CPPv446mcpwm_capture_channel_register_event_callbacks26mcpwm_cap_channel_handle_tPK31mcpwm_capture_event_callbacks_tPv" title="mcpwm_capture_channel_register_event_callbacks"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_capture_channel_register_event_callbacks()</span></code></a>. The callback function prototype is declared in <a class="reference internal" href="#_CPPv424mcpwm_capture_event_cb_t" title="mcpwm_capture_event_cb_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">mcpwm_capture_event_cb_t</span></code></a>. All supported capture callbacks are listed in the <a class="reference internal" href="#_CPPv431mcpwm_capture_event_callbacks_t" title="mcpwm_capture_event_callbacks_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">mcpwm_capture_event_callbacks_t</span></code></a>:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#_CPPv4N31mcpwm_capture_event_callbacks_t6on_capE" title="mcpwm_capture_event_callbacks_t::on_cap"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_capture_event_callbacks_t::on_cap</span></code></a> sets the callback function for the capture channel when a valid edge is detected.</p></li>
</ul>
<p>The callback function provides event-specific data of type <a class="reference internal" href="#_CPPv426mcpwm_capture_event_data_t" title="mcpwm_capture_event_data_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">mcpwm_capture_event_data_t</span></code></a>, so that you can get the edge of the capture signal in <a class="reference internal" href="#_CPPv4N26mcpwm_capture_event_data_t8cap_edgeE" title="mcpwm_capture_event_data_t::cap_edge"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_capture_event_data_t::cap_edge</span></code></a> and the count value of that moment in <a class="reference internal" href="#_CPPv4N26mcpwm_capture_event_data_t9cap_valueE" title="mcpwm_capture_event_data_t::cap_value"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">mcpwm_capture_event_data_t::cap_value</span></code></a>. To convert the capture count into a timestamp, you need to know the resolution of the capture timer by calling <a class="reference internal" href="#_CPPv434mcpwm_capture_timer_get_resolution24mcpwm_cap_timer_handle_tP8uint32_t" title="mcpwm_capture_timer_get_resolution"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_capture_timer_get_resolution()</span></code></a>.</p>
<p>The callback function is called within the ISR context, so it should <strong>not</strong> attempt to block. For example, you may make sure that only FreeRTOS APIs with the <code class="docutils literal notranslate"><span class="pre">ISR</span></code> suffix are called within the function.</p>
<p>The parameter <code class="docutils literal notranslate"><span class="pre">user_data</span></code> of <a class="reference internal" href="#_CPPv446mcpwm_capture_channel_register_event_callbacks26mcpwm_cap_channel_handle_tPK31mcpwm_capture_event_callbacks_tPv" title="mcpwm_capture_channel_register_event_callbacks"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_capture_channel_register_event_callbacks()</span></code></a> function is used to save your context. It is passed to the callback function directly.</p>
<p>This function will lazy install interrupt service for the MCPWM capture channel, whereas the service can only be removed in <a class="reference internal" href="#_CPPv425mcpwm_del_capture_channel26mcpwm_cap_channel_handle_t" title="mcpwm_del_capture_channel"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">mcpwm_del_capture_channel</span></code></a>.</p>
</section>
<section id="enable-and-disable-capture-channel">
<h4>Enable and Disable Capture Channel<a class="headerlink" href="#enable-and-disable-capture-channel" title="Permalink to this heading"></a></h4>
<p>The capture channel is not enabled after allocation by <a class="reference internal" href="#_CPPv425mcpwm_new_capture_channel24mcpwm_cap_timer_handle_tPK30mcpwm_capture_channel_config_tP26mcpwm_cap_channel_handle_t" title="mcpwm_new_capture_channel"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_new_capture_channel()</span></code></a>. You should call <a class="reference internal" href="#_CPPv428mcpwm_capture_channel_enable26mcpwm_cap_channel_handle_t" title="mcpwm_capture_channel_enable"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_capture_channel_enable()</span></code></a> and <a class="reference internal" href="#_CPPv429mcpwm_capture_channel_disable26mcpwm_cap_channel_handle_t" title="mcpwm_capture_channel_disable"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_capture_channel_disable()</span></code></a> accordingly to enable or disable the channel. If the interrupt service is lazy installed during registering event callbacks for the channel in <a class="reference internal" href="#_CPPv446mcpwm_capture_channel_register_event_callbacks26mcpwm_cap_channel_handle_tPK31mcpwm_capture_event_callbacks_tPv" title="mcpwm_capture_channel_register_event_callbacks"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_capture_channel_register_event_callbacks()</span></code></a>, <a class="reference internal" href="#_CPPv428mcpwm_capture_channel_enable26mcpwm_cap_channel_handle_t" title="mcpwm_capture_channel_enable"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_capture_channel_enable()</span></code></a> will enable the interrupt service as well.</p>
</section>
<section id="enable-and-disable-capture-timer">
<h4>Enable and Disable Capture Timer<a class="headerlink" href="#enable-and-disable-capture-timer" title="Permalink to this heading"></a></h4>
<p>Before doing IO control to the capture timer, you need to enable the timer first, by calling <a class="reference internal" href="#_CPPv426mcpwm_capture_timer_enable24mcpwm_cap_timer_handle_t" title="mcpwm_capture_timer_enable"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_capture_timer_enable()</span></code></a>. Internally, this function:</p>
<ul class="simple">
<li><p>switches the capture timer state from <strong>init</strong> to <strong>enable</strong>.</p></li>
<li><p>acquires a proper power management lock if a specific clock source (e.g., APB clock) is selected. See also <a class="reference external" href="#power-management">Power management</a> for more information.</p></li>
</ul>
<p>On the contrary, calling <a class="reference internal" href="#_CPPv427mcpwm_capture_timer_disable24mcpwm_cap_timer_handle_t" title="mcpwm_capture_timer_disable"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_capture_timer_disable()</span></code></a> will put the timer driver back to <strong>init</strong> state, and release the power management lock.</p>
</section>
<section id="start-and-stop-capture-timer">
<h4>Start and Stop Capture Timer<a class="headerlink" href="#start-and-stop-capture-timer" title="Permalink to this heading"></a></h4>
<p>The basic IO operation of a capture timer is to start and stop. Calling <a class="reference internal" href="#_CPPv425mcpwm_capture_timer_start24mcpwm_cap_timer_handle_t" title="mcpwm_capture_timer_start"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_capture_timer_start()</span></code></a> can start the timer and calling <a class="reference internal" href="#_CPPv424mcpwm_capture_timer_stop24mcpwm_cap_timer_handle_t" title="mcpwm_capture_timer_stop"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_capture_timer_stop()</span></code></a> can stop the timer immediately.</p>
</section>
<section id="trigger-a-software-capture-event">
<h4>Trigger a Software Capture Event<a class="headerlink" href="#trigger-a-software-capture-event" title="Permalink to this heading"></a></h4>
<p>Sometimes, the software also wants to trigger a &quot;fake&quot; capture event. The <a class="reference internal" href="#_CPPv440mcpwm_capture_channel_trigger_soft_catch26mcpwm_cap_channel_handle_t" title="mcpwm_capture_channel_trigger_soft_catch"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_capture_channel_trigger_soft_catch()</span></code></a> is provided for that purpose. Please note that, even though it is a &quot;fake&quot; capture event, it can still cause an interrupt, thus your capture event callback function gets invoked as well.</p>
</section>
</section>
<section id="power-management">
<span id="mcpwm-power-management"></span><h3>Power Management<a class="headerlink" href="#power-management" title="Permalink to this heading"></a></h3>
<p>When power management is enabled (i.e., <a class="reference internal" href="../kconfig.html#config-pm-enable"><span class="std std-ref">CONFIG_PM_ENABLE</span></a> is on), the system will adjust the PLL and APB frequency before going into Light-sleep, thus potentially changing the period of an MCPWM timers' counting step and leading to inaccurate time-keeping.</p>
<p>However, the driver can prevent the system from going into Light-sleep by acquiring a power management lock of type <a class="reference internal" href="../system/power_management.html#_CPPv4N18esp_pm_lock_type_t21ESP_PM_NO_LIGHT_SLEEPE" title="ESP_PM_NO_LIGHT_SLEEP"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">ESP_PM_NO_LIGHT_SLEEP</span></code></a>. Whenever the driver creates an MCPWM timer instance that has selected PLL as its clock source, the driver guarantees that the power management lock is acquired when enabling the timer by <a class="reference internal" href="#_CPPv418mcpwm_timer_enable20mcpwm_timer_handle_t" title="mcpwm_timer_enable"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_timer_enable()</span></code></a>. On the contrary, the driver releases the lock when <a class="reference internal" href="#_CPPv419mcpwm_timer_disable20mcpwm_timer_handle_t" title="mcpwm_timer_disable"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_timer_disable()</span></code></a> is called for that timer.</p>
<p>Likewise, whenever the driver creates an MCPWM capture timer instance, the driver guarantees that the power management lock is acquired when enabling the timer by <a class="reference internal" href="#_CPPv426mcpwm_capture_timer_enable24mcpwm_cap_timer_handle_t" title="mcpwm_capture_timer_enable"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_capture_timer_enable()</span></code></a>. And releases the lock in  <a class="reference internal" href="#_CPPv427mcpwm_capture_timer_disable24mcpwm_cap_timer_handle_t" title="mcpwm_capture_timer_disable"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_capture_timer_disable()</span></code></a>.</p>
</section>
<section id="iram-safe">
<span id="mcpwm-iram-safe"></span><h3>IRAM Safe<a class="headerlink" href="#iram-safe" title="Permalink to this heading"></a></h3>
<p>By default, the MCPWM interrupt will be deferred when the Cache is disabled for reasons like writing/erasing Flash. Thus the event callback functions will not get executed in time, which is not expected in a real-time application.</p>
<p>There is a Kconfig option <a class="reference internal" href="../kconfig.html#config-mcpwm-isr-iram-safe"><span class="std std-ref">CONFIG_MCPWM_ISR_IRAM_SAFE</span></a> that:</p>
<ul class="simple">
<li><p>enables the interrupt to be serviced even when the cache is disabled</p></li>
<li><p>places all functions used by the ISR into IRAM <a class="footnote-reference brackets" href="#id37" id="id10" role="doc-noteref"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></a></p></li>
<li><p>places the driver object into DRAM (in case it is mapped to PSRAM by accident)</p></li>
</ul>
<p>This allows the interrupt to run while the cache is disabled but comes at the cost of increased IRAM consumption.</p>
<p>There is another Kconfig option <a class="reference internal" href="../kconfig.html#config-mcpwm-ctrl-func-in-iram"><span class="std std-ref">CONFIG_MCPWM_CTRL_FUNC_IN_IRAM</span></a> that can put commonly used IO control functions into IRAM as well. So, these functions can also be executable when the cache is disabled. The IO control function is as follows:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#_CPPv434mcpwm_comparator_set_compare_value19mcpwm_cmpr_handle_t8uint32_t" title="mcpwm_comparator_set_compare_value"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_comparator_set_compare_value()</span></code></a></p></li>
<li><p><a class="reference internal" href="#_CPPv422mcpwm_timer_set_period20mcpwm_timer_handle_t8uint32_t" title="mcpwm_timer_set_period"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_timer_set_period()</span></code></a></p></li>
</ul>
</section>
<section id="thread-safety">
<span id="mcpwm-thread-safety"></span><h3>Thread Safety<a class="headerlink" href="#thread-safety" title="Permalink to this heading"></a></h3>
<p>The factory functions like <a class="reference internal" href="#_CPPv415mcpwm_new_timerPK20mcpwm_timer_config_tP20mcpwm_timer_handle_t" title="mcpwm_new_timer"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_new_timer()</span></code></a> are guaranteed to be thread-safe by the driver, which means, you can call it from different RTOS tasks without protection by extra locks.</p>
<p>The following function is allowed to run under the ISR context, as the driver uses a critical section to prevent them from being called concurrently in the task and ISR.</p>
<ul class="simple">
<li><p><a class="reference internal" href="#_CPPv434mcpwm_comparator_set_compare_value19mcpwm_cmpr_handle_t8uint32_t" title="mcpwm_comparator_set_compare_value"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_comparator_set_compare_value()</span></code></a></p></li>
<li><p><a class="reference internal" href="#_CPPv422mcpwm_timer_set_period20mcpwm_timer_handle_t8uint32_t" title="mcpwm_timer_set_period"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_timer_set_period()</span></code></a></p></li>
</ul>
<p>Other functions that are not related to <a class="reference external" href="#resource-allocation-and-initialization">Resource Allocation and Initialization</a>, are not thread-safe. Thus, you should avoid calling them in different tasks without mutex protection.</p>
</section>
<section id="kconfig-options">
<span id="mcpwm-kconfig-options"></span><h3>Kconfig Options<a class="headerlink" href="#kconfig-options" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p><a class="reference internal" href="../kconfig.html#config-mcpwm-isr-iram-safe"><span class="std std-ref">CONFIG_MCPWM_ISR_IRAM_SAFE</span></a> controls whether the default ISR handler can work when the cache is disabled, see <a class="reference internal" href="#mcpwm-iram-safe"><span class="std std-ref">IRAM Safe</span></a> for more information.</p></li>
<li><p><a class="reference internal" href="../kconfig.html#config-mcpwm-ctrl-func-in-iram"><span class="std std-ref">CONFIG_MCPWM_CTRL_FUNC_IN_IRAM</span></a> controls where to place the MCPWM control functions (IRAM or flash), see <a class="reference internal" href="#mcpwm-iram-safe"><span class="std std-ref">IRAM Safe</span></a> for more information.</p></li>
<li><p><a class="reference internal" href="../kconfig.html#config-mcpwm-enable-debug-log"><span class="std std-ref">CONFIG_MCPWM_ENABLE_DEBUG_LOG</span></a> is used to enable the debug log output. Enabling this option will increase the firmware binary size.</p></li>
</ul>
</section>
</section>
<section id="application-examples">
<h2>Application Examples<a class="headerlink" href="#application-examples" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/espressif/esp-idf/tree/v5.4.2/examples/peripherals/mcpwm/mcpwm_bdc_speed_control">peripherals/mcpwm/mcpwm_bdc_speed_control</a> demonstrates how to drive a brushed DC motor using two specific PWM signals, measure the motor speed with a photoelectric encoder, and maintain a stable motor speed using a simple PID algorithm.</p></li>
<li><p><a class="reference external" href="https://github.com/espressif/esp-idf/tree/v5.4.2/examples/peripherals/mcpwm/mcpwm_bldc_hall_control">peripherals/mcpwm/mcpwm_bldc_hall_control</a> demonstrates how to use the MCPWM peripheral to control a BLDC motor using a six-step commutation scheme, with the motor's spin direction and speed being adjusted based on the readings from a Hall sensor.</p></li>
<li><p><a class="reference external" href="https://github.com/espressif/esp-idf/tree/v5.4.2/examples/peripherals/mcpwm/mcpwm_capture_hc_sr04">peripherals/mcpwm/mcpwm_capture_hc_sr04</a> demonstrates how to use the MCPWM peripheral's capture module to decode the pulse width signals from an HC-SR04 sonar sensor, which can measure distance based on the width of the pulse.</p></li>
<li><p><a class="reference external" href="https://github.com/espressif/esp-idf/tree/v5.4.2/examples/peripherals/mcpwm/mcpwm_foc_svpwm_open_loop">peripherals/mcpwm/mcpwm_foc_svpwm_open_loop</a> demonstrates how to use the MCPWM peripheral to generate three pairs of PWM signals for Field-Oriented Control (FOC), which can be used to drive a BLDC or PMSM motor, or a three-phase power inverter, using an open-loop FOC algorithm.</p></li>
<li><p><a class="reference external" href="https://github.com/espressif/esp-idf/tree/v5.4.2/examples/peripherals/mcpwm/mcpwm_servo_control">peripherals/mcpwm/mcpwm_servo_control</a> demonstrates how to control a typical RC Servo by sending a PWM signal using the MCPWM driver, with the servo rotating from -60° to 60° and then turning back again.</p></li>
<li><p><a class="reference external" href="https://github.com/espressif/esp-idf/tree/v5.4.2/examples/peripherals/mcpwm/mcpwm_sync">peripherals/mcpwm/mcpwm_sync</a> demonstrates how to generate three PWMs in perfect synchronization using MCPWM timers, with options to synchronize the timers via GPIO, Timer TEZ, or software.</p></li>
</ul>
</section>
<section id="api-reference">
<h2>API Reference<a class="headerlink" href="#api-reference" title="Permalink to this heading"></a></h2>
<section id="header-file">
<h3>Header File<a class="headerlink" href="#header-file" title="Permalink to this heading"></a></h3>
<ul>
<li><p><a class="reference external" href="https://github.com/espressif/esp-idf/blob/v5.4.2/components/esp_driver_mcpwm/include/driver/mcpwm_timer.h">components/esp_driver_mcpwm/include/driver/mcpwm_timer.h</a></p></li>
<li><p>This header file can be included with:</p>
<blockquote>
<div><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;driver/mcpwm_timer.h&quot;</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>This header file is a part of the API provided by the <code class="docutils literal notranslate"><span class="pre">esp_driver_mcpwm</span></code> component. To declare that your component depends on <code class="docutils literal notranslate"><span class="pre">esp_driver_mcpwm</span></code>, add the following to your CMakeLists.txt:</p>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>REQUIRES esp_driver_mcpwm
</pre></div>
</div>
<p>or</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>PRIV_REQUIRES esp_driver_mcpwm
</pre></div>
</div>
</div></blockquote>
</li>
</ul>
</section>
<section id="functions">
<h3>Functions<a class="headerlink" href="#functions" title="Permalink to this heading"></a></h3>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv415mcpwm_new_timerPK20mcpwm_timer_config_tP20mcpwm_timer_handle_t">
<span id="_CPPv315mcpwm_new_timerPK20mcpwm_timer_config_tP20mcpwm_timer_handle_t"></span><span id="_CPPv215mcpwm_new_timerPK20mcpwm_timer_config_tP20mcpwm_timer_handle_t"></span><span id="mcpwm_new_timer__mcpwm_timer_config_tCP.mcpwm_timer_handle_tP"></span><span class="target" id="mcpwm__timer_8h_1a231ba81841b628d5b876a6a6745fbcbf"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_new_timer</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv420mcpwm_timer_config_t" title="mcpwm_timer_config_t"><span class="n"><span class="pre">mcpwm_timer_config_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">config</span></span>, <a class="reference internal" href="#_CPPv420mcpwm_timer_handle_t" title="mcpwm_timer_handle_t"><span class="n"><span class="pre">mcpwm_timer_handle_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ret_timer</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv415mcpwm_new_timerPK20mcpwm_timer_config_tP20mcpwm_timer_handle_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Create MCPWM timer. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>config</strong> -- <strong>[in]</strong> MCPWM timer configuration </p></li>
<li><p><strong>ret_timer</strong> -- <strong>[out]</strong> Returned MCPWM timer handle </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK: Create MCPWM timer successfully</p></li>
<li><p>ESP_ERR_INVALID_ARG: Create MCPWM timer failed because of invalid argument</p></li>
<li><p>ESP_ERR_NO_MEM: Create MCPWM timer failed because out of memory</p></li>
<li><p>ESP_ERR_NOT_FOUND: Create MCPWM timer failed because all hardware timers are used up and no more free one</p></li>
<li><p>ESP_FAIL: Create MCPWM timer failed because of other error </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv415mcpwm_del_timer20mcpwm_timer_handle_t">
<span id="_CPPv315mcpwm_del_timer20mcpwm_timer_handle_t"></span><span id="_CPPv215mcpwm_del_timer20mcpwm_timer_handle_t"></span><span id="mcpwm_del_timer__mcpwm_timer_handle_t"></span><span class="target" id="mcpwm__timer_8h_1a6533969d49fe1fd2a17c88bbc6d3d89a"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_del_timer</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv420mcpwm_timer_handle_t" title="mcpwm_timer_handle_t"><span class="n"><span class="pre">mcpwm_timer_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">timer</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv415mcpwm_del_timer20mcpwm_timer_handle_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Delete MCPWM timer. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>timer</strong> -- <strong>[in]</strong> MCPWM timer handle, allocated by <code class="docutils literal notranslate"><span class="pre">mcpwm_new_timer()</span></code></p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK: Delete MCPWM timer successfully</p></li>
<li><p>ESP_ERR_INVALID_ARG: Delete MCPWM timer failed because of invalid argument</p></li>
<li><p>ESP_ERR_INVALID_STATE: Delete MCPWM timer failed because timer is not in init state</p></li>
<li><p>ESP_FAIL: Delete MCPWM timer failed because of other error </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv422mcpwm_timer_set_period20mcpwm_timer_handle_t8uint32_t">
<span id="_CPPv322mcpwm_timer_set_period20mcpwm_timer_handle_t8uint32_t"></span><span id="_CPPv222mcpwm_timer_set_period20mcpwm_timer_handle_t8uint32_t"></span><span id="mcpwm_timer_set_period__mcpwm_timer_handle_t.uint32_t"></span><span class="target" id="mcpwm__timer_8h_1a23da587d90bf3e6d964dab10ed00db10"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_timer_set_period</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv420mcpwm_timer_handle_t" title="mcpwm_timer_handle_t"><span class="n"><span class="pre">mcpwm_timer_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">timer</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">period_ticks</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv422mcpwm_timer_set_period20mcpwm_timer_handle_t8uint32_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Set a new period for MCPWM timer. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If <code class="docutils literal notranslate"><a class="reference internal" href="#structmcpwm__timer__config__t_1a98ba8b22dac0595768f9f4eba1640c3a"><span class="std std-ref"><span class="pre">mcpwm_timer_config_t::update_period_on_empty</span></span></a></code> and <code class="docutils literal notranslate"><a class="reference internal" href="#structmcpwm__timer__config__t_1a5acee3d4a1095b6f46765d4b23bb313f"><span class="std std-ref"><span class="pre">mcpwm_timer_config_t::update_period_on_sync</span></span></a></code> are not set, the new period will take effect immediately. Otherwise, the new period will take effect when timer counts to zero or on sync event. </p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You may need to use <code class="docutils literal notranslate"><span class="pre">mcpwm_comparator_set_compare_value</span></code> to set a new compare value for MCPWM comparator in order to keep the same PWM duty cycle.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>timer</strong> -- <strong>[in]</strong> MCPWM timer handle, allocated by <code class="docutils literal notranslate"><span class="pre">mcpwm_new_timer</span></code></p></li>
<li><p><strong>period_ticks</strong> -- <strong>[in]</strong> New period in count ticks </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK: Set new period for MCPWM timer successfully</p></li>
<li><p>ESP_ERR_INVALID_ARG: Set new period for MCPWM timer failed because of invalid argument</p></li>
<li><p>ESP_FAIL: Set new period for MCPWM timer failed because of other error </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv418mcpwm_timer_enable20mcpwm_timer_handle_t">
<span id="_CPPv318mcpwm_timer_enable20mcpwm_timer_handle_t"></span><span id="_CPPv218mcpwm_timer_enable20mcpwm_timer_handle_t"></span><span id="mcpwm_timer_enable__mcpwm_timer_handle_t"></span><span class="target" id="mcpwm__timer_8h_1a22bd3298aa2ca7c07644439ab185098a"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_timer_enable</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv420mcpwm_timer_handle_t" title="mcpwm_timer_handle_t"><span class="n"><span class="pre">mcpwm_timer_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">timer</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv418mcpwm_timer_enable20mcpwm_timer_handle_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Enable MCPWM timer. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>timer</strong> -- <strong>[in]</strong> MCPWM timer handle, allocated by <code class="docutils literal notranslate"><span class="pre">mcpwm_new_timer()</span></code></p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK: Enable MCPWM timer successfully</p></li>
<li><p>ESP_ERR_INVALID_ARG: Enable MCPWM timer failed because of invalid argument</p></li>
<li><p>ESP_ERR_INVALID_STATE: Enable MCPWM timer failed because timer is enabled already</p></li>
<li><p>ESP_FAIL: Enable MCPWM timer failed because of other error </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv419mcpwm_timer_disable20mcpwm_timer_handle_t">
<span id="_CPPv319mcpwm_timer_disable20mcpwm_timer_handle_t"></span><span id="_CPPv219mcpwm_timer_disable20mcpwm_timer_handle_t"></span><span id="mcpwm_timer_disable__mcpwm_timer_handle_t"></span><span class="target" id="mcpwm__timer_8h_1ad5727bbe155df0c0446034d64ef716f1"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_timer_disable</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv420mcpwm_timer_handle_t" title="mcpwm_timer_handle_t"><span class="n"><span class="pre">mcpwm_timer_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">timer</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv419mcpwm_timer_disable20mcpwm_timer_handle_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Disable MCPWM timer. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>timer</strong> -- <strong>[in]</strong> MCPWM timer handle, allocated by <code class="docutils literal notranslate"><span class="pre">mcpwm_new_timer()</span></code></p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK: Disable MCPWM timer successfully</p></li>
<li><p>ESP_ERR_INVALID_ARG: Disable MCPWM timer failed because of invalid argument</p></li>
<li><p>ESP_ERR_INVALID_STATE: Disable MCPWM timer failed because timer is disabled already</p></li>
<li><p>ESP_FAIL: Disable MCPWM timer failed because of other error </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv422mcpwm_timer_start_stop20mcpwm_timer_handle_t28mcpwm_timer_start_stop_cmd_t">
<span id="_CPPv322mcpwm_timer_start_stop20mcpwm_timer_handle_t28mcpwm_timer_start_stop_cmd_t"></span><span id="_CPPv222mcpwm_timer_start_stop20mcpwm_timer_handle_t28mcpwm_timer_start_stop_cmd_t"></span><span id="mcpwm_timer_start_stop__mcpwm_timer_handle_t.mcpwm_timer_start_stop_cmd_t"></span><span class="target" id="mcpwm__timer_8h_1a12d0235b8dc547e17506d4b9e3269a8b"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_timer_start_stop</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv420mcpwm_timer_handle_t" title="mcpwm_timer_handle_t"><span class="n"><span class="pre">mcpwm_timer_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">timer</span></span>, <a class="reference internal" href="#_CPPv428mcpwm_timer_start_stop_cmd_t" title="mcpwm_timer_start_stop_cmd_t"><span class="n"><span class="pre">mcpwm_timer_start_stop_cmd_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">command</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv422mcpwm_timer_start_stop20mcpwm_timer_handle_t28mcpwm_timer_start_stop_cmd_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Send specific start/stop commands to MCPWM timer. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>timer</strong> -- <strong>[in]</strong> MCPWM timer handle, allocated by <code class="docutils literal notranslate"><span class="pre">mcpwm_new_timer()</span></code></p></li>
<li><p><strong>command</strong> -- <strong>[in]</strong> Supported command list for MCPWM timer </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK: Start or stop MCPWM timer successfully</p></li>
<li><p>ESP_ERR_INVALID_ARG: Start or stop MCPWM timer failed because of invalid argument</p></li>
<li><p>ESP_ERR_INVALID_STATE: Start or stop MCPWM timer failed because timer is not enabled</p></li>
<li><p>ESP_FAIL: Start or stop MCPWM timer failed because of other error </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv436mcpwm_timer_register_event_callbacks20mcpwm_timer_handle_tPK29mcpwm_timer_event_callbacks_tPv">
<span id="_CPPv336mcpwm_timer_register_event_callbacks20mcpwm_timer_handle_tPK29mcpwm_timer_event_callbacks_tPv"></span><span id="_CPPv236mcpwm_timer_register_event_callbacks20mcpwm_timer_handle_tPK29mcpwm_timer_event_callbacks_tPv"></span><span id="mcpwm_timer_register_event_callbacks__mcpwm_timer_handle_t.mcpwm_timer_event_callbacks_tCP.voidP"></span><span class="target" id="mcpwm__timer_8h_1a4dd6230e0a57eaa596be0ddfe926acac"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_timer_register_event_callbacks</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv420mcpwm_timer_handle_t" title="mcpwm_timer_handle_t"><span class="n"><span class="pre">mcpwm_timer_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">timer</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv429mcpwm_timer_event_callbacks_t" title="mcpwm_timer_event_callbacks_t"><span class="n"><span class="pre">mcpwm_timer_event_callbacks_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">cbs</span></span>, <span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">user_data</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv436mcpwm_timer_register_event_callbacks20mcpwm_timer_handle_tPK29mcpwm_timer_event_callbacks_tPv" title="Permalink to this definition"></a><br /></dt>
<dd><p>Set event callbacks for MCPWM timer. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The first call to this function needs to be before the call to <code class="docutils literal notranslate"><span class="pre">mcpwm_timer_enable</span></code></p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>User can deregister a previously registered callback by calling this function and setting the callback member in the <code class="docutils literal notranslate"><span class="pre">cbs</span></code> structure to NULL.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>timer</strong> -- <strong>[in]</strong> MCPWM timer handle, allocated by <code class="docutils literal notranslate"><span class="pre">mcpwm_new_timer()</span></code></p></li>
<li><p><strong>cbs</strong> -- <strong>[in]</strong> Group of callback functions </p></li>
<li><p><strong>user_data</strong> -- <strong>[in]</strong> User data, which will be passed to callback functions directly </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK: Set event callbacks successfully</p></li>
<li><p>ESP_ERR_INVALID_ARG: Set event callbacks failed because of invalid argument</p></li>
<li><p>ESP_ERR_INVALID_STATE: Set event callbacks failed because timer is not in init state</p></li>
<li><p>ESP_FAIL: Set event callbacks failed because of other error </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv429mcpwm_timer_set_phase_on_sync20mcpwm_timer_handle_tPK31mcpwm_timer_sync_phase_config_t">
<span id="_CPPv329mcpwm_timer_set_phase_on_sync20mcpwm_timer_handle_tPK31mcpwm_timer_sync_phase_config_t"></span><span id="_CPPv229mcpwm_timer_set_phase_on_sync20mcpwm_timer_handle_tPK31mcpwm_timer_sync_phase_config_t"></span><span id="mcpwm_timer_set_phase_on_sync__mcpwm_timer_handle_t.mcpwm_timer_sync_phase_config_tCP"></span><span class="target" id="mcpwm__timer_8h_1ae588a5873b4b8fc6f9ca1b2ba7ff4532"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_timer_set_phase_on_sync</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv420mcpwm_timer_handle_t" title="mcpwm_timer_handle_t"><span class="n"><span class="pre">mcpwm_timer_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">timer</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv431mcpwm_timer_sync_phase_config_t" title="mcpwm_timer_sync_phase_config_t"><span class="n"><span class="pre">mcpwm_timer_sync_phase_config_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">config</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv429mcpwm_timer_set_phase_on_sync20mcpwm_timer_handle_tPK31mcpwm_timer_sync_phase_config_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Set sync phase for MCPWM timer. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>timer</strong> -- <strong>[in]</strong> MCPWM timer handle, allocated by <code class="docutils literal notranslate"><span class="pre">mcpwm_new_timer()</span></code></p></li>
<li><p><strong>config</strong> -- <strong>[in]</strong> MCPWM timer sync phase configuration </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK: Set sync phase for MCPWM timer successfully</p></li>
<li><p>ESP_ERR_INVALID_ARG: Set sync phase for MCPWM timer failed because of invalid argument</p></li>
<li><p>ESP_FAIL: Set sync phase for MCPWM timer failed because of other error </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="structures">
<h3>Structures<a class="headerlink" href="#structures" title="Permalink to this heading"></a></h3>
<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv429mcpwm_timer_event_callbacks_t">
<span id="_CPPv329mcpwm_timer_event_callbacks_t"></span><span id="_CPPv229mcpwm_timer_event_callbacks_t"></span><span id="mcpwm_timer_event_callbacks_t"></span><span class="target" id="structmcpwm__timer__event__callbacks__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_timer_event_callbacks_t</span></span></span><a class="headerlink" href="#_CPPv429mcpwm_timer_event_callbacks_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Group of supported MCPWM timer event callbacks. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The callbacks are all running under ISR environment </p>
</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N29mcpwm_timer_event_callbacks_t7on_fullE">
<span id="_CPPv3N29mcpwm_timer_event_callbacks_t7on_fullE"></span><span id="_CPPv2N29mcpwm_timer_event_callbacks_t7on_fullE"></span><span id="mcpwm_timer_event_callbacks_t::on_full__mcpwm_timer_event_cb_t"></span><span class="target" id="structmcpwm__timer__event__callbacks__t_1a7d618f8b84f337450530bc6b30de7bd2"></span><a class="reference internal" href="#_CPPv422mcpwm_timer_event_cb_t" title="mcpwm_timer_event_cb_t"><span class="n"><span class="pre">mcpwm_timer_event_cb_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">on_full</span></span></span><a class="headerlink" href="#_CPPv4N29mcpwm_timer_event_callbacks_t7on_fullE" title="Permalink to this definition"></a><br /></dt>
<dd><p>callback function when MCPWM timer counts to peak value </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N29mcpwm_timer_event_callbacks_t8on_emptyE">
<span id="_CPPv3N29mcpwm_timer_event_callbacks_t8on_emptyE"></span><span id="_CPPv2N29mcpwm_timer_event_callbacks_t8on_emptyE"></span><span id="mcpwm_timer_event_callbacks_t::on_empty__mcpwm_timer_event_cb_t"></span><span class="target" id="structmcpwm__timer__event__callbacks__t_1a2d3ab9beed51e6c385c0928a250037bc"></span><a class="reference internal" href="#_CPPv422mcpwm_timer_event_cb_t" title="mcpwm_timer_event_cb_t"><span class="n"><span class="pre">mcpwm_timer_event_cb_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">on_empty</span></span></span><a class="headerlink" href="#_CPPv4N29mcpwm_timer_event_callbacks_t8on_emptyE" title="Permalink to this definition"></a><br /></dt>
<dd><p>callback function when MCPWM timer counts to zero </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N29mcpwm_timer_event_callbacks_t7on_stopE">
<span id="_CPPv3N29mcpwm_timer_event_callbacks_t7on_stopE"></span><span id="_CPPv2N29mcpwm_timer_event_callbacks_t7on_stopE"></span><span id="mcpwm_timer_event_callbacks_t::on_stop__mcpwm_timer_event_cb_t"></span><span class="target" id="structmcpwm__timer__event__callbacks__t_1a48327925f8662b1afbf7e7778eb4f972"></span><a class="reference internal" href="#_CPPv422mcpwm_timer_event_cb_t" title="mcpwm_timer_event_cb_t"><span class="n"><span class="pre">mcpwm_timer_event_cb_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">on_stop</span></span></span><a class="headerlink" href="#_CPPv4N29mcpwm_timer_event_callbacks_t7on_stopE" title="Permalink to this definition"></a><br /></dt>
<dd><p>callback function when MCPWM timer stops </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv420mcpwm_timer_config_t">
<span id="_CPPv320mcpwm_timer_config_t"></span><span id="_CPPv220mcpwm_timer_config_t"></span><span id="mcpwm_timer_config_t"></span><span class="target" id="structmcpwm__timer__config__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_timer_config_t</span></span></span><a class="headerlink" href="#_CPPv420mcpwm_timer_config_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>MCPWM timer configuration. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N20mcpwm_timer_config_t8group_idE">
<span id="_CPPv3N20mcpwm_timer_config_t8group_idE"></span><span id="_CPPv2N20mcpwm_timer_config_t8group_idE"></span><span id="mcpwm_timer_config_t::group_id__i"></span><span class="target" id="structmcpwm__timer__config__t_1a854d353eedaa6fa28ca768674aa90b08"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">group_id</span></span></span><a class="headerlink" href="#_CPPv4N20mcpwm_timer_config_t8group_idE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Specify from which group to allocate the MCPWM timer </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N20mcpwm_timer_config_t7clk_srcE">
<span id="_CPPv3N20mcpwm_timer_config_t7clk_srcE"></span><span id="_CPPv2N20mcpwm_timer_config_t7clk_srcE"></span><span id="mcpwm_timer_config_t::clk_src__mcpwm_timer_clock_source_t"></span><span class="target" id="structmcpwm__timer__config__t_1ab6ec04f610fb5d02903b7d1f9337cf10"></span><a class="reference internal" href="#_CPPv426mcpwm_timer_clock_source_t" title="mcpwm_timer_clock_source_t"><span class="n"><span class="pre">mcpwm_timer_clock_source_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">clk_src</span></span></span><a class="headerlink" href="#_CPPv4N20mcpwm_timer_config_t7clk_srcE" title="Permalink to this definition"></a><br /></dt>
<dd><p>MCPWM timer clock source </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N20mcpwm_timer_config_t13resolution_hzE">
<span id="_CPPv3N20mcpwm_timer_config_t13resolution_hzE"></span><span id="_CPPv2N20mcpwm_timer_config_t13resolution_hzE"></span><span id="mcpwm_timer_config_t::resolution_hz__uint32_t"></span><span class="target" id="structmcpwm__timer__config__t_1ad79503b730610d62f52e478ffe5e3671"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">resolution_hz</span></span></span><a class="headerlink" href="#_CPPv4N20mcpwm_timer_config_t13resolution_hzE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Counter resolution in Hz The step size of each count tick equals to (1 / resolution_hz) seconds </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N20mcpwm_timer_config_t10count_modeE">
<span id="_CPPv3N20mcpwm_timer_config_t10count_modeE"></span><span id="_CPPv2N20mcpwm_timer_config_t10count_modeE"></span><span id="mcpwm_timer_config_t::count_mode__mcpwm_timer_count_mode_t"></span><span class="target" id="structmcpwm__timer__config__t_1a72bcd2ce567c7e7f38580992a2934d28"></span><a class="reference internal" href="#_CPPv424mcpwm_timer_count_mode_t" title="mcpwm_timer_count_mode_t"><span class="n"><span class="pre">mcpwm_timer_count_mode_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">count_mode</span></span></span><a class="headerlink" href="#_CPPv4N20mcpwm_timer_config_t10count_modeE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Count mode </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N20mcpwm_timer_config_t12period_ticksE">
<span id="_CPPv3N20mcpwm_timer_config_t12period_ticksE"></span><span id="_CPPv2N20mcpwm_timer_config_t12period_ticksE"></span><span id="mcpwm_timer_config_t::period_ticks__uint32_t"></span><span class="target" id="structmcpwm__timer__config__t_1a757561464185ae9d6d6714704801c8d6"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">period_ticks</span></span></span><a class="headerlink" href="#_CPPv4N20mcpwm_timer_config_t12period_ticksE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Number of count ticks within a period </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N20mcpwm_timer_config_t13intr_priorityE">
<span id="_CPPv3N20mcpwm_timer_config_t13intr_priorityE"></span><span id="_CPPv2N20mcpwm_timer_config_t13intr_priorityE"></span><span id="mcpwm_timer_config_t::intr_priority__i"></span><span class="target" id="structmcpwm__timer__config__t_1a7e1d75d8d9aa62849016a8381a472874"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">intr_priority</span></span></span><a class="headerlink" href="#_CPPv4N20mcpwm_timer_config_t13intr_priorityE" title="Permalink to this definition"></a><br /></dt>
<dd><p>MCPWM timer interrupt priority, if set to 0, the driver will try to allocate an interrupt with a relative low priority (1,2,3) </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N20mcpwm_timer_config_t22update_period_on_emptyE">
<span id="_CPPv3N20mcpwm_timer_config_t22update_period_on_emptyE"></span><span id="_CPPv2N20mcpwm_timer_config_t22update_period_on_emptyE"></span><span id="mcpwm_timer_config_t::update_period_on_empty__uint32_t"></span><span class="target" id="structmcpwm__timer__config__t_1a98ba8b22dac0595768f9f4eba1640c3a"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">update_period_on_empty</span></span></span><a class="headerlink" href="#_CPPv4N20mcpwm_timer_config_t22update_period_on_emptyE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Whether to update period when timer counts to zero </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N20mcpwm_timer_config_t21update_period_on_syncE">
<span id="_CPPv3N20mcpwm_timer_config_t21update_period_on_syncE"></span><span id="_CPPv2N20mcpwm_timer_config_t21update_period_on_syncE"></span><span id="mcpwm_timer_config_t::update_period_on_sync__uint32_t"></span><span class="target" id="structmcpwm__timer__config__t_1a5acee3d4a1095b6f46765d4b23bb313f"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">update_period_on_sync</span></span></span><a class="headerlink" href="#_CPPv4N20mcpwm_timer_config_t21update_period_on_syncE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Whether to update period on sync event </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N20mcpwm_timer_config_t8allow_pdE">
<span id="_CPPv3N20mcpwm_timer_config_t8allow_pdE"></span><span id="_CPPv2N20mcpwm_timer_config_t8allow_pdE"></span><span id="mcpwm_timer_config_t::allow_pd__uint32_t"></span><span class="target" id="structmcpwm__timer__config__t_1ad9983d08750a73b21c9325d2120ba1b2"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">allow_pd</span></span></span><a class="headerlink" href="#_CPPv4N20mcpwm_timer_config_t8allow_pdE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Set to allow power down. When this flag set, the driver will backup/restore the MCPWM registers before/after entering/exist sleep mode. By this approach, the system can power off MCPWM's power domain. This can save power, but at the expense of more RAM being consumed. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N20mcpwm_timer_config_t5flagsE">
<span id="_CPPv3N20mcpwm_timer_config_t5flagsE"></span><span id="_CPPv2N20mcpwm_timer_config_t5flagsE"></span><span id="mcpwm_timer_config_t::flags__mcpwm_timer_config_t"></span><span class="target" id="structmcpwm__timer__config__t_1ae67e67940421beb9117aa6151cf79e7f"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv420mcpwm_timer_config_t" title="mcpwm_timer_config_t"><span class="n"><span class="pre">mcpwm_timer_config_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">flags</span></span></span><a class="headerlink" href="#_CPPv4N20mcpwm_timer_config_t5flagsE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Extra configuration flags for timer </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv431mcpwm_timer_sync_phase_config_t">
<span id="_CPPv331mcpwm_timer_sync_phase_config_t"></span><span id="_CPPv231mcpwm_timer_sync_phase_config_t"></span><span id="mcpwm_timer_sync_phase_config_t"></span><span class="target" id="structmcpwm__timer__sync__phase__config__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_timer_sync_phase_config_t</span></span></span><a class="headerlink" href="#_CPPv431mcpwm_timer_sync_phase_config_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>MCPWM Timer sync phase configuration. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N31mcpwm_timer_sync_phase_config_t8sync_srcE">
<span id="_CPPv3N31mcpwm_timer_sync_phase_config_t8sync_srcE"></span><span id="_CPPv2N31mcpwm_timer_sync_phase_config_t8sync_srcE"></span><span id="mcpwm_timer_sync_phase_config_t::sync_src__mcpwm_sync_handle_t"></span><span class="target" id="structmcpwm__timer__sync__phase__config__t_1a78452681de0a2d8a083b9d01527c379f"></span><a class="reference internal" href="#_CPPv419mcpwm_sync_handle_t" title="mcpwm_sync_handle_t"><span class="n"><span class="pre">mcpwm_sync_handle_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">sync_src</span></span></span><a class="headerlink" href="#_CPPv4N31mcpwm_timer_sync_phase_config_t8sync_srcE" title="Permalink to this definition"></a><br /></dt>
<dd><p>The sync event source. Set to NULL will disable the timer being synced by others </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N31mcpwm_timer_sync_phase_config_t11count_valueE">
<span id="_CPPv3N31mcpwm_timer_sync_phase_config_t11count_valueE"></span><span id="_CPPv2N31mcpwm_timer_sync_phase_config_t11count_valueE"></span><span id="mcpwm_timer_sync_phase_config_t::count_value__uint32_t"></span><span class="target" id="structmcpwm__timer__sync__phase__config__t_1ab94ab95cdf6ad3873d069129945ca907"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">count_value</span></span></span><a class="headerlink" href="#_CPPv4N31mcpwm_timer_sync_phase_config_t11count_valueE" title="Permalink to this definition"></a><br /></dt>
<dd><p>The count value that should lock to upon sync event </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N31mcpwm_timer_sync_phase_config_t9directionE">
<span id="_CPPv3N31mcpwm_timer_sync_phase_config_t9directionE"></span><span id="_CPPv2N31mcpwm_timer_sync_phase_config_t9directionE"></span><span id="mcpwm_timer_sync_phase_config_t::direction__mcpwm_timer_direction_t"></span><span class="target" id="structmcpwm__timer__sync__phase__config__t_1a59b3adda3c8f6de2ab7b45f91afc7a00"></span><a class="reference internal" href="#_CPPv423mcpwm_timer_direction_t" title="mcpwm_timer_direction_t"><span class="n"><span class="pre">mcpwm_timer_direction_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">direction</span></span></span><a class="headerlink" href="#_CPPv4N31mcpwm_timer_sync_phase_config_t9directionE" title="Permalink to this definition"></a><br /></dt>
<dd><p>The count direction that should lock to upon sync event </p>
</dd></dl>

</div>
</dd></dl>

</section>
<section id="id11">
<h3>Header File<a class="headerlink" href="#id11" title="Permalink to this heading"></a></h3>
<ul>
<li><p><a class="reference external" href="https://github.com/espressif/esp-idf/blob/v5.4.2/components/esp_driver_mcpwm/include/driver/mcpwm_oper.h">components/esp_driver_mcpwm/include/driver/mcpwm_oper.h</a></p></li>
<li><p>This header file can be included with:</p>
<blockquote>
<div><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;driver/mcpwm_oper.h&quot;</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>This header file is a part of the API provided by the <code class="docutils literal notranslate"><span class="pre">esp_driver_mcpwm</span></code> component. To declare that your component depends on <code class="docutils literal notranslate"><span class="pre">esp_driver_mcpwm</span></code>, add the following to your CMakeLists.txt:</p>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>REQUIRES esp_driver_mcpwm
</pre></div>
</div>
<p>or</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>PRIV_REQUIRES esp_driver_mcpwm
</pre></div>
</div>
</div></blockquote>
</li>
</ul>
</section>
<section id="id12">
<h3>Functions<a class="headerlink" href="#id12" title="Permalink to this heading"></a></h3>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv418mcpwm_new_operatorPK23mcpwm_operator_config_tP19mcpwm_oper_handle_t">
<span id="_CPPv318mcpwm_new_operatorPK23mcpwm_operator_config_tP19mcpwm_oper_handle_t"></span><span id="_CPPv218mcpwm_new_operatorPK23mcpwm_operator_config_tP19mcpwm_oper_handle_t"></span><span id="mcpwm_new_operator__mcpwm_operator_config_tCP.mcpwm_oper_handle_tP"></span><span class="target" id="mcpwm__oper_8h_1a61b6baf1ca6f4f8400eaf0c95ce6ed37"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_new_operator</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv423mcpwm_operator_config_t" title="mcpwm_operator_config_t"><span class="n"><span class="pre">mcpwm_operator_config_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">config</span></span>, <a class="reference internal" href="#_CPPv419mcpwm_oper_handle_t" title="mcpwm_oper_handle_t"><span class="n"><span class="pre">mcpwm_oper_handle_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ret_oper</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv418mcpwm_new_operatorPK23mcpwm_operator_config_tP19mcpwm_oper_handle_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Create MCPWM operator. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>config</strong> -- <strong>[in]</strong> MCPWM operator configuration </p></li>
<li><p><strong>ret_oper</strong> -- <strong>[out]</strong> Returned MCPWM operator handle </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK: Create MCPWM operator successfully</p></li>
<li><p>ESP_ERR_INVALID_ARG: Create MCPWM operator failed because of invalid argument</p></li>
<li><p>ESP_ERR_NO_MEM: Create MCPWM operator failed because out of memory</p></li>
<li><p>ESP_ERR_NOT_FOUND: Create MCPWM operator failed because can't find free resource</p></li>
<li><p>ESP_FAIL: Create MCPWM operator failed because of other error </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv418mcpwm_del_operator19mcpwm_oper_handle_t">
<span id="_CPPv318mcpwm_del_operator19mcpwm_oper_handle_t"></span><span id="_CPPv218mcpwm_del_operator19mcpwm_oper_handle_t"></span><span id="mcpwm_del_operator__mcpwm_oper_handle_t"></span><span class="target" id="mcpwm__oper_8h_1aa034a7a0eb39efe39b55319267670abf"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_del_operator</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv419mcpwm_oper_handle_t" title="mcpwm_oper_handle_t"><span class="n"><span class="pre">mcpwm_oper_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">oper</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv418mcpwm_del_operator19mcpwm_oper_handle_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Delete MCPWM operator. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>oper</strong> -- <strong>[in]</strong> MCPWM operator, allocated by <code class="docutils literal notranslate"><span class="pre">mcpwm_new_operator()</span></code></p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK: Delete MCPWM operator successfully</p></li>
<li><p>ESP_ERR_INVALID_ARG: Delete MCPWM operator failed because of invalid argument</p></li>
<li><p>ESP_FAIL: Delete MCPWM operator failed because of other error </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv428mcpwm_operator_connect_timer19mcpwm_oper_handle_t20mcpwm_timer_handle_t">
<span id="_CPPv328mcpwm_operator_connect_timer19mcpwm_oper_handle_t20mcpwm_timer_handle_t"></span><span id="_CPPv228mcpwm_operator_connect_timer19mcpwm_oper_handle_t20mcpwm_timer_handle_t"></span><span id="mcpwm_operator_connect_timer__mcpwm_oper_handle_t.mcpwm_timer_handle_t"></span><span class="target" id="mcpwm__oper_8h_1a14ad5e1a55ebbdd000541f1c782251bb"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_operator_connect_timer</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv419mcpwm_oper_handle_t" title="mcpwm_oper_handle_t"><span class="n"><span class="pre">mcpwm_oper_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">oper</span></span>, <a class="reference internal" href="#_CPPv420mcpwm_timer_handle_t" title="mcpwm_timer_handle_t"><span class="n"><span class="pre">mcpwm_timer_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">timer</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv428mcpwm_operator_connect_timer19mcpwm_oper_handle_t20mcpwm_timer_handle_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Connect MCPWM operator and timer, so that the operator can be driven by the timer. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>oper</strong> -- <strong>[in]</strong> MCPWM operator handle, allocated by <code class="docutils literal notranslate"><span class="pre">mcpwm_new_operator()</span></code></p></li>
<li><p><strong>timer</strong> -- <strong>[in]</strong> MCPWM timer handle, allocated by <code class="docutils literal notranslate"><span class="pre">mcpwm_new_timer()</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK: Connect MCPWM operator and timer successfully</p></li>
<li><p>ESP_ERR_INVALID_ARG: Connect MCPWM operator and timer failed because of invalid argument</p></li>
<li><p>ESP_FAIL: Connect MCPWM operator and timer failed because of other error </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv433mcpwm_operator_set_brake_on_fault19mcpwm_oper_handle_tPK20mcpwm_brake_config_t">
<span id="_CPPv333mcpwm_operator_set_brake_on_fault19mcpwm_oper_handle_tPK20mcpwm_brake_config_t"></span><span id="_CPPv233mcpwm_operator_set_brake_on_fault19mcpwm_oper_handle_tPK20mcpwm_brake_config_t"></span><span id="mcpwm_operator_set_brake_on_fault__mcpwm_oper_handle_t.mcpwm_brake_config_tCP"></span><span class="target" id="mcpwm__oper_8h_1aae34f94e7f9856deae398be9eb06fcd7"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_operator_set_brake_on_fault</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv419mcpwm_oper_handle_t" title="mcpwm_oper_handle_t"><span class="n"><span class="pre">mcpwm_oper_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">oper</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv420mcpwm_brake_config_t" title="mcpwm_brake_config_t"><span class="n"><span class="pre">mcpwm_brake_config_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">config</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv433mcpwm_operator_set_brake_on_fault19mcpwm_oper_handle_tPK20mcpwm_brake_config_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Set brake method for MCPWM operator. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>oper</strong> -- <strong>[in]</strong> MCPWM operator, allocated by <code class="docutils literal notranslate"><span class="pre">mcpwm_new_operator()</span></code></p></li>
<li><p><strong>config</strong> -- <strong>[in]</strong> MCPWM brake configuration </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK: Set trip for operator successfully</p></li>
<li><p>ESP_ERR_INVALID_ARG: Set trip for operator failed because of invalid argument</p></li>
<li><p>ESP_FAIL: Set trip for operator failed because of other error </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv433mcpwm_operator_recover_from_fault19mcpwm_oper_handle_t20mcpwm_fault_handle_t">
<span id="_CPPv333mcpwm_operator_recover_from_fault19mcpwm_oper_handle_t20mcpwm_fault_handle_t"></span><span id="_CPPv233mcpwm_operator_recover_from_fault19mcpwm_oper_handle_t20mcpwm_fault_handle_t"></span><span id="mcpwm_operator_recover_from_fault__mcpwm_oper_handle_t.mcpwm_fault_handle_t"></span><span class="target" id="mcpwm__oper_8h_1aef46591e17d675dc940f911374482734"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_operator_recover_from_fault</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv419mcpwm_oper_handle_t" title="mcpwm_oper_handle_t"><span class="n"><span class="pre">mcpwm_oper_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">oper</span></span>, <a class="reference internal" href="#_CPPv420mcpwm_fault_handle_t" title="mcpwm_fault_handle_t"><span class="n"><span class="pre">mcpwm_fault_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">fault</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv433mcpwm_operator_recover_from_fault19mcpwm_oper_handle_t20mcpwm_fault_handle_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Try to make the operator recover from fault. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To recover from fault or escape from trip, you make sure the fault signal has disappeared already. Otherwise the recovery can't succeed.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>oper</strong> -- <strong>[in]</strong> MCPWM operator, allocated by <code class="docutils literal notranslate"><span class="pre">mcpwm_new_operator()</span></code></p></li>
<li><p><strong>fault</strong> -- <strong>[in]</strong> MCPWM fault handle </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK: Recover from fault successfully</p></li>
<li><p>ESP_ERR_INVALID_ARG: Recover from fault failed because of invalid argument</p></li>
<li><p>ESP_ERR_INVALID_STATE: Recover from fault failed because the fault source is still active</p></li>
<li><p>ESP_FAIL: Recover from fault failed because of other error </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv439mcpwm_operator_register_event_callbacks19mcpwm_oper_handle_tPK32mcpwm_operator_event_callbacks_tPv">
<span id="_CPPv339mcpwm_operator_register_event_callbacks19mcpwm_oper_handle_tPK32mcpwm_operator_event_callbacks_tPv"></span><span id="_CPPv239mcpwm_operator_register_event_callbacks19mcpwm_oper_handle_tPK32mcpwm_operator_event_callbacks_tPv"></span><span id="mcpwm_operator_register_event_callbacks__mcpwm_oper_handle_t.mcpwm_operator_event_callbacks_tCP.voidP"></span><span class="target" id="mcpwm__oper_8h_1a214deda67a852859a23cae22ec0f76ba"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_operator_register_event_callbacks</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv419mcpwm_oper_handle_t" title="mcpwm_oper_handle_t"><span class="n"><span class="pre">mcpwm_oper_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">oper</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv432mcpwm_operator_event_callbacks_t" title="mcpwm_operator_event_callbacks_t"><span class="n"><span class="pre">mcpwm_operator_event_callbacks_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">cbs</span></span>, <span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">user_data</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv439mcpwm_operator_register_event_callbacks19mcpwm_oper_handle_tPK32mcpwm_operator_event_callbacks_tPv" title="Permalink to this definition"></a><br /></dt>
<dd><p>Set event callbacks for MCPWM operator. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>User can deregister a previously registered callback by calling this function and setting the callback member in the <code class="docutils literal notranslate"><span class="pre">cbs</span></code> structure to NULL.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>oper</strong> -- <strong>[in]</strong> MCPWM operator handle, allocated by <code class="docutils literal notranslate"><span class="pre">mcpwm_new_operator()</span></code></p></li>
<li><p><strong>cbs</strong> -- <strong>[in]</strong> Group of callback functions </p></li>
<li><p><strong>user_data</strong> -- <strong>[in]</strong> User data, which will be passed to callback functions directly </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK: Set event callbacks successfully</p></li>
<li><p>ESP_ERR_INVALID_ARG: Set event callbacks failed because of invalid argument</p></li>
<li><p>ESP_FAIL: Set event callbacks failed because of other error </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv428mcpwm_operator_apply_carrier19mcpwm_oper_handle_tPK22mcpwm_carrier_config_t">
<span id="_CPPv328mcpwm_operator_apply_carrier19mcpwm_oper_handle_tPK22mcpwm_carrier_config_t"></span><span id="_CPPv228mcpwm_operator_apply_carrier19mcpwm_oper_handle_tPK22mcpwm_carrier_config_t"></span><span id="mcpwm_operator_apply_carrier__mcpwm_oper_handle_t.mcpwm_carrier_config_tCP"></span><span class="target" id="mcpwm__oper_8h_1a7ab14c069b6ba4db82a0e84c33495dfd"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_operator_apply_carrier</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv419mcpwm_oper_handle_t" title="mcpwm_oper_handle_t"><span class="n"><span class="pre">mcpwm_oper_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">oper</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv422mcpwm_carrier_config_t" title="mcpwm_carrier_config_t"><span class="n"><span class="pre">mcpwm_carrier_config_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">config</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv428mcpwm_operator_apply_carrier19mcpwm_oper_handle_tPK22mcpwm_carrier_config_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Apply carrier feature for MCPWM operator. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>oper</strong> -- <strong>[in]</strong> MCPWM operator, allocated by <code class="docutils literal notranslate"><span class="pre">mcpwm_new_operator()</span></code></p></li>
<li><p><strong>config</strong> -- <strong>[in]</strong> MCPWM carrier specific configuration </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK: Set carrier for operator successfully</p></li>
<li><p>ESP_ERR_INVALID_ARG: Set carrier for operator failed because of invalid argument</p></li>
<li><p>ESP_FAIL: Set carrier for operator failed because of other error </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="id13">
<h3>Structures<a class="headerlink" href="#id13" title="Permalink to this heading"></a></h3>
<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv423mcpwm_operator_config_t">
<span id="_CPPv323mcpwm_operator_config_t"></span><span id="_CPPv223mcpwm_operator_config_t"></span><span id="mcpwm_operator_config_t"></span><span class="target" id="structmcpwm__operator__config__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_operator_config_t</span></span></span><a class="headerlink" href="#_CPPv423mcpwm_operator_config_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>MCPWM operator configuration. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N23mcpwm_operator_config_t8group_idE">
<span id="_CPPv3N23mcpwm_operator_config_t8group_idE"></span><span id="_CPPv2N23mcpwm_operator_config_t8group_idE"></span><span id="mcpwm_operator_config_t::group_id__i"></span><span class="target" id="structmcpwm__operator__config__t_1a538d516e24c439a39f135d4b4ca0ce34"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">group_id</span></span></span><a class="headerlink" href="#_CPPv4N23mcpwm_operator_config_t8group_idE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Specify from which group to allocate the MCPWM operator </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N23mcpwm_operator_config_t13intr_priorityE">
<span id="_CPPv3N23mcpwm_operator_config_t13intr_priorityE"></span><span id="_CPPv2N23mcpwm_operator_config_t13intr_priorityE"></span><span id="mcpwm_operator_config_t::intr_priority__i"></span><span class="target" id="structmcpwm__operator__config__t_1afb07d03ca2e9abeae0439a09db114b17"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">intr_priority</span></span></span><a class="headerlink" href="#_CPPv4N23mcpwm_operator_config_t13intr_priorityE" title="Permalink to this definition"></a><br /></dt>
<dd><p>MCPWM operator interrupt priority, if set to 0, the driver will try to allocate an interrupt with a relative low priority (1,2,3) </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N23mcpwm_operator_config_t24update_gen_action_on_tezE">
<span id="_CPPv3N23mcpwm_operator_config_t24update_gen_action_on_tezE"></span><span id="_CPPv2N23mcpwm_operator_config_t24update_gen_action_on_tezE"></span><span id="mcpwm_operator_config_t::update_gen_action_on_tez__uint32_t"></span><span class="target" id="structmcpwm__operator__config__t_1a03f74963ca27c075165f80e246da176c"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">update_gen_action_on_tez</span></span></span><a class="headerlink" href="#_CPPv4N23mcpwm_operator_config_t24update_gen_action_on_tezE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Whether to update generator action when timer counts to zero </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N23mcpwm_operator_config_t24update_gen_action_on_tepE">
<span id="_CPPv3N23mcpwm_operator_config_t24update_gen_action_on_tepE"></span><span id="_CPPv2N23mcpwm_operator_config_t24update_gen_action_on_tepE"></span><span id="mcpwm_operator_config_t::update_gen_action_on_tep__uint32_t"></span><span class="target" id="structmcpwm__operator__config__t_1ab26aa3a188e441f7b04240486c72c812"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">update_gen_action_on_tep</span></span></span><a class="headerlink" href="#_CPPv4N23mcpwm_operator_config_t24update_gen_action_on_tepE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Whether to update generator action when timer counts to peak </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N23mcpwm_operator_config_t25update_gen_action_on_syncE">
<span id="_CPPv3N23mcpwm_operator_config_t25update_gen_action_on_syncE"></span><span id="_CPPv2N23mcpwm_operator_config_t25update_gen_action_on_syncE"></span><span id="mcpwm_operator_config_t::update_gen_action_on_sync__uint32_t"></span><span class="target" id="structmcpwm__operator__config__t_1aa494ff3388a82f08487e440d55804e24"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">update_gen_action_on_sync</span></span></span><a class="headerlink" href="#_CPPv4N23mcpwm_operator_config_t25update_gen_action_on_syncE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Whether to update generator action on sync event </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N23mcpwm_operator_config_t23update_dead_time_on_tezE">
<span id="_CPPv3N23mcpwm_operator_config_t23update_dead_time_on_tezE"></span><span id="_CPPv2N23mcpwm_operator_config_t23update_dead_time_on_tezE"></span><span id="mcpwm_operator_config_t::update_dead_time_on_tez__uint32_t"></span><span class="target" id="structmcpwm__operator__config__t_1aa6f1a4a6517f8bf8c188da0b4a38fcf5"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">update_dead_time_on_tez</span></span></span><a class="headerlink" href="#_CPPv4N23mcpwm_operator_config_t23update_dead_time_on_tezE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Whether to update dead time when timer counts to zero </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N23mcpwm_operator_config_t23update_dead_time_on_tepE">
<span id="_CPPv3N23mcpwm_operator_config_t23update_dead_time_on_tepE"></span><span id="_CPPv2N23mcpwm_operator_config_t23update_dead_time_on_tepE"></span><span id="mcpwm_operator_config_t::update_dead_time_on_tep__uint32_t"></span><span class="target" id="structmcpwm__operator__config__t_1ad3ca9660455af65f48d7e6c911a783a8"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">update_dead_time_on_tep</span></span></span><a class="headerlink" href="#_CPPv4N23mcpwm_operator_config_t23update_dead_time_on_tepE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Whether to update dead time when timer counts to peak </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N23mcpwm_operator_config_t24update_dead_time_on_syncE">
<span id="_CPPv3N23mcpwm_operator_config_t24update_dead_time_on_syncE"></span><span id="_CPPv2N23mcpwm_operator_config_t24update_dead_time_on_syncE"></span><span id="mcpwm_operator_config_t::update_dead_time_on_sync__uint32_t"></span><span class="target" id="structmcpwm__operator__config__t_1a41fa42fbd5b2cc48ed2260c9be36c172"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">update_dead_time_on_sync</span></span></span><a class="headerlink" href="#_CPPv4N23mcpwm_operator_config_t24update_dead_time_on_syncE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Whether to update dead time on sync event </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N23mcpwm_operator_config_t5flagsE">
<span id="_CPPv3N23mcpwm_operator_config_t5flagsE"></span><span id="_CPPv2N23mcpwm_operator_config_t5flagsE"></span><span id="mcpwm_operator_config_t::flags__mcpwm_operator_config_t"></span><span class="target" id="structmcpwm__operator__config__t_1a087403562bdd351d9e8af646196ab366"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv423mcpwm_operator_config_t" title="mcpwm_operator_config_t"><span class="n"><span class="pre">mcpwm_operator_config_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">flags</span></span></span><a class="headerlink" href="#_CPPv4N23mcpwm_operator_config_t5flagsE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Extra configuration flags for operator </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv420mcpwm_brake_config_t">
<span id="_CPPv320mcpwm_brake_config_t"></span><span id="_CPPv220mcpwm_brake_config_t"></span><span id="mcpwm_brake_config_t"></span><span class="target" id="structmcpwm__brake__config__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_brake_config_t</span></span></span><a class="headerlink" href="#_CPPv420mcpwm_brake_config_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>MCPWM brake configuration structure. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N20mcpwm_brake_config_t5faultE">
<span id="_CPPv3N20mcpwm_brake_config_t5faultE"></span><span id="_CPPv2N20mcpwm_brake_config_t5faultE"></span><span id="mcpwm_brake_config_t::fault__mcpwm_fault_handle_t"></span><span class="target" id="structmcpwm__brake__config__t_1a0862e621a67ab9edde4bedc1d5b2c27a"></span><a class="reference internal" href="#_CPPv420mcpwm_fault_handle_t" title="mcpwm_fault_handle_t"><span class="n"><span class="pre">mcpwm_fault_handle_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">fault</span></span></span><a class="headerlink" href="#_CPPv4N20mcpwm_brake_config_t5faultE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Which fault causes the operator to brake </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N20mcpwm_brake_config_t10brake_modeE">
<span id="_CPPv3N20mcpwm_brake_config_t10brake_modeE"></span><span id="_CPPv2N20mcpwm_brake_config_t10brake_modeE"></span><span id="mcpwm_brake_config_t::brake_mode__mcpwm_operator_brake_mode_t"></span><span class="target" id="structmcpwm__brake__config__t_1a6bc1618740a7528913dba6a418e37647"></span><a class="reference internal" href="#_CPPv427mcpwm_operator_brake_mode_t" title="mcpwm_operator_brake_mode_t"><span class="n"><span class="pre">mcpwm_operator_brake_mode_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">brake_mode</span></span></span><a class="headerlink" href="#_CPPv4N20mcpwm_brake_config_t10brake_modeE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Brake mode </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N20mcpwm_brake_config_t18cbc_recover_on_tezE">
<span id="_CPPv3N20mcpwm_brake_config_t18cbc_recover_on_tezE"></span><span id="_CPPv2N20mcpwm_brake_config_t18cbc_recover_on_tezE"></span><span id="mcpwm_brake_config_t::cbc_recover_on_tez__uint32_t"></span><span class="target" id="structmcpwm__brake__config__t_1aadafacb35ad79e93c3cd7e39e910dd9b"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">cbc_recover_on_tez</span></span></span><a class="headerlink" href="#_CPPv4N20mcpwm_brake_config_t18cbc_recover_on_tezE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Recovery CBC brake state on tez event </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N20mcpwm_brake_config_t18cbc_recover_on_tepE">
<span id="_CPPv3N20mcpwm_brake_config_t18cbc_recover_on_tepE"></span><span id="_CPPv2N20mcpwm_brake_config_t18cbc_recover_on_tepE"></span><span id="mcpwm_brake_config_t::cbc_recover_on_tep__uint32_t"></span><span class="target" id="structmcpwm__brake__config__t_1a8c492e04b2726bfc3d960d290ef8e4b6"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">cbc_recover_on_tep</span></span></span><a class="headerlink" href="#_CPPv4N20mcpwm_brake_config_t18cbc_recover_on_tepE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Recovery CBC brake state on tep event </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N20mcpwm_brake_config_t5flagsE">
<span id="_CPPv3N20mcpwm_brake_config_t5flagsE"></span><span id="_CPPv2N20mcpwm_brake_config_t5flagsE"></span><span id="mcpwm_brake_config_t::flags__mcpwm_brake_config_t"></span><span class="target" id="structmcpwm__brake__config__t_1aee1c5ea24de7b8142a7df933dd0886e0"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv420mcpwm_brake_config_t" title="mcpwm_brake_config_t"><span class="n"><span class="pre">mcpwm_brake_config_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">flags</span></span></span><a class="headerlink" href="#_CPPv4N20mcpwm_brake_config_t5flagsE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Extra flags for brake configuration </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv432mcpwm_operator_event_callbacks_t">
<span id="_CPPv332mcpwm_operator_event_callbacks_t"></span><span id="_CPPv232mcpwm_operator_event_callbacks_t"></span><span id="mcpwm_operator_event_callbacks_t"></span><span class="target" id="structmcpwm__operator__event__callbacks__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_operator_event_callbacks_t</span></span></span><a class="headerlink" href="#_CPPv432mcpwm_operator_event_callbacks_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Group of supported MCPWM operator event callbacks. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The callbacks are all running under ISR environment </p>
</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N32mcpwm_operator_event_callbacks_t12on_brake_cbcE">
<span id="_CPPv3N32mcpwm_operator_event_callbacks_t12on_brake_cbcE"></span><span id="_CPPv2N32mcpwm_operator_event_callbacks_t12on_brake_cbcE"></span><span id="mcpwm_operator_event_callbacks_t::on_brake_cbc__mcpwm_brake_event_cb_t"></span><span class="target" id="structmcpwm__operator__event__callbacks__t_1a7abcf53237d14ad07e3f5d38c794b124"></span><a class="reference internal" href="#_CPPv422mcpwm_brake_event_cb_t" title="mcpwm_brake_event_cb_t"><span class="n"><span class="pre">mcpwm_brake_event_cb_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">on_brake_cbc</span></span></span><a class="headerlink" href="#_CPPv4N32mcpwm_operator_event_callbacks_t12on_brake_cbcE" title="Permalink to this definition"></a><br /></dt>
<dd><p>callback function when mcpwm operator brakes in CBC </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N32mcpwm_operator_event_callbacks_t12on_brake_ostE">
<span id="_CPPv3N32mcpwm_operator_event_callbacks_t12on_brake_ostE"></span><span id="_CPPv2N32mcpwm_operator_event_callbacks_t12on_brake_ostE"></span><span id="mcpwm_operator_event_callbacks_t::on_brake_ost__mcpwm_brake_event_cb_t"></span><span class="target" id="structmcpwm__operator__event__callbacks__t_1a28d916f37d59457922679dd73eade1ef"></span><a class="reference internal" href="#_CPPv422mcpwm_brake_event_cb_t" title="mcpwm_brake_event_cb_t"><span class="n"><span class="pre">mcpwm_brake_event_cb_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">on_brake_ost</span></span></span><a class="headerlink" href="#_CPPv4N32mcpwm_operator_event_callbacks_t12on_brake_ostE" title="Permalink to this definition"></a><br /></dt>
<dd><p>callback function when mcpwm operator brakes in OST </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv422mcpwm_carrier_config_t">
<span id="_CPPv322mcpwm_carrier_config_t"></span><span id="_CPPv222mcpwm_carrier_config_t"></span><span id="mcpwm_carrier_config_t"></span><span class="target" id="structmcpwm__carrier__config__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_carrier_config_t</span></span></span><a class="headerlink" href="#_CPPv422mcpwm_carrier_config_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>MCPWM carrier configuration structure. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N22mcpwm_carrier_config_t7clk_srcE">
<span id="_CPPv3N22mcpwm_carrier_config_t7clk_srcE"></span><span id="_CPPv2N22mcpwm_carrier_config_t7clk_srcE"></span><span id="mcpwm_carrier_config_t::clk_src__mcpwm_carrier_clock_source_t"></span><span class="target" id="structmcpwm__carrier__config__t_1a18fbd6b2a11f89124d84abcd89531851"></span><a class="reference internal" href="#_CPPv428mcpwm_carrier_clock_source_t" title="mcpwm_carrier_clock_source_t"><span class="n"><span class="pre">mcpwm_carrier_clock_source_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">clk_src</span></span></span><a class="headerlink" href="#_CPPv4N22mcpwm_carrier_config_t7clk_srcE" title="Permalink to this definition"></a><br /></dt>
<dd><p>MCPWM carrier clock source </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N22mcpwm_carrier_config_t12frequency_hzE">
<span id="_CPPv3N22mcpwm_carrier_config_t12frequency_hzE"></span><span id="_CPPv2N22mcpwm_carrier_config_t12frequency_hzE"></span><span id="mcpwm_carrier_config_t::frequency_hz__uint32_t"></span><span class="target" id="structmcpwm__carrier__config__t_1a5380b61e06be9a84bbd4f09dae0726bb"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">frequency_hz</span></span></span><a class="headerlink" href="#_CPPv4N22mcpwm_carrier_config_t12frequency_hzE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Carrier frequency in Hz </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N22mcpwm_carrier_config_t23first_pulse_duration_usE">
<span id="_CPPv3N22mcpwm_carrier_config_t23first_pulse_duration_usE"></span><span id="_CPPv2N22mcpwm_carrier_config_t23first_pulse_duration_usE"></span><span id="mcpwm_carrier_config_t::first_pulse_duration_us__uint32_t"></span><span class="target" id="structmcpwm__carrier__config__t_1a81dd12aa7be209bfa326920c1775d7d4"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">first_pulse_duration_us</span></span></span><a class="headerlink" href="#_CPPv4N22mcpwm_carrier_config_t23first_pulse_duration_usE" title="Permalink to this definition"></a><br /></dt>
<dd><p>The duration of the first PWM pulse, in us </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N22mcpwm_carrier_config_t10duty_cycleE">
<span id="_CPPv3N22mcpwm_carrier_config_t10duty_cycleE"></span><span id="_CPPv2N22mcpwm_carrier_config_t10duty_cycleE"></span><span id="mcpwm_carrier_config_t::duty_cycle__float"></span><span class="target" id="structmcpwm__carrier__config__t_1ac3106046a8bd0eb6fab505e219df987b"></span><span class="kt"><span class="pre">float</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">duty_cycle</span></span></span><a class="headerlink" href="#_CPPv4N22mcpwm_carrier_config_t10duty_cycleE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Carrier duty cycle </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N22mcpwm_carrier_config_t22invert_before_modulateE">
<span id="_CPPv3N22mcpwm_carrier_config_t22invert_before_modulateE"></span><span id="_CPPv2N22mcpwm_carrier_config_t22invert_before_modulateE"></span><span id="mcpwm_carrier_config_t::invert_before_modulate__uint32_t"></span><span class="target" id="structmcpwm__carrier__config__t_1ac8afedaa5b2db543374111c5e4d51651"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">invert_before_modulate</span></span></span><a class="headerlink" href="#_CPPv4N22mcpwm_carrier_config_t22invert_before_modulateE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Invert the raw signal </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N22mcpwm_carrier_config_t21invert_after_modulateE">
<span id="_CPPv3N22mcpwm_carrier_config_t21invert_after_modulateE"></span><span id="_CPPv2N22mcpwm_carrier_config_t21invert_after_modulateE"></span><span id="mcpwm_carrier_config_t::invert_after_modulate__uint32_t"></span><span class="target" id="structmcpwm__carrier__config__t_1a6ffb30d81daa3a46d5f8586017516282"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">invert_after_modulate</span></span></span><a class="headerlink" href="#_CPPv4N22mcpwm_carrier_config_t21invert_after_modulateE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Invert the modulated signal </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N22mcpwm_carrier_config_t5flagsE">
<span id="_CPPv3N22mcpwm_carrier_config_t5flagsE"></span><span id="_CPPv2N22mcpwm_carrier_config_t5flagsE"></span><span id="mcpwm_carrier_config_t::flags__mcpwm_carrier_config_t"></span><span class="target" id="structmcpwm__carrier__config__t_1acb879c64e4fde23fbd63e9e5b84a1bed"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv422mcpwm_carrier_config_t" title="mcpwm_carrier_config_t"><span class="n"><span class="pre">mcpwm_carrier_config_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">flags</span></span></span><a class="headerlink" href="#_CPPv4N22mcpwm_carrier_config_t5flagsE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Extra flags for carrier configuration </p>
</dd></dl>

</div>
</dd></dl>

</section>
<section id="id14">
<h3>Header File<a class="headerlink" href="#id14" title="Permalink to this heading"></a></h3>
<ul>
<li><p><a class="reference external" href="https://github.com/espressif/esp-idf/blob/v5.4.2/components/esp_driver_mcpwm/include/driver/mcpwm_cmpr.h">components/esp_driver_mcpwm/include/driver/mcpwm_cmpr.h</a></p></li>
<li><p>This header file can be included with:</p>
<blockquote>
<div><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;driver/mcpwm_cmpr.h&quot;</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>This header file is a part of the API provided by the <code class="docutils literal notranslate"><span class="pre">esp_driver_mcpwm</span></code> component. To declare that your component depends on <code class="docutils literal notranslate"><span class="pre">esp_driver_mcpwm</span></code>, add the following to your CMakeLists.txt:</p>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>REQUIRES esp_driver_mcpwm
</pre></div>
</div>
<p>or</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>PRIV_REQUIRES esp_driver_mcpwm
</pre></div>
</div>
</div></blockquote>
</li>
</ul>
</section>
<section id="id15">
<h3>Functions<a class="headerlink" href="#id15" title="Permalink to this heading"></a></h3>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv420mcpwm_new_comparator19mcpwm_oper_handle_tPK25mcpwm_comparator_config_tP19mcpwm_cmpr_handle_t">
<span id="_CPPv320mcpwm_new_comparator19mcpwm_oper_handle_tPK25mcpwm_comparator_config_tP19mcpwm_cmpr_handle_t"></span><span id="_CPPv220mcpwm_new_comparator19mcpwm_oper_handle_tPK25mcpwm_comparator_config_tP19mcpwm_cmpr_handle_t"></span><span id="mcpwm_new_comparator__mcpwm_oper_handle_t.mcpwm_comparator_config_tCP.mcpwm_cmpr_handle_tP"></span><span class="target" id="mcpwm__cmpr_8h_1a436a4e3e2b92798851e6a5053b304ac9"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_new_comparator</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv419mcpwm_oper_handle_t" title="mcpwm_oper_handle_t"><span class="n"><span class="pre">mcpwm_oper_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">oper</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv425mcpwm_comparator_config_t" title="mcpwm_comparator_config_t"><span class="n"><span class="pre">mcpwm_comparator_config_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">config</span></span>, <a class="reference internal" href="#_CPPv419mcpwm_cmpr_handle_t" title="mcpwm_cmpr_handle_t"><span class="n"><span class="pre">mcpwm_cmpr_handle_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ret_cmpr</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv420mcpwm_new_comparator19mcpwm_oper_handle_tPK25mcpwm_comparator_config_tP19mcpwm_cmpr_handle_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Create MCPWM comparator. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>oper</strong> -- <strong>[in]</strong> MCPWM operator, allocated by <code class="docutils literal notranslate"><span class="pre">mcpwm_new_operator()</span></code>, the new comparator will be allocated from this operator </p></li>
<li><p><strong>config</strong> -- <strong>[in]</strong> MCPWM comparator configuration </p></li>
<li><p><strong>ret_cmpr</strong> -- <strong>[out]</strong> Returned MCPWM comparator </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK: Create MCPWM comparator successfully</p></li>
<li><p>ESP_ERR_INVALID_ARG: Create MCPWM comparator failed because of invalid argument</p></li>
<li><p>ESP_ERR_NO_MEM: Create MCPWM comparator failed because out of memory</p></li>
<li><p>ESP_ERR_NOT_FOUND: Create MCPWM comparator failed because can't find free resource</p></li>
<li><p>ESP_FAIL: Create MCPWM comparator failed because of other error </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv420mcpwm_del_comparator19mcpwm_cmpr_handle_t">
<span id="_CPPv320mcpwm_del_comparator19mcpwm_cmpr_handle_t"></span><span id="_CPPv220mcpwm_del_comparator19mcpwm_cmpr_handle_t"></span><span id="mcpwm_del_comparator__mcpwm_cmpr_handle_t"></span><span class="target" id="mcpwm__cmpr_8h_1a2e94dec6e29eb8c32497ee918f77107a"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_del_comparator</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv419mcpwm_cmpr_handle_t" title="mcpwm_cmpr_handle_t"><span class="n"><span class="pre">mcpwm_cmpr_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">cmpr</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv420mcpwm_del_comparator19mcpwm_cmpr_handle_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Delete MCPWM comparator. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>cmpr</strong> -- <strong>[in]</strong> MCPWM comparator handle, allocated by <code class="docutils literal notranslate"><span class="pre">mcpwm_new_comparator()</span></code></p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK: Delete MCPWM comparator successfully</p></li>
<li><p>ESP_ERR_INVALID_ARG: Delete MCPWM comparator failed because of invalid argument</p></li>
<li><p>ESP_FAIL: Delete MCPWM comparator failed because of other error </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv441mcpwm_comparator_register_event_callbacks19mcpwm_cmpr_handle_tPK34mcpwm_comparator_event_callbacks_tPv">
<span id="_CPPv341mcpwm_comparator_register_event_callbacks19mcpwm_cmpr_handle_tPK34mcpwm_comparator_event_callbacks_tPv"></span><span id="_CPPv241mcpwm_comparator_register_event_callbacks19mcpwm_cmpr_handle_tPK34mcpwm_comparator_event_callbacks_tPv"></span><span id="mcpwm_comparator_register_event_callbacks__mcpwm_cmpr_handle_t.mcpwm_comparator_event_callbacks_tCP.voidP"></span><span class="target" id="mcpwm__cmpr_8h_1a7b21e9381245682a7eae206869be3750"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_comparator_register_event_callbacks</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv419mcpwm_cmpr_handle_t" title="mcpwm_cmpr_handle_t"><span class="n"><span class="pre">mcpwm_cmpr_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">cmpr</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv434mcpwm_comparator_event_callbacks_t" title="mcpwm_comparator_event_callbacks_t"><span class="n"><span class="pre">mcpwm_comparator_event_callbacks_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">cbs</span></span>, <span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">user_data</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv441mcpwm_comparator_register_event_callbacks19mcpwm_cmpr_handle_tPK34mcpwm_comparator_event_callbacks_tPv" title="Permalink to this definition"></a><br /></dt>
<dd><p>Set event callbacks for MCPWM comparator. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>User can deregister a previously registered callback by calling this function and setting the callback member in the <code class="docutils literal notranslate"><span class="pre">cbs</span></code> structure to NULL.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cmpr</strong> -- <strong>[in]</strong> MCPWM comparator handle, allocated by <code class="docutils literal notranslate"><span class="pre">mcpwm_new_comparator()</span></code></p></li>
<li><p><strong>cbs</strong> -- <strong>[in]</strong> Group of callback functions </p></li>
<li><p><strong>user_data</strong> -- <strong>[in]</strong> User data, which will be passed to callback functions directly </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK: Set event callbacks successfully</p></li>
<li><p>ESP_ERR_INVALID_ARG: Set event callbacks failed because of invalid argument</p></li>
<li><p>ESP_FAIL: Set event callbacks failed because of other error </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv434mcpwm_comparator_set_compare_value19mcpwm_cmpr_handle_t8uint32_t">
<span id="_CPPv334mcpwm_comparator_set_compare_value19mcpwm_cmpr_handle_t8uint32_t"></span><span id="_CPPv234mcpwm_comparator_set_compare_value19mcpwm_cmpr_handle_t8uint32_t"></span><span id="mcpwm_comparator_set_compare_value__mcpwm_cmpr_handle_t.uint32_t"></span><span class="target" id="mcpwm__cmpr_8h_1a67b29c0bf2fa418f20f064fcb8c48c85"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_comparator_set_compare_value</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv419mcpwm_cmpr_handle_t" title="mcpwm_cmpr_handle_t"><span class="n"><span class="pre">mcpwm_cmpr_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">cmpr</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">cmp_ticks</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv434mcpwm_comparator_set_compare_value19mcpwm_cmpr_handle_t8uint32_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Set MCPWM comparator's compare value. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cmpr</strong> -- <strong>[in]</strong> MCPWM comparator handle, allocated by <code class="docutils literal notranslate"><span class="pre">mcpwm_new_comparator()</span></code></p></li>
<li><p><strong>cmp_ticks</strong> -- <strong>[in]</strong> The new compare value </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK: Set MCPWM compare value successfully</p></li>
<li><p>ESP_ERR_INVALID_ARG: Set MCPWM compare value failed because of invalid argument (e.g. the cmp_ticks is out of range)</p></li>
<li><p>ESP_ERR_INVALID_STATE: Set MCPWM compare value failed because the operator doesn't have a timer connected</p></li>
<li><p>ESP_FAIL: Set MCPWM compare value failed because of other error </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="id16">
<h3>Structures<a class="headerlink" href="#id16" title="Permalink to this heading"></a></h3>
<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv425mcpwm_comparator_config_t">
<span id="_CPPv325mcpwm_comparator_config_t"></span><span id="_CPPv225mcpwm_comparator_config_t"></span><span id="mcpwm_comparator_config_t"></span><span class="target" id="structmcpwm__comparator__config__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_comparator_config_t</span></span></span><a class="headerlink" href="#_CPPv425mcpwm_comparator_config_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>MCPWM comparator configuration. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N25mcpwm_comparator_config_t13intr_priorityE">
<span id="_CPPv3N25mcpwm_comparator_config_t13intr_priorityE"></span><span id="_CPPv2N25mcpwm_comparator_config_t13intr_priorityE"></span><span id="mcpwm_comparator_config_t::intr_priority__i"></span><span class="target" id="structmcpwm__comparator__config__t_1ad522725304591ff09e2d0e933a27bcee"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">intr_priority</span></span></span><a class="headerlink" href="#_CPPv4N25mcpwm_comparator_config_t13intr_priorityE" title="Permalink to this definition"></a><br /></dt>
<dd><p>MCPWM comparator interrupt priority, if set to 0, the driver will try to allocate an interrupt with a relative low priority (1,2,3) </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N25mcpwm_comparator_config_t17update_cmp_on_tezE">
<span id="_CPPv3N25mcpwm_comparator_config_t17update_cmp_on_tezE"></span><span id="_CPPv2N25mcpwm_comparator_config_t17update_cmp_on_tezE"></span><span id="mcpwm_comparator_config_t::update_cmp_on_tez__uint32_t"></span><span class="target" id="structmcpwm__comparator__config__t_1ad94ee99b8cd2ddc71d37ef53e9f7a887"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">update_cmp_on_tez</span></span></span><a class="headerlink" href="#_CPPv4N25mcpwm_comparator_config_t17update_cmp_on_tezE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Whether to update compare value when timer count equals to zero (tez) </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N25mcpwm_comparator_config_t17update_cmp_on_tepE">
<span id="_CPPv3N25mcpwm_comparator_config_t17update_cmp_on_tepE"></span><span id="_CPPv2N25mcpwm_comparator_config_t17update_cmp_on_tepE"></span><span id="mcpwm_comparator_config_t::update_cmp_on_tep__uint32_t"></span><span class="target" id="structmcpwm__comparator__config__t_1a8608630dd565774e18b114cc8f0caa2b"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">update_cmp_on_tep</span></span></span><a class="headerlink" href="#_CPPv4N25mcpwm_comparator_config_t17update_cmp_on_tepE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Whether to update compare value when timer count equals to peak (tep) </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N25mcpwm_comparator_config_t18update_cmp_on_syncE">
<span id="_CPPv3N25mcpwm_comparator_config_t18update_cmp_on_syncE"></span><span id="_CPPv2N25mcpwm_comparator_config_t18update_cmp_on_syncE"></span><span id="mcpwm_comparator_config_t::update_cmp_on_sync__uint32_t"></span><span class="target" id="structmcpwm__comparator__config__t_1aedc31ce9e67e6b85c93026da203e0858"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">update_cmp_on_sync</span></span></span><a class="headerlink" href="#_CPPv4N25mcpwm_comparator_config_t18update_cmp_on_syncE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Whether to update compare value on sync event </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N25mcpwm_comparator_config_t5flagsE">
<span id="_CPPv3N25mcpwm_comparator_config_t5flagsE"></span><span id="_CPPv2N25mcpwm_comparator_config_t5flagsE"></span><span id="mcpwm_comparator_config_t::flags__mcpwm_comparator_config_t"></span><span class="target" id="structmcpwm__comparator__config__t_1a50ac090f1ff74d7f63cc251f3db46794"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv425mcpwm_comparator_config_t" title="mcpwm_comparator_config_t"><span class="n"><span class="pre">mcpwm_comparator_config_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">flags</span></span></span><a class="headerlink" href="#_CPPv4N25mcpwm_comparator_config_t5flagsE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Extra configuration flags for comparator </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv434mcpwm_comparator_event_callbacks_t">
<span id="_CPPv334mcpwm_comparator_event_callbacks_t"></span><span id="_CPPv234mcpwm_comparator_event_callbacks_t"></span><span id="mcpwm_comparator_event_callbacks_t"></span><span class="target" id="structmcpwm__comparator__event__callbacks__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_comparator_event_callbacks_t</span></span></span><a class="headerlink" href="#_CPPv434mcpwm_comparator_event_callbacks_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Group of supported MCPWM compare event callbacks. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The callbacks are all running under ISR environment </p>
</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N34mcpwm_comparator_event_callbacks_t8on_reachE">
<span id="_CPPv3N34mcpwm_comparator_event_callbacks_t8on_reachE"></span><span id="_CPPv2N34mcpwm_comparator_event_callbacks_t8on_reachE"></span><span id="mcpwm_comparator_event_callbacks_t::on_reach__mcpwm_compare_event_cb_t"></span><span class="target" id="structmcpwm__comparator__event__callbacks__t_1a6e249ed2c68a7fd9b752b714cf15baea"></span><a class="reference internal" href="#_CPPv424mcpwm_compare_event_cb_t" title="mcpwm_compare_event_cb_t"><span class="n"><span class="pre">mcpwm_compare_event_cb_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">on_reach</span></span></span><a class="headerlink" href="#_CPPv4N34mcpwm_comparator_event_callbacks_t8on_reachE" title="Permalink to this definition"></a><br /></dt>
<dd><p>ISR callback function which would be invoked when counter reaches compare value </p>
</dd></dl>

</div>
</dd></dl>

</section>
<section id="id17">
<h3>Header File<a class="headerlink" href="#id17" title="Permalink to this heading"></a></h3>
<ul>
<li><p><a class="reference external" href="https://github.com/espressif/esp-idf/blob/v5.4.2/components/esp_driver_mcpwm/include/driver/mcpwm_gen.h">components/esp_driver_mcpwm/include/driver/mcpwm_gen.h</a></p></li>
<li><p>This header file can be included with:</p>
<blockquote>
<div><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;driver/mcpwm_gen.h&quot;</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>This header file is a part of the API provided by the <code class="docutils literal notranslate"><span class="pre">esp_driver_mcpwm</span></code> component. To declare that your component depends on <code class="docutils literal notranslate"><span class="pre">esp_driver_mcpwm</span></code>, add the following to your CMakeLists.txt:</p>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>REQUIRES esp_driver_mcpwm
</pre></div>
</div>
<p>or</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>PRIV_REQUIRES esp_driver_mcpwm
</pre></div>
</div>
</div></blockquote>
</li>
</ul>
</section>
<section id="id18">
<h3>Functions<a class="headerlink" href="#id18" title="Permalink to this heading"></a></h3>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv419mcpwm_new_generator19mcpwm_oper_handle_tPK24mcpwm_generator_config_tP18mcpwm_gen_handle_t">
<span id="_CPPv319mcpwm_new_generator19mcpwm_oper_handle_tPK24mcpwm_generator_config_tP18mcpwm_gen_handle_t"></span><span id="_CPPv219mcpwm_new_generator19mcpwm_oper_handle_tPK24mcpwm_generator_config_tP18mcpwm_gen_handle_t"></span><span id="mcpwm_new_generator__mcpwm_oper_handle_t.mcpwm_generator_config_tCP.mcpwm_gen_handle_tP"></span><span class="target" id="mcpwm__gen_8h_1a7bf209f92afe4077ee5a41f236cca535"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_new_generator</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv419mcpwm_oper_handle_t" title="mcpwm_oper_handle_t"><span class="n"><span class="pre">mcpwm_oper_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">oper</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv424mcpwm_generator_config_t" title="mcpwm_generator_config_t"><span class="n"><span class="pre">mcpwm_generator_config_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">config</span></span>, <a class="reference internal" href="#_CPPv418mcpwm_gen_handle_t" title="mcpwm_gen_handle_t"><span class="n"><span class="pre">mcpwm_gen_handle_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ret_gen</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv419mcpwm_new_generator19mcpwm_oper_handle_tPK24mcpwm_generator_config_tP18mcpwm_gen_handle_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Allocate MCPWM generator from given operator. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>oper</strong> -- <strong>[in]</strong> MCPWM operator, allocated by <code class="docutils literal notranslate"><span class="pre">mcpwm_new_operator()</span></code></p></li>
<li><p><strong>config</strong> -- <strong>[in]</strong> MCPWM generator configuration </p></li>
<li><p><strong>ret_gen</strong> -- <strong>[out]</strong> Returned MCPWM generator </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK: Create MCPWM generator successfully</p></li>
<li><p>ESP_ERR_INVALID_ARG: Create MCPWM generator failed because of invalid argument</p></li>
<li><p>ESP_ERR_NO_MEM: Create MCPWM generator failed because out of memory</p></li>
<li><p>ESP_ERR_NOT_FOUND: Create MCPWM generator failed because can't find free resource</p></li>
<li><p>ESP_FAIL: Create MCPWM generator failed because of other error </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv419mcpwm_del_generator18mcpwm_gen_handle_t">
<span id="_CPPv319mcpwm_del_generator18mcpwm_gen_handle_t"></span><span id="_CPPv219mcpwm_del_generator18mcpwm_gen_handle_t"></span><span id="mcpwm_del_generator__mcpwm_gen_handle_t"></span><span class="target" id="mcpwm__gen_8h_1a51c822a38232505ab736a834ecee798e"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_del_generator</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv418mcpwm_gen_handle_t" title="mcpwm_gen_handle_t"><span class="n"><span class="pre">mcpwm_gen_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">gen</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv419mcpwm_del_generator18mcpwm_gen_handle_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Delete MCPWM generator. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>gen</strong> -- <strong>[in]</strong> MCPWM generator handle, allocated by <code class="docutils literal notranslate"><span class="pre">mcpwm_new_generator()</span></code></p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK: Delete MCPWM generator successfully</p></li>
<li><p>ESP_ERR_INVALID_ARG: Delete MCPWM generator failed because of invalid argument</p></li>
<li><p>ESP_FAIL: Delete MCPWM generator failed because of other error </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv431mcpwm_generator_set_force_level18mcpwm_gen_handle_tib">
<span id="_CPPv331mcpwm_generator_set_force_level18mcpwm_gen_handle_tib"></span><span id="_CPPv231mcpwm_generator_set_force_level18mcpwm_gen_handle_tib"></span><span id="mcpwm_generator_set_force_level__mcpwm_gen_handle_t.i.b"></span><span class="target" id="mcpwm__gen_8h_1a67f66420e33c398f6a7b69d7ca89bed8"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_generator_set_force_level</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv418mcpwm_gen_handle_t" title="mcpwm_gen_handle_t"><span class="n"><span class="pre">mcpwm_gen_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">gen</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">level</span></span>, <span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">hold_on</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv431mcpwm_generator_set_force_level18mcpwm_gen_handle_tib" title="Permalink to this definition"></a><br /></dt>
<dd><p>Set force level for MCPWM generator. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The force level will be applied to the generator immediately, regardless any other events that would change the generator's behaviour. </p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the <code class="docutils literal notranslate"><span class="pre">hold_on</span></code> is true, the force level will retain forever, until user removes the force level by setting the force level to <code class="docutils literal notranslate"><span class="pre">-1</span></code>. </p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the <code class="docutils literal notranslate"><span class="pre">hold_on</span></code> is false, the force level can be overridden by the next event action. </p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The force level set by this function can be inverted by GPIO matrix or dead-time module. So the level set here doesn't equal to the final output level.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>gen</strong> -- <strong>[in]</strong> MCPWM generator handle, allocated by <code class="docutils literal notranslate"><span class="pre">mcpwm_new_generator()</span></code></p></li>
<li><p><strong>level</strong> -- <strong>[in]</strong> GPIO level to be applied to MCPWM generator, specially, -1 means to remove the force level </p></li>
<li><p><strong>hold_on</strong> -- <strong>[in]</strong> Whether the forced PWM level should retain (i.e. will remain unchanged until manually remove the force level) </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK: Set force level for MCPWM generator successfully</p></li>
<li><p>ESP_ERR_INVALID_ARG: Set force level for MCPWM generator failed because of invalid argument</p></li>
<li><p>ESP_FAIL: Set force level for MCPWM generator failed because of other error </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv441mcpwm_generator_set_action_on_timer_event18mcpwm_gen_handle_t30mcpwm_gen_timer_event_action_t">
<span id="_CPPv341mcpwm_generator_set_action_on_timer_event18mcpwm_gen_handle_t30mcpwm_gen_timer_event_action_t"></span><span id="_CPPv241mcpwm_generator_set_action_on_timer_event18mcpwm_gen_handle_t30mcpwm_gen_timer_event_action_t"></span><span id="mcpwm_generator_set_action_on_timer_event__mcpwm_gen_handle_t.mcpwm_gen_timer_event_action_t"></span><span class="target" id="mcpwm__gen_8h_1a363192006570320fbaf6a0987ececeb9"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_generator_set_action_on_timer_event</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv418mcpwm_gen_handle_t" title="mcpwm_gen_handle_t"><span class="n"><span class="pre">mcpwm_gen_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">gen</span></span>, <a class="reference internal" href="#_CPPv430mcpwm_gen_timer_event_action_t" title="mcpwm_gen_timer_event_action_t"><span class="n"><span class="pre">mcpwm_gen_timer_event_action_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">ev_act</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv441mcpwm_generator_set_action_on_timer_event18mcpwm_gen_handle_t30mcpwm_gen_timer_event_action_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Set generator action on MCPWM timer event. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>gen</strong> -- <strong>[in]</strong> MCPWM generator handle, allocated by <code class="docutils literal notranslate"><span class="pre">mcpwm_new_generator()</span></code></p></li>
<li><p><strong>ev_act</strong> -- <strong>[in]</strong> MCPWM timer event action, can be constructed by <code class="docutils literal notranslate"><span class="pre">MCPWM_GEN_TIMER_EVENT_ACTION</span></code> helper macro </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK: Set generator action successfully</p></li>
<li><p>ESP_ERR_INVALID_ARG: Set generator action failed because of invalid argument</p></li>
<li><p>ESP_ERR_INVALID_STATE: Set generator action failed because of timer is not connected to operator</p></li>
<li><p>ESP_FAIL: Set generator action failed because of other error </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv442mcpwm_generator_set_actions_on_timer_event18mcpwm_gen_handle_t30mcpwm_gen_timer_event_action_tz">
<span id="_CPPv342mcpwm_generator_set_actions_on_timer_event18mcpwm_gen_handle_t30mcpwm_gen_timer_event_action_tz"></span><span id="_CPPv242mcpwm_generator_set_actions_on_timer_event18mcpwm_gen_handle_t30mcpwm_gen_timer_event_action_tz"></span><span id="mcpwm_generator_set_actions_on_timer_event__mcpwm_gen_handle_t.mcpwm_gen_timer_event_action_t.z"></span><span class="target" id="mcpwm__gen_8h_1a4e6989c6d7791d289780bf5589b9efa9"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_generator_set_actions_on_timer_event</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv418mcpwm_gen_handle_t" title="mcpwm_gen_handle_t"><span class="n"><span class="pre">mcpwm_gen_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">gen</span></span>, <a class="reference internal" href="#_CPPv430mcpwm_gen_timer_event_action_t" title="mcpwm_gen_timer_event_action_t"><span class="n"><span class="pre">mcpwm_gen_timer_event_action_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">ev_act</span></span>, <span class="p"><span class="pre">...</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv442mcpwm_generator_set_actions_on_timer_event18mcpwm_gen_handle_t30mcpwm_gen_timer_event_action_tz" title="Permalink to this definition"></a><br /></dt>
<dd><p>Set generator actions on multiple MCPWM timer events. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This is an aggregation version of <code class="docutils literal notranslate"><span class="pre">mcpwm_generator_set_action_on_timer_event</span></code>, which allows user to set multiple actions in one call.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>gen</strong> -- <strong>[in]</strong> MCPWM generator handle, allocated by <code class="docutils literal notranslate"><span class="pre">mcpwm_new_generator()</span></code></p></li>
<li><p><strong>ev_act</strong> -- <strong>[in]</strong> MCPWM timer event action list, must be terminated by <code class="docutils literal notranslate"><span class="pre">MCPWM_GEN_TIMER_EVENT_ACTION_END()</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK: Set generator actions successfully</p></li>
<li><p>ESP_ERR_INVALID_ARG: Set generator actions failed because of invalid argument</p></li>
<li><p>ESP_ERR_INVALID_STATE: Set generator actions failed because of timer is not connected to operator</p></li>
<li><p>ESP_FAIL: Set generator actions failed because of other error </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv443mcpwm_generator_set_action_on_compare_event18mcpwm_gen_handle_t32mcpwm_gen_compare_event_action_t">
<span id="_CPPv343mcpwm_generator_set_action_on_compare_event18mcpwm_gen_handle_t32mcpwm_gen_compare_event_action_t"></span><span id="_CPPv243mcpwm_generator_set_action_on_compare_event18mcpwm_gen_handle_t32mcpwm_gen_compare_event_action_t"></span><span id="mcpwm_generator_set_action_on_compare_event__mcpwm_gen_handle_t.mcpwm_gen_compare_event_action_t"></span><span class="target" id="mcpwm__gen_8h_1a31e0e602f4e3bd30b71347afc927a29c"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_generator_set_action_on_compare_event</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv418mcpwm_gen_handle_t" title="mcpwm_gen_handle_t"><span class="n"><span class="pre">mcpwm_gen_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">generator</span></span>, <a class="reference internal" href="#_CPPv432mcpwm_gen_compare_event_action_t" title="mcpwm_gen_compare_event_action_t"><span class="n"><span class="pre">mcpwm_gen_compare_event_action_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">ev_act</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv443mcpwm_generator_set_action_on_compare_event18mcpwm_gen_handle_t32mcpwm_gen_compare_event_action_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Set generator action on MCPWM compare event. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>generator</strong> -- <strong>[in]</strong> MCPWM generator handle, allocated by <code class="docutils literal notranslate"><span class="pre">mcpwm_new_generator()</span></code></p></li>
<li><p><strong>ev_act</strong> -- <strong>[in]</strong> MCPWM compare event action, can be constructed by <code class="docutils literal notranslate"><span class="pre">MCPWM_GEN_COMPARE_EVENT_ACTION</span></code> helper macro </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK: Set generator action successfully</p></li>
<li><p>ESP_ERR_INVALID_ARG: Set generator action failed because of invalid argument</p></li>
<li><p>ESP_FAIL: Set generator action failed because of other error </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv444mcpwm_generator_set_actions_on_compare_event18mcpwm_gen_handle_t32mcpwm_gen_compare_event_action_tz">
<span id="_CPPv344mcpwm_generator_set_actions_on_compare_event18mcpwm_gen_handle_t32mcpwm_gen_compare_event_action_tz"></span><span id="_CPPv244mcpwm_generator_set_actions_on_compare_event18mcpwm_gen_handle_t32mcpwm_gen_compare_event_action_tz"></span><span id="mcpwm_generator_set_actions_on_compare_event__mcpwm_gen_handle_t.mcpwm_gen_compare_event_action_t.z"></span><span class="target" id="mcpwm__gen_8h_1a2d173bc7922a3e4ae8fbadad7c7701cf"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_generator_set_actions_on_compare_event</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv418mcpwm_gen_handle_t" title="mcpwm_gen_handle_t"><span class="n"><span class="pre">mcpwm_gen_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">generator</span></span>, <a class="reference internal" href="#_CPPv432mcpwm_gen_compare_event_action_t" title="mcpwm_gen_compare_event_action_t"><span class="n"><span class="pre">mcpwm_gen_compare_event_action_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">ev_act</span></span>, <span class="p"><span class="pre">...</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv444mcpwm_generator_set_actions_on_compare_event18mcpwm_gen_handle_t32mcpwm_gen_compare_event_action_tz" title="Permalink to this definition"></a><br /></dt>
<dd><p>Set generator actions on multiple MCPWM compare events. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This is an aggregation version of <code class="docutils literal notranslate"><span class="pre">mcpwm_generator_set_action_on_compare_event</span></code>, which allows user to set multiple actions in one call.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>generator</strong> -- <strong>[in]</strong> MCPWM generator handle, allocated by <code class="docutils literal notranslate"><span class="pre">mcpwm_new_generator()</span></code></p></li>
<li><p><strong>ev_act</strong> -- <strong>[in]</strong> MCPWM compare event action list, must be terminated by <code class="docutils literal notranslate"><span class="pre">MCPWM_GEN_COMPARE_EVENT_ACTION_END()</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK: Set generator actions successfully</p></li>
<li><p>ESP_ERR_INVALID_ARG: Set generator actions failed because of invalid argument</p></li>
<li><p>ESP_FAIL: Set generator actions failed because of other error </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv441mcpwm_generator_set_action_on_brake_event18mcpwm_gen_handle_t30mcpwm_gen_brake_event_action_t">
<span id="_CPPv341mcpwm_generator_set_action_on_brake_event18mcpwm_gen_handle_t30mcpwm_gen_brake_event_action_t"></span><span id="_CPPv241mcpwm_generator_set_action_on_brake_event18mcpwm_gen_handle_t30mcpwm_gen_brake_event_action_t"></span><span id="mcpwm_generator_set_action_on_brake_event__mcpwm_gen_handle_t.mcpwm_gen_brake_event_action_t"></span><span class="target" id="mcpwm__gen_8h_1afaedece4a9d5fa4aea9aa64f1e1f4f9d"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_generator_set_action_on_brake_event</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv418mcpwm_gen_handle_t" title="mcpwm_gen_handle_t"><span class="n"><span class="pre">mcpwm_gen_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">generator</span></span>, <a class="reference internal" href="#_CPPv430mcpwm_gen_brake_event_action_t" title="mcpwm_gen_brake_event_action_t"><span class="n"><span class="pre">mcpwm_gen_brake_event_action_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">ev_act</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv441mcpwm_generator_set_action_on_brake_event18mcpwm_gen_handle_t30mcpwm_gen_brake_event_action_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Set generator action on MCPWM brake event. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>generator</strong> -- <strong>[in]</strong> MCPWM generator handle, allocated by <code class="docutils literal notranslate"><span class="pre">mcpwm_new_generator()</span></code></p></li>
<li><p><strong>ev_act</strong> -- <strong>[in]</strong> MCPWM brake event action, can be constructed by <code class="docutils literal notranslate"><span class="pre">MCPWM_GEN_BRAKE_EVENT_ACTION</span></code> helper macro </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK: Set generator action successfully</p></li>
<li><p>ESP_ERR_INVALID_ARG: Set generator action failed because of invalid argument</p></li>
<li><p>ESP_FAIL: Set generator action failed because of other error </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv442mcpwm_generator_set_actions_on_brake_event18mcpwm_gen_handle_t30mcpwm_gen_brake_event_action_tz">
<span id="_CPPv342mcpwm_generator_set_actions_on_brake_event18mcpwm_gen_handle_t30mcpwm_gen_brake_event_action_tz"></span><span id="_CPPv242mcpwm_generator_set_actions_on_brake_event18mcpwm_gen_handle_t30mcpwm_gen_brake_event_action_tz"></span><span id="mcpwm_generator_set_actions_on_brake_event__mcpwm_gen_handle_t.mcpwm_gen_brake_event_action_t.z"></span><span class="target" id="mcpwm__gen_8h_1a77c5a448be89085ea613fdb05ba17f89"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_generator_set_actions_on_brake_event</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv418mcpwm_gen_handle_t" title="mcpwm_gen_handle_t"><span class="n"><span class="pre">mcpwm_gen_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">generator</span></span>, <a class="reference internal" href="#_CPPv430mcpwm_gen_brake_event_action_t" title="mcpwm_gen_brake_event_action_t"><span class="n"><span class="pre">mcpwm_gen_brake_event_action_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">ev_act</span></span>, <span class="p"><span class="pre">...</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv442mcpwm_generator_set_actions_on_brake_event18mcpwm_gen_handle_t30mcpwm_gen_brake_event_action_tz" title="Permalink to this definition"></a><br /></dt>
<dd><p>Set generator actions on multiple MCPWM brake events. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This is an aggregation version of <code class="docutils literal notranslate"><span class="pre">mcpwm_generator_set_action_on_brake_event</span></code>, which allows user to set multiple actions in one call.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>generator</strong> -- <strong>[in]</strong> MCPWM generator handle, allocated by <code class="docutils literal notranslate"><span class="pre">mcpwm_new_generator()</span></code></p></li>
<li><p><strong>ev_act</strong> -- <strong>[in]</strong> MCPWM brake event action list, must be terminated by <code class="docutils literal notranslate"><span class="pre">MCPWM_GEN_BRAKE_EVENT_ACTION_END()</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK: Set generator actions successfully</p></li>
<li><p>ESP_ERR_INVALID_ARG: Set generator actions failed because of invalid argument</p></li>
<li><p>ESP_FAIL: Set generator actions failed because of other error </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv441mcpwm_generator_set_action_on_fault_event18mcpwm_gen_handle_t30mcpwm_gen_fault_event_action_t">
<span id="_CPPv341mcpwm_generator_set_action_on_fault_event18mcpwm_gen_handle_t30mcpwm_gen_fault_event_action_t"></span><span id="_CPPv241mcpwm_generator_set_action_on_fault_event18mcpwm_gen_handle_t30mcpwm_gen_fault_event_action_t"></span><span id="mcpwm_generator_set_action_on_fault_event__mcpwm_gen_handle_t.mcpwm_gen_fault_event_action_t"></span><span class="target" id="mcpwm__gen_8h_1ae086463665cfadce99a4b344dcb67b53"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_generator_set_action_on_fault_event</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv418mcpwm_gen_handle_t" title="mcpwm_gen_handle_t"><span class="n"><span class="pre">mcpwm_gen_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">generator</span></span>, <a class="reference internal" href="#_CPPv430mcpwm_gen_fault_event_action_t" title="mcpwm_gen_fault_event_action_t"><span class="n"><span class="pre">mcpwm_gen_fault_event_action_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">ev_act</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv441mcpwm_generator_set_action_on_fault_event18mcpwm_gen_handle_t30mcpwm_gen_fault_event_action_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Set generator action on MCPWM Fault event. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>generator</strong> -- <strong>[in]</strong> MCPWM generator handle, allocated by <code class="docutils literal notranslate"><span class="pre">mcpwm_new_generator()</span></code></p></li>
<li><p><strong>ev_act</strong> -- <strong>[in]</strong> MCPWM trigger event action, can be constructed by <code class="docutils literal notranslate"><span class="pre">MCPWM_GEN_FAULT_EVENT_ACTION</span></code> helper macro </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK: Set generator action successfully</p></li>
<li><p>ESP_ERR_INVALID_ARG: Set generator action failed because of invalid argument</p></li>
<li><p>ESP_FAIL: Set generator action failed because of other error </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv440mcpwm_generator_set_action_on_sync_event18mcpwm_gen_handle_t29mcpwm_gen_sync_event_action_t">
<span id="_CPPv340mcpwm_generator_set_action_on_sync_event18mcpwm_gen_handle_t29mcpwm_gen_sync_event_action_t"></span><span id="_CPPv240mcpwm_generator_set_action_on_sync_event18mcpwm_gen_handle_t29mcpwm_gen_sync_event_action_t"></span><span id="mcpwm_generator_set_action_on_sync_event__mcpwm_gen_handle_t.mcpwm_gen_sync_event_action_t"></span><span class="target" id="mcpwm__gen_8h_1a39eea3b4096f12f0e0de3db7f743b200"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_generator_set_action_on_sync_event</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv418mcpwm_gen_handle_t" title="mcpwm_gen_handle_t"><span class="n"><span class="pre">mcpwm_gen_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">generator</span></span>, <a class="reference internal" href="#_CPPv429mcpwm_gen_sync_event_action_t" title="mcpwm_gen_sync_event_action_t"><span class="n"><span class="pre">mcpwm_gen_sync_event_action_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">ev_act</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv440mcpwm_generator_set_action_on_sync_event18mcpwm_gen_handle_t29mcpwm_gen_sync_event_action_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Set generator action on MCPWM Sync event. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The trigger only support one sync action, regardless of the kinds. Should not call this function more than once.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>generator</strong> -- <strong>[in]</strong> MCPWM generator handle, allocated by <code class="docutils literal notranslate"><span class="pre">mcpwm_new_generator()</span></code></p></li>
<li><p><strong>ev_act</strong> -- <strong>[in]</strong> MCPWM trigger event action, can be constructed by <code class="docutils literal notranslate"><span class="pre">MCPWM_GEN_SYNC_EVENT_ACTION</span></code> helper macro </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK: Set generator action successfully</p></li>
<li><p>ESP_ERR_INVALID_ARG: Set generator action failed because of invalid argument</p></li>
<li><p>ESP_FAIL: Set generator action failed because of other error </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv429mcpwm_generator_set_dead_time18mcpwm_gen_handle_t18mcpwm_gen_handle_tPK24mcpwm_dead_time_config_t">
<span id="_CPPv329mcpwm_generator_set_dead_time18mcpwm_gen_handle_t18mcpwm_gen_handle_tPK24mcpwm_dead_time_config_t"></span><span id="_CPPv229mcpwm_generator_set_dead_time18mcpwm_gen_handle_t18mcpwm_gen_handle_tPK24mcpwm_dead_time_config_t"></span><span id="mcpwm_generator_set_dead_time__mcpwm_gen_handle_t.mcpwm_gen_handle_t.mcpwm_dead_time_config_tCP"></span><span class="target" id="mcpwm__gen_8h_1a52daa0f93ff611467c4f73985be59b16"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_generator_set_dead_time</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv418mcpwm_gen_handle_t" title="mcpwm_gen_handle_t"><span class="n"><span class="pre">mcpwm_gen_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">in_generator</span></span>, <a class="reference internal" href="#_CPPv418mcpwm_gen_handle_t" title="mcpwm_gen_handle_t"><span class="n"><span class="pre">mcpwm_gen_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">out_generator</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv424mcpwm_dead_time_config_t" title="mcpwm_dead_time_config_t"><span class="n"><span class="pre">mcpwm_dead_time_config_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">config</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv429mcpwm_generator_set_dead_time18mcpwm_gen_handle_t18mcpwm_gen_handle_tPK24mcpwm_dead_time_config_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Set dead time for MCPWM generator. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Due to a hardware limitation, you can't set rising edge delay for both MCPWM generator 0 and 1 at the same time, otherwise, there will be a conflict inside the dead time module. The same goes for the falling edge setting. But you can set both the rising edge and falling edge delay for the same MCPWM generator.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>in_generator</strong> -- <strong>[in]</strong> MCPWM generator, before adding the dead time </p></li>
<li><p><strong>out_generator</strong> -- <strong>[in]</strong> MCPWM generator, after adding the dead time </p></li>
<li><p><strong>config</strong> -- <strong>[in]</strong> MCPWM dead time configuration </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK: Set dead time for MCPWM generator successfully</p></li>
<li><p>ESP_ERR_INVALID_ARG: Set dead time for MCPWM generator failed because of invalid argument</p></li>
<li><p>ESP_ERR_INVALID_STATE: Set dead time for MCPWM generator failed because of invalid state (e.g. delay module is already in use by other generator)</p></li>
<li><p>ESP_FAIL: Set dead time for MCPWM generator failed because of other error </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="id19">
<h3>Structures<a class="headerlink" href="#id19" title="Permalink to this heading"></a></h3>
<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv424mcpwm_generator_config_t">
<span id="_CPPv324mcpwm_generator_config_t"></span><span id="_CPPv224mcpwm_generator_config_t"></span><span id="mcpwm_generator_config_t"></span><span class="target" id="structmcpwm__generator__config__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_generator_config_t</span></span></span><a class="headerlink" href="#_CPPv424mcpwm_generator_config_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>MCPWM generator configuration. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24mcpwm_generator_config_t12gen_gpio_numE">
<span id="_CPPv3N24mcpwm_generator_config_t12gen_gpio_numE"></span><span id="_CPPv2N24mcpwm_generator_config_t12gen_gpio_numE"></span><span id="mcpwm_generator_config_t::gen_gpio_num__i"></span><span class="target" id="structmcpwm__generator__config__t_1ac83a606999df31611225550a45a7d7f8"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">gen_gpio_num</span></span></span><a class="headerlink" href="#_CPPv4N24mcpwm_generator_config_t12gen_gpio_numE" title="Permalink to this definition"></a><br /></dt>
<dd><p>The GPIO number used to output the PWM signal </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24mcpwm_generator_config_t10invert_pwmE">
<span id="_CPPv3N24mcpwm_generator_config_t10invert_pwmE"></span><span id="_CPPv2N24mcpwm_generator_config_t10invert_pwmE"></span><span id="mcpwm_generator_config_t::invert_pwm__uint32_t"></span><span class="target" id="structmcpwm__generator__config__t_1a44a5f3ea566b8d8dd98a78e69b642d6f"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">invert_pwm</span></span></span><a class="headerlink" href="#_CPPv4N24mcpwm_generator_config_t10invert_pwmE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Whether to invert the PWM signal (done by GPIO matrix) </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24mcpwm_generator_config_t12io_loop_backE">
<span id="_CPPv3N24mcpwm_generator_config_t12io_loop_backE"></span><span id="_CPPv2N24mcpwm_generator_config_t12io_loop_backE"></span><span id="mcpwm_generator_config_t::io_loop_back__uint32_t"></span><span class="target" id="structmcpwm__generator__config__t_1aea532fa4a3a8d0109700d6e1648f7b84"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">io_loop_back</span></span></span><a class="headerlink" href="#_CPPv4N24mcpwm_generator_config_t12io_loop_backE" title="Permalink to this definition"></a><br /></dt>
<dd><p>For debug/test, the signal output from the GPIO will be fed to the input path as well </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24mcpwm_generator_config_t10io_od_modeE">
<span id="_CPPv3N24mcpwm_generator_config_t10io_od_modeE"></span><span id="_CPPv2N24mcpwm_generator_config_t10io_od_modeE"></span><span id="mcpwm_generator_config_t::io_od_mode__uint32_t"></span><span class="target" id="structmcpwm__generator__config__t_1a8f0ea785352ce9862a8427fa78f524dc"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">io_od_mode</span></span></span><a class="headerlink" href="#_CPPv4N24mcpwm_generator_config_t10io_od_modeE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Configure the GPIO as open-drain mode </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24mcpwm_generator_config_t7pull_upE">
<span id="_CPPv3N24mcpwm_generator_config_t7pull_upE"></span><span id="_CPPv2N24mcpwm_generator_config_t7pull_upE"></span><span id="mcpwm_generator_config_t::pull_up__uint32_t"></span><span class="target" id="structmcpwm__generator__config__t_1a2ce40e35605f84a2045d506136ef2e69"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">pull_up</span></span></span><a class="headerlink" href="#_CPPv4N24mcpwm_generator_config_t7pull_upE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Whether to pull up internally </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24mcpwm_generator_config_t9pull_downE">
<span id="_CPPv3N24mcpwm_generator_config_t9pull_downE"></span><span id="_CPPv2N24mcpwm_generator_config_t9pull_downE"></span><span id="mcpwm_generator_config_t::pull_down__uint32_t"></span><span class="target" id="structmcpwm__generator__config__t_1ad85c142d1abb1bae006ec48419002a00"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">pull_down</span></span></span><a class="headerlink" href="#_CPPv4N24mcpwm_generator_config_t9pull_downE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Whether to pull down internally </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24mcpwm_generator_config_t5flagsE">
<span id="_CPPv3N24mcpwm_generator_config_t5flagsE"></span><span id="_CPPv2N24mcpwm_generator_config_t5flagsE"></span><span id="mcpwm_generator_config_t::flags__mcpwm_generator_config_t"></span><span class="target" id="structmcpwm__generator__config__t_1a7c2703bc3fc397fb79e4bf855ec59aa6"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv424mcpwm_generator_config_t" title="mcpwm_generator_config_t"><span class="n"><span class="pre">mcpwm_generator_config_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">flags</span></span></span><a class="headerlink" href="#_CPPv4N24mcpwm_generator_config_t5flagsE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Extra configuration flags for generator </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv430mcpwm_gen_timer_event_action_t">
<span id="_CPPv330mcpwm_gen_timer_event_action_t"></span><span id="_CPPv230mcpwm_gen_timer_event_action_t"></span><span id="mcpwm_gen_timer_event_action_t"></span><span class="target" id="structmcpwm__gen__timer__event__action__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_gen_timer_event_action_t</span></span></span><a class="headerlink" href="#_CPPv430mcpwm_gen_timer_event_action_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Generator action on specific timer event. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N30mcpwm_gen_timer_event_action_t9directionE">
<span id="_CPPv3N30mcpwm_gen_timer_event_action_t9directionE"></span><span id="_CPPv2N30mcpwm_gen_timer_event_action_t9directionE"></span><span id="mcpwm_gen_timer_event_action_t::direction__mcpwm_timer_direction_t"></span><span class="target" id="structmcpwm__gen__timer__event__action__t_1ab0e759787b5a253c86078f65931ed832"></span><a class="reference internal" href="#_CPPv423mcpwm_timer_direction_t" title="mcpwm_timer_direction_t"><span class="n"><span class="pre">mcpwm_timer_direction_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">direction</span></span></span><a class="headerlink" href="#_CPPv4N30mcpwm_gen_timer_event_action_t9directionE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Timer direction </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N30mcpwm_gen_timer_event_action_t5eventE">
<span id="_CPPv3N30mcpwm_gen_timer_event_action_t5eventE"></span><span id="_CPPv2N30mcpwm_gen_timer_event_action_t5eventE"></span><span id="mcpwm_gen_timer_event_action_t::event__mcpwm_timer_event_t"></span><span class="target" id="structmcpwm__gen__timer__event__action__t_1a3e9bc7e4c55684728cf4565026bb43a8"></span><a class="reference internal" href="#_CPPv419mcpwm_timer_event_t" title="mcpwm_timer_event_t"><span class="n"><span class="pre">mcpwm_timer_event_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">event</span></span></span><a class="headerlink" href="#_CPPv4N30mcpwm_gen_timer_event_action_t5eventE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Timer event </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N30mcpwm_gen_timer_event_action_t6actionE">
<span id="_CPPv3N30mcpwm_gen_timer_event_action_t6actionE"></span><span id="_CPPv2N30mcpwm_gen_timer_event_action_t6actionE"></span><span id="mcpwm_gen_timer_event_action_t::action__mcpwm_generator_action_t"></span><span class="target" id="structmcpwm__gen__timer__event__action__t_1af386ca001e49ff60ca8729337ec2c31e"></span><a class="reference internal" href="#_CPPv424mcpwm_generator_action_t" title="mcpwm_generator_action_t"><span class="n"><span class="pre">mcpwm_generator_action_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">action</span></span></span><a class="headerlink" href="#_CPPv4N30mcpwm_gen_timer_event_action_t6actionE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Generator action should perform </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv432mcpwm_gen_compare_event_action_t">
<span id="_CPPv332mcpwm_gen_compare_event_action_t"></span><span id="_CPPv232mcpwm_gen_compare_event_action_t"></span><span id="mcpwm_gen_compare_event_action_t"></span><span class="target" id="structmcpwm__gen__compare__event__action__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_gen_compare_event_action_t</span></span></span><a class="headerlink" href="#_CPPv432mcpwm_gen_compare_event_action_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Generator action on specific comparator event. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N32mcpwm_gen_compare_event_action_t9directionE">
<span id="_CPPv3N32mcpwm_gen_compare_event_action_t9directionE"></span><span id="_CPPv2N32mcpwm_gen_compare_event_action_t9directionE"></span><span id="mcpwm_gen_compare_event_action_t::direction__mcpwm_timer_direction_t"></span><span class="target" id="structmcpwm__gen__compare__event__action__t_1ab6f9f51ec14d349f479a84219f05c125"></span><a class="reference internal" href="#_CPPv423mcpwm_timer_direction_t" title="mcpwm_timer_direction_t"><span class="n"><span class="pre">mcpwm_timer_direction_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">direction</span></span></span><a class="headerlink" href="#_CPPv4N32mcpwm_gen_compare_event_action_t9directionE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Timer direction </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N32mcpwm_gen_compare_event_action_t10comparatorE">
<span id="_CPPv3N32mcpwm_gen_compare_event_action_t10comparatorE"></span><span id="_CPPv2N32mcpwm_gen_compare_event_action_t10comparatorE"></span><span id="mcpwm_gen_compare_event_action_t::comparator__mcpwm_cmpr_handle_t"></span><span class="target" id="structmcpwm__gen__compare__event__action__t_1aae0d11e7f0bc55d51847f053fe7f044b"></span><a class="reference internal" href="#_CPPv419mcpwm_cmpr_handle_t" title="mcpwm_cmpr_handle_t"><span class="n"><span class="pre">mcpwm_cmpr_handle_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">comparator</span></span></span><a class="headerlink" href="#_CPPv4N32mcpwm_gen_compare_event_action_t10comparatorE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Comparator handle </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N32mcpwm_gen_compare_event_action_t6actionE">
<span id="_CPPv3N32mcpwm_gen_compare_event_action_t6actionE"></span><span id="_CPPv2N32mcpwm_gen_compare_event_action_t6actionE"></span><span id="mcpwm_gen_compare_event_action_t::action__mcpwm_generator_action_t"></span><span class="target" id="structmcpwm__gen__compare__event__action__t_1ada37f76c6d2cc5da482ca09772043a40"></span><a class="reference internal" href="#_CPPv424mcpwm_generator_action_t" title="mcpwm_generator_action_t"><span class="n"><span class="pre">mcpwm_generator_action_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">action</span></span></span><a class="headerlink" href="#_CPPv4N32mcpwm_gen_compare_event_action_t6actionE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Generator action should perform </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv430mcpwm_gen_brake_event_action_t">
<span id="_CPPv330mcpwm_gen_brake_event_action_t"></span><span id="_CPPv230mcpwm_gen_brake_event_action_t"></span><span id="mcpwm_gen_brake_event_action_t"></span><span class="target" id="structmcpwm__gen__brake__event__action__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_gen_brake_event_action_t</span></span></span><a class="headerlink" href="#_CPPv430mcpwm_gen_brake_event_action_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Generator action on specific brake event. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N30mcpwm_gen_brake_event_action_t9directionE">
<span id="_CPPv3N30mcpwm_gen_brake_event_action_t9directionE"></span><span id="_CPPv2N30mcpwm_gen_brake_event_action_t9directionE"></span><span id="mcpwm_gen_brake_event_action_t::direction__mcpwm_timer_direction_t"></span><span class="target" id="structmcpwm__gen__brake__event__action__t_1a4dd97be540daaf57b69ef6280351ff56"></span><a class="reference internal" href="#_CPPv423mcpwm_timer_direction_t" title="mcpwm_timer_direction_t"><span class="n"><span class="pre">mcpwm_timer_direction_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">direction</span></span></span><a class="headerlink" href="#_CPPv4N30mcpwm_gen_brake_event_action_t9directionE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Timer direction </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N30mcpwm_gen_brake_event_action_t10brake_modeE">
<span id="_CPPv3N30mcpwm_gen_brake_event_action_t10brake_modeE"></span><span id="_CPPv2N30mcpwm_gen_brake_event_action_t10brake_modeE"></span><span id="mcpwm_gen_brake_event_action_t::brake_mode__mcpwm_operator_brake_mode_t"></span><span class="target" id="structmcpwm__gen__brake__event__action__t_1a32c357b436feaac0c683057a9a4f9669"></span><a class="reference internal" href="#_CPPv427mcpwm_operator_brake_mode_t" title="mcpwm_operator_brake_mode_t"><span class="n"><span class="pre">mcpwm_operator_brake_mode_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">brake_mode</span></span></span><a class="headerlink" href="#_CPPv4N30mcpwm_gen_brake_event_action_t10brake_modeE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Brake mode </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N30mcpwm_gen_brake_event_action_t6actionE">
<span id="_CPPv3N30mcpwm_gen_brake_event_action_t6actionE"></span><span id="_CPPv2N30mcpwm_gen_brake_event_action_t6actionE"></span><span id="mcpwm_gen_brake_event_action_t::action__mcpwm_generator_action_t"></span><span class="target" id="structmcpwm__gen__brake__event__action__t_1a69f3fc813d9bcbb36ec73c649b2813fa"></span><a class="reference internal" href="#_CPPv424mcpwm_generator_action_t" title="mcpwm_generator_action_t"><span class="n"><span class="pre">mcpwm_generator_action_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">action</span></span></span><a class="headerlink" href="#_CPPv4N30mcpwm_gen_brake_event_action_t6actionE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Generator action should perform </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv430mcpwm_gen_fault_event_action_t">
<span id="_CPPv330mcpwm_gen_fault_event_action_t"></span><span id="_CPPv230mcpwm_gen_fault_event_action_t"></span><span id="mcpwm_gen_fault_event_action_t"></span><span class="target" id="structmcpwm__gen__fault__event__action__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_gen_fault_event_action_t</span></span></span><a class="headerlink" href="#_CPPv430mcpwm_gen_fault_event_action_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Generator action on specific fault event. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N30mcpwm_gen_fault_event_action_t9directionE">
<span id="_CPPv3N30mcpwm_gen_fault_event_action_t9directionE"></span><span id="_CPPv2N30mcpwm_gen_fault_event_action_t9directionE"></span><span id="mcpwm_gen_fault_event_action_t::direction__mcpwm_timer_direction_t"></span><span class="target" id="structmcpwm__gen__fault__event__action__t_1a050f88f8e8e2db7a985ec9f2a9487c63"></span><a class="reference internal" href="#_CPPv423mcpwm_timer_direction_t" title="mcpwm_timer_direction_t"><span class="n"><span class="pre">mcpwm_timer_direction_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">direction</span></span></span><a class="headerlink" href="#_CPPv4N30mcpwm_gen_fault_event_action_t9directionE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Timer direction </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N30mcpwm_gen_fault_event_action_t5faultE">
<span id="_CPPv3N30mcpwm_gen_fault_event_action_t5faultE"></span><span id="_CPPv2N30mcpwm_gen_fault_event_action_t5faultE"></span><span id="mcpwm_gen_fault_event_action_t::fault__mcpwm_fault_handle_t"></span><span class="target" id="structmcpwm__gen__fault__event__action__t_1a07e428a7a249fe0733387a51f2cd2312"></span><a class="reference internal" href="#_CPPv420mcpwm_fault_handle_t" title="mcpwm_fault_handle_t"><span class="n"><span class="pre">mcpwm_fault_handle_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">fault</span></span></span><a class="headerlink" href="#_CPPv4N30mcpwm_gen_fault_event_action_t5faultE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Which fault as the trigger. Only support GPIO fault </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N30mcpwm_gen_fault_event_action_t6actionE">
<span id="_CPPv3N30mcpwm_gen_fault_event_action_t6actionE"></span><span id="_CPPv2N30mcpwm_gen_fault_event_action_t6actionE"></span><span id="mcpwm_gen_fault_event_action_t::action__mcpwm_generator_action_t"></span><span class="target" id="structmcpwm__gen__fault__event__action__t_1a6dd260ababf1c5a45c8c373d596444d3"></span><a class="reference internal" href="#_CPPv424mcpwm_generator_action_t" title="mcpwm_generator_action_t"><span class="n"><span class="pre">mcpwm_generator_action_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">action</span></span></span><a class="headerlink" href="#_CPPv4N30mcpwm_gen_fault_event_action_t6actionE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Generator action should perform </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv429mcpwm_gen_sync_event_action_t">
<span id="_CPPv329mcpwm_gen_sync_event_action_t"></span><span id="_CPPv229mcpwm_gen_sync_event_action_t"></span><span id="mcpwm_gen_sync_event_action_t"></span><span class="target" id="structmcpwm__gen__sync__event__action__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_gen_sync_event_action_t</span></span></span><a class="headerlink" href="#_CPPv429mcpwm_gen_sync_event_action_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Generator action on specific sync event. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N29mcpwm_gen_sync_event_action_t9directionE">
<span id="_CPPv3N29mcpwm_gen_sync_event_action_t9directionE"></span><span id="_CPPv2N29mcpwm_gen_sync_event_action_t9directionE"></span><span id="mcpwm_gen_sync_event_action_t::direction__mcpwm_timer_direction_t"></span><span class="target" id="structmcpwm__gen__sync__event__action__t_1ab81337baed2d666d653be94e51d01cab"></span><a class="reference internal" href="#_CPPv423mcpwm_timer_direction_t" title="mcpwm_timer_direction_t"><span class="n"><span class="pre">mcpwm_timer_direction_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">direction</span></span></span><a class="headerlink" href="#_CPPv4N29mcpwm_gen_sync_event_action_t9directionE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Timer direction </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N29mcpwm_gen_sync_event_action_t4syncE">
<span id="_CPPv3N29mcpwm_gen_sync_event_action_t4syncE"></span><span id="_CPPv2N29mcpwm_gen_sync_event_action_t4syncE"></span><span id="mcpwm_gen_sync_event_action_t::sync__mcpwm_sync_handle_t"></span><span class="target" id="structmcpwm__gen__sync__event__action__t_1a2df95604e57a355f5d294e44b77d6597"></span><a class="reference internal" href="#_CPPv419mcpwm_sync_handle_t" title="mcpwm_sync_handle_t"><span class="n"><span class="pre">mcpwm_sync_handle_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">sync</span></span></span><a class="headerlink" href="#_CPPv4N29mcpwm_gen_sync_event_action_t4syncE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Which sync as the trigger </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N29mcpwm_gen_sync_event_action_t6actionE">
<span id="_CPPv3N29mcpwm_gen_sync_event_action_t6actionE"></span><span id="_CPPv2N29mcpwm_gen_sync_event_action_t6actionE"></span><span id="mcpwm_gen_sync_event_action_t::action__mcpwm_generator_action_t"></span><span class="target" id="structmcpwm__gen__sync__event__action__t_1a9752000f7978a390aeac0f8b7c870a78"></span><a class="reference internal" href="#_CPPv424mcpwm_generator_action_t" title="mcpwm_generator_action_t"><span class="n"><span class="pre">mcpwm_generator_action_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">action</span></span></span><a class="headerlink" href="#_CPPv4N29mcpwm_gen_sync_event_action_t6actionE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Generator action should perform </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv424mcpwm_dead_time_config_t">
<span id="_CPPv324mcpwm_dead_time_config_t"></span><span id="_CPPv224mcpwm_dead_time_config_t"></span><span id="mcpwm_dead_time_config_t"></span><span class="target" id="structmcpwm__dead__time__config__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_dead_time_config_t</span></span></span><a class="headerlink" href="#_CPPv424mcpwm_dead_time_config_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>MCPWM dead time configuration structure. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24mcpwm_dead_time_config_t19posedge_delay_ticksE">
<span id="_CPPv3N24mcpwm_dead_time_config_t19posedge_delay_ticksE"></span><span id="_CPPv2N24mcpwm_dead_time_config_t19posedge_delay_ticksE"></span><span id="mcpwm_dead_time_config_t::posedge_delay_ticks__uint32_t"></span><span class="target" id="structmcpwm__dead__time__config__t_1a419163fce0beac066fa033070cff2dc0"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">posedge_delay_ticks</span></span></span><a class="headerlink" href="#_CPPv4N24mcpwm_dead_time_config_t19posedge_delay_ticksE" title="Permalink to this definition"></a><br /></dt>
<dd><p>delay time applied to rising edge, 0 means no rising delay time </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24mcpwm_dead_time_config_t19negedge_delay_ticksE">
<span id="_CPPv3N24mcpwm_dead_time_config_t19negedge_delay_ticksE"></span><span id="_CPPv2N24mcpwm_dead_time_config_t19negedge_delay_ticksE"></span><span id="mcpwm_dead_time_config_t::negedge_delay_ticks__uint32_t"></span><span class="target" id="structmcpwm__dead__time__config__t_1a738f081ac87dacfdfbe6b058e3d4144e"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">negedge_delay_ticks</span></span></span><a class="headerlink" href="#_CPPv4N24mcpwm_dead_time_config_t19negedge_delay_ticksE" title="Permalink to this definition"></a><br /></dt>
<dd><p>delay time applied to falling edge, 0 means no falling delay time </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24mcpwm_dead_time_config_t13invert_outputE">
<span id="_CPPv3N24mcpwm_dead_time_config_t13invert_outputE"></span><span id="_CPPv2N24mcpwm_dead_time_config_t13invert_outputE"></span><span id="mcpwm_dead_time_config_t::invert_output__uint32_t"></span><span class="target" id="structmcpwm__dead__time__config__t_1ae98b677581e51166c6e92d8f76992243"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">invert_output</span></span></span><a class="headerlink" href="#_CPPv4N24mcpwm_dead_time_config_t13invert_outputE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Invert the signal after applied the dead time </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24mcpwm_dead_time_config_t5flagsE">
<span id="_CPPv3N24mcpwm_dead_time_config_t5flagsE"></span><span id="_CPPv2N24mcpwm_dead_time_config_t5flagsE"></span><span id="mcpwm_dead_time_config_t::flags__mcpwm_dead_time_config_t"></span><span class="target" id="structmcpwm__dead__time__config__t_1ac97483decf53a164780c0287c803046e"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv424mcpwm_dead_time_config_t" title="mcpwm_dead_time_config_t"><span class="n"><span class="pre">mcpwm_dead_time_config_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">flags</span></span></span><a class="headerlink" href="#_CPPv4N24mcpwm_dead_time_config_t5flagsE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Extra flags for dead time configuration </p>
</dd></dl>

</div>
</dd></dl>

</section>
<section id="macros">
<h3>Macros<a class="headerlink" href="#macros" title="Permalink to this heading"></a></h3>
<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MCPWM_GEN_TIMER_EVENT_ACTION">
<span class="target" id="mcpwm__gen_8h_1ad4cf19b72ca489b0133bc966717f24e6"></span><span class="sig-name descname"><span class="n"><span class="pre">MCPWM_GEN_TIMER_EVENT_ACTION</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">dir</span></span>, <span class="n"><span class="pre">ev</span></span>, <span class="n"><span class="pre">act</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.MCPWM_GEN_TIMER_EVENT_ACTION" title="Permalink to this definition"></a><br /></dt>
<dd><p>Help macros to construct a <a class="reference internal" href="#structmcpwm__gen__timer__event__action__t"><span class="std std-ref">mcpwm_gen_timer_event_action_t</span></a> entry. </p>
</dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MCPWM_GEN_TIMER_EVENT_ACTION_END">
<span class="target" id="mcpwm__gen_8h_1a1f493c11b36dec3c986ff7d7ce5e520c"></span><span class="sig-name descname"><span class="n"><span class="pre">MCPWM_GEN_TIMER_EVENT_ACTION_END</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#c.MCPWM_GEN_TIMER_EVENT_ACTION_END" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MCPWM_GEN_COMPARE_EVENT_ACTION">
<span class="target" id="mcpwm__gen_8h_1a8c5feee8626382b51811ba205337256c"></span><span class="sig-name descname"><span class="n"><span class="pre">MCPWM_GEN_COMPARE_EVENT_ACTION</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">dir</span></span>, <span class="n"><span class="pre">cmp</span></span>, <span class="n"><span class="pre">act</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.MCPWM_GEN_COMPARE_EVENT_ACTION" title="Permalink to this definition"></a><br /></dt>
<dd><p>Help macros to construct a <a class="reference internal" href="#structmcpwm__gen__compare__event__action__t"><span class="std std-ref">mcpwm_gen_compare_event_action_t</span></a> entry. </p>
</dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MCPWM_GEN_COMPARE_EVENT_ACTION_END">
<span class="target" id="mcpwm__gen_8h_1a3da524a3a7aee164f2b5df2fad8d6fec"></span><span class="sig-name descname"><span class="n"><span class="pre">MCPWM_GEN_COMPARE_EVENT_ACTION_END</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#c.MCPWM_GEN_COMPARE_EVENT_ACTION_END" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MCPWM_GEN_BRAKE_EVENT_ACTION">
<span class="target" id="mcpwm__gen_8h_1ae2d341e9a1664a313a7cd1970ab401ab"></span><span class="sig-name descname"><span class="n"><span class="pre">MCPWM_GEN_BRAKE_EVENT_ACTION</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">dir</span></span>, <span class="n"><span class="pre">mode</span></span>, <span class="n"><span class="pre">act</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.MCPWM_GEN_BRAKE_EVENT_ACTION" title="Permalink to this definition"></a><br /></dt>
<dd><p>Help macros to construct a <a class="reference internal" href="#structmcpwm__gen__brake__event__action__t"><span class="std std-ref">mcpwm_gen_brake_event_action_t</span></a> entry. </p>
</dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MCPWM_GEN_BRAKE_EVENT_ACTION_END">
<span class="target" id="mcpwm__gen_8h_1a9ae0da71bebe98bff2152d99c4c2395f"></span><span class="sig-name descname"><span class="n"><span class="pre">MCPWM_GEN_BRAKE_EVENT_ACTION_END</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#c.MCPWM_GEN_BRAKE_EVENT_ACTION_END" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MCPWM_GEN_FAULT_EVENT_ACTION">
<span class="target" id="mcpwm__gen_8h_1a2c2fb4c321dc6098b2bcc71ab15fe2b2"></span><span class="sig-name descname"><span class="n"><span class="pre">MCPWM_GEN_FAULT_EVENT_ACTION</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">dir</span></span>, <span class="n"><span class="pre">flt</span></span>, <span class="n"><span class="pre">act</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.MCPWM_GEN_FAULT_EVENT_ACTION" title="Permalink to this definition"></a><br /></dt>
<dd><p>Help macros to construct a <a class="reference internal" href="#structmcpwm__gen__fault__event__action__t"><span class="std std-ref">mcpwm_gen_fault_event_action_t</span></a> entry. </p>
</dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MCPWM_GEN_SYNC_EVENT_ACTION">
<span class="target" id="mcpwm__gen_8h_1a30c3360dcd052748e606a5923d190efb"></span><span class="sig-name descname"><span class="n"><span class="pre">MCPWM_GEN_SYNC_EVENT_ACTION</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">dir</span></span>, <span class="n"><span class="pre">syn</span></span>, <span class="n"><span class="pre">act</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.MCPWM_GEN_SYNC_EVENT_ACTION" title="Permalink to this definition"></a><br /></dt>
<dd><p>Help macros to construct a <a class="reference internal" href="#structmcpwm__gen__sync__event__action__t"><span class="std std-ref">mcpwm_gen_sync_event_action_t</span></a> entry. </p>
</dd></dl>

</section>
<section id="id20">
<h3>Header File<a class="headerlink" href="#id20" title="Permalink to this heading"></a></h3>
<ul>
<li><p><a class="reference external" href="https://github.com/espressif/esp-idf/blob/v5.4.2/components/esp_driver_mcpwm/include/driver/mcpwm_fault.h">components/esp_driver_mcpwm/include/driver/mcpwm_fault.h</a></p></li>
<li><p>This header file can be included with:</p>
<blockquote>
<div><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;driver/mcpwm_fault.h&quot;</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>This header file is a part of the API provided by the <code class="docutils literal notranslate"><span class="pre">esp_driver_mcpwm</span></code> component. To declare that your component depends on <code class="docutils literal notranslate"><span class="pre">esp_driver_mcpwm</span></code>, add the following to your CMakeLists.txt:</p>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>REQUIRES esp_driver_mcpwm
</pre></div>
</div>
<p>or</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>PRIV_REQUIRES esp_driver_mcpwm
</pre></div>
</div>
</div></blockquote>
</li>
</ul>
</section>
<section id="id21">
<h3>Functions<a class="headerlink" href="#id21" title="Permalink to this heading"></a></h3>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv420mcpwm_new_gpio_faultPK25mcpwm_gpio_fault_config_tP20mcpwm_fault_handle_t">
<span id="_CPPv320mcpwm_new_gpio_faultPK25mcpwm_gpio_fault_config_tP20mcpwm_fault_handle_t"></span><span id="_CPPv220mcpwm_new_gpio_faultPK25mcpwm_gpio_fault_config_tP20mcpwm_fault_handle_t"></span><span id="mcpwm_new_gpio_fault__mcpwm_gpio_fault_config_tCP.mcpwm_fault_handle_tP"></span><span class="target" id="mcpwm__fault_8h_1a10a9c268c8690125418a8073f5cda3e6"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_new_gpio_fault</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv425mcpwm_gpio_fault_config_t" title="mcpwm_gpio_fault_config_t"><span class="n"><span class="pre">mcpwm_gpio_fault_config_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">config</span></span>, <a class="reference internal" href="#_CPPv420mcpwm_fault_handle_t" title="mcpwm_fault_handle_t"><span class="n"><span class="pre">mcpwm_fault_handle_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ret_fault</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv420mcpwm_new_gpio_faultPK25mcpwm_gpio_fault_config_tP20mcpwm_fault_handle_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Create MCPWM GPIO fault. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>config</strong> -- <strong>[in]</strong> MCPWM GPIO fault configuration </p></li>
<li><p><strong>ret_fault</strong> -- <strong>[out]</strong> Returned GPIO fault handle </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK: Create MCPWM GPIO fault successfully</p></li>
<li><p>ESP_ERR_INVALID_ARG: Create MCPWM GPIO fault failed because of invalid argument</p></li>
<li><p>ESP_ERR_NO_MEM: Create MCPWM GPIO fault failed because out of memory</p></li>
<li><p>ESP_ERR_NOT_FOUND: Create MCPWM GPIO fault failed because can't find free resource</p></li>
<li><p>ESP_FAIL: Create MCPWM GPIO fault failed because of other error </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv420mcpwm_new_soft_faultPK25mcpwm_soft_fault_config_tP20mcpwm_fault_handle_t">
<span id="_CPPv320mcpwm_new_soft_faultPK25mcpwm_soft_fault_config_tP20mcpwm_fault_handle_t"></span><span id="_CPPv220mcpwm_new_soft_faultPK25mcpwm_soft_fault_config_tP20mcpwm_fault_handle_t"></span><span id="mcpwm_new_soft_fault__mcpwm_soft_fault_config_tCP.mcpwm_fault_handle_tP"></span><span class="target" id="mcpwm__fault_8h_1a5d1b2a836c0544d06ca9d4574c50e6b6"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_new_soft_fault</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv425mcpwm_soft_fault_config_t" title="mcpwm_soft_fault_config_t"><span class="n"><span class="pre">mcpwm_soft_fault_config_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">config</span></span>, <a class="reference internal" href="#_CPPv420mcpwm_fault_handle_t" title="mcpwm_fault_handle_t"><span class="n"><span class="pre">mcpwm_fault_handle_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ret_fault</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv420mcpwm_new_soft_faultPK25mcpwm_soft_fault_config_tP20mcpwm_fault_handle_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Create MCPWM software fault. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>config</strong> -- <strong>[in]</strong> MCPWM software fault configuration </p></li>
<li><p><strong>ret_fault</strong> -- <strong>[out]</strong> Returned software fault handle </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK: Create MCPWM software fault successfully</p></li>
<li><p>ESP_ERR_INVALID_ARG: Create MCPWM software fault failed because of invalid argument</p></li>
<li><p>ESP_ERR_NO_MEM: Create MCPWM software fault failed because out of memory</p></li>
<li><p>ESP_FAIL: Create MCPWM software fault failed because of other error </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv415mcpwm_del_fault20mcpwm_fault_handle_t">
<span id="_CPPv315mcpwm_del_fault20mcpwm_fault_handle_t"></span><span id="_CPPv215mcpwm_del_fault20mcpwm_fault_handle_t"></span><span id="mcpwm_del_fault__mcpwm_fault_handle_t"></span><span class="target" id="mcpwm__fault_8h_1a2e78077acd8a179c13b5cb0162580557"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_del_fault</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv420mcpwm_fault_handle_t" title="mcpwm_fault_handle_t"><span class="n"><span class="pre">mcpwm_fault_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">fault</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv415mcpwm_del_fault20mcpwm_fault_handle_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Delete MCPWM fault. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>fault</strong> -- <strong>[in]</strong> MCPWM fault handle allocated by <code class="docutils literal notranslate"><span class="pre">mcpwm_new_gpio_fault()</span></code> or <code class="docutils literal notranslate"><span class="pre">mcpwm_new_soft_fault()</span></code></p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK: Delete MCPWM fault successfully</p></li>
<li><p>ESP_ERR_INVALID_ARG: Delete MCPWM fault failed because of invalid argument</p></li>
<li><p>ESP_FAIL: Delete MCPWM fault failed because of other error </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv425mcpwm_soft_fault_activate20mcpwm_fault_handle_t">
<span id="_CPPv325mcpwm_soft_fault_activate20mcpwm_fault_handle_t"></span><span id="_CPPv225mcpwm_soft_fault_activate20mcpwm_fault_handle_t"></span><span id="mcpwm_soft_fault_activate__mcpwm_fault_handle_t"></span><span class="target" id="mcpwm__fault_8h_1a4843d4733f9384b216742f56b93912f2"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_soft_fault_activate</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv420mcpwm_fault_handle_t" title="mcpwm_fault_handle_t"><span class="n"><span class="pre">mcpwm_fault_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">fault</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv425mcpwm_soft_fault_activate20mcpwm_fault_handle_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Activate the software fault, trigger the fault event for once. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>fault</strong> -- <strong>[in]</strong> MCPWM soft fault, allocated by <code class="docutils literal notranslate"><span class="pre">mcpwm_new_soft_fault()</span></code></p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK: Trigger MCPWM software fault event successfully</p></li>
<li><p>ESP_ERR_INVALID_ARG: Trigger MCPWM software fault event failed because of invalid argument</p></li>
<li><p>ESP_FAIL: Trigger MCPWM software fault event failed because of other error </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv436mcpwm_fault_register_event_callbacks20mcpwm_fault_handle_tPK29mcpwm_fault_event_callbacks_tPv">
<span id="_CPPv336mcpwm_fault_register_event_callbacks20mcpwm_fault_handle_tPK29mcpwm_fault_event_callbacks_tPv"></span><span id="_CPPv236mcpwm_fault_register_event_callbacks20mcpwm_fault_handle_tPK29mcpwm_fault_event_callbacks_tPv"></span><span id="mcpwm_fault_register_event_callbacks__mcpwm_fault_handle_t.mcpwm_fault_event_callbacks_tCP.voidP"></span><span class="target" id="mcpwm__fault_8h_1ab9d2b52def533f32a00cca2c5c6cddec"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_fault_register_event_callbacks</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv420mcpwm_fault_handle_t" title="mcpwm_fault_handle_t"><span class="n"><span class="pre">mcpwm_fault_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">fault</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv429mcpwm_fault_event_callbacks_t" title="mcpwm_fault_event_callbacks_t"><span class="n"><span class="pre">mcpwm_fault_event_callbacks_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">cbs</span></span>, <span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">user_data</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv436mcpwm_fault_register_event_callbacks20mcpwm_fault_handle_tPK29mcpwm_fault_event_callbacks_tPv" title="Permalink to this definition"></a><br /></dt>
<dd><p>Set event callbacks for MCPWM fault. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>User can deregister a previously registered callback by calling this function and setting the callback member in the <code class="docutils literal notranslate"><span class="pre">cbs</span></code> structure to NULL.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fault</strong> -- <strong>[in]</strong> MCPWM GPIO fault handle, allocated by <code class="docutils literal notranslate"><span class="pre">mcpwm_new_gpio_fault()</span></code></p></li>
<li><p><strong>cbs</strong> -- <strong>[in]</strong> Group of callback functions </p></li>
<li><p><strong>user_data</strong> -- <strong>[in]</strong> User data, which will be passed to callback functions directly </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK: Set event callbacks successfully</p></li>
<li><p>ESP_ERR_INVALID_ARG: Set event callbacks failed because of invalid argument</p></li>
<li><p>ESP_FAIL: Set event callbacks failed because of other error </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="id22">
<h3>Structures<a class="headerlink" href="#id22" title="Permalink to this heading"></a></h3>
<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv425mcpwm_gpio_fault_config_t">
<span id="_CPPv325mcpwm_gpio_fault_config_t"></span><span id="_CPPv225mcpwm_gpio_fault_config_t"></span><span id="mcpwm_gpio_fault_config_t"></span><span class="target" id="structmcpwm__gpio__fault__config__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_gpio_fault_config_t</span></span></span><a class="headerlink" href="#_CPPv425mcpwm_gpio_fault_config_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>MCPWM GPIO fault configuration structure. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N25mcpwm_gpio_fault_config_t8group_idE">
<span id="_CPPv3N25mcpwm_gpio_fault_config_t8group_idE"></span><span id="_CPPv2N25mcpwm_gpio_fault_config_t8group_idE"></span><span id="mcpwm_gpio_fault_config_t::group_id__i"></span><span class="target" id="structmcpwm__gpio__fault__config__t_1a8b45b8f931dcd4d8506a88abb368f41c"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">group_id</span></span></span><a class="headerlink" href="#_CPPv4N25mcpwm_gpio_fault_config_t8group_idE" title="Permalink to this definition"></a><br /></dt>
<dd><p>In which MCPWM group that the GPIO fault belongs to </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N25mcpwm_gpio_fault_config_t13intr_priorityE">
<span id="_CPPv3N25mcpwm_gpio_fault_config_t13intr_priorityE"></span><span id="_CPPv2N25mcpwm_gpio_fault_config_t13intr_priorityE"></span><span id="mcpwm_gpio_fault_config_t::intr_priority__i"></span><span class="target" id="structmcpwm__gpio__fault__config__t_1a92ba8b4c1d93e2889bb5c2a3ea66627b"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">intr_priority</span></span></span><a class="headerlink" href="#_CPPv4N25mcpwm_gpio_fault_config_t13intr_priorityE" title="Permalink to this definition"></a><br /></dt>
<dd><p>MCPWM GPIO fault interrupt priority, if set to 0, the driver will try to allocate an interrupt with a relative low priority (1,2,3) </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N25mcpwm_gpio_fault_config_t8gpio_numE">
<span id="_CPPv3N25mcpwm_gpio_fault_config_t8gpio_numE"></span><span id="_CPPv2N25mcpwm_gpio_fault_config_t8gpio_numE"></span><span id="mcpwm_gpio_fault_config_t::gpio_num__i"></span><span class="target" id="structmcpwm__gpio__fault__config__t_1a832071fd371a3673dc837926e851c068"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">gpio_num</span></span></span><a class="headerlink" href="#_CPPv4N25mcpwm_gpio_fault_config_t8gpio_numE" title="Permalink to this definition"></a><br /></dt>
<dd><p>GPIO used by the fault signal </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N25mcpwm_gpio_fault_config_t12active_levelE">
<span id="_CPPv3N25mcpwm_gpio_fault_config_t12active_levelE"></span><span id="_CPPv2N25mcpwm_gpio_fault_config_t12active_levelE"></span><span id="mcpwm_gpio_fault_config_t::active_level__uint32_t"></span><span class="target" id="structmcpwm__gpio__fault__config__t_1a234074c85d0b81da2113da46f025db84"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">active_level</span></span></span><a class="headerlink" href="#_CPPv4N25mcpwm_gpio_fault_config_t12active_levelE" title="Permalink to this definition"></a><br /></dt>
<dd><p>On which level the fault signal is treated as active </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N25mcpwm_gpio_fault_config_t12io_loop_backE">
<span id="_CPPv3N25mcpwm_gpio_fault_config_t12io_loop_backE"></span><span id="_CPPv2N25mcpwm_gpio_fault_config_t12io_loop_backE"></span><span id="mcpwm_gpio_fault_config_t::io_loop_back__uint32_t"></span><span class="target" id="structmcpwm__gpio__fault__config__t_1afc76a67b60cc5dbb47a376f231c04677"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">io_loop_back</span></span></span><a class="headerlink" href="#_CPPv4N25mcpwm_gpio_fault_config_t12io_loop_backE" title="Permalink to this definition"></a><br /></dt>
<dd><p>For debug/test, the signal output from the GPIO will be fed to the input path as well </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N25mcpwm_gpio_fault_config_t7pull_upE">
<span id="_CPPv3N25mcpwm_gpio_fault_config_t7pull_upE"></span><span id="_CPPv2N25mcpwm_gpio_fault_config_t7pull_upE"></span><span id="mcpwm_gpio_fault_config_t::pull_up__uint32_t"></span><span class="target" id="structmcpwm__gpio__fault__config__t_1a4ed32405ad40aa096977136eff9e9e31"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">pull_up</span></span></span><a class="headerlink" href="#_CPPv4N25mcpwm_gpio_fault_config_t7pull_upE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Whether to pull up internally </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N25mcpwm_gpio_fault_config_t9pull_downE">
<span id="_CPPv3N25mcpwm_gpio_fault_config_t9pull_downE"></span><span id="_CPPv2N25mcpwm_gpio_fault_config_t9pull_downE"></span><span id="mcpwm_gpio_fault_config_t::pull_down__uint32_t"></span><span class="target" id="structmcpwm__gpio__fault__config__t_1ac3d848adca7fec3e9487b5abac4174ba"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">pull_down</span></span></span><a class="headerlink" href="#_CPPv4N25mcpwm_gpio_fault_config_t9pull_downE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Whether to pull down internally </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N25mcpwm_gpio_fault_config_t5flagsE">
<span id="_CPPv3N25mcpwm_gpio_fault_config_t5flagsE"></span><span id="_CPPv2N25mcpwm_gpio_fault_config_t5flagsE"></span><span id="mcpwm_gpio_fault_config_t::flags__mcpwm_gpio_fault_config_t"></span><span class="target" id="structmcpwm__gpio__fault__config__t_1a7670715e31538dc139d043fd74a4ecd4"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv425mcpwm_gpio_fault_config_t" title="mcpwm_gpio_fault_config_t"><span class="n"><span class="pre">mcpwm_gpio_fault_config_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">flags</span></span></span><a class="headerlink" href="#_CPPv4N25mcpwm_gpio_fault_config_t5flagsE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Extra configuration flags for GPIO fault </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv425mcpwm_soft_fault_config_t">
<span id="_CPPv325mcpwm_soft_fault_config_t"></span><span id="_CPPv225mcpwm_soft_fault_config_t"></span><span id="mcpwm_soft_fault_config_t"></span><span class="target" id="structmcpwm__soft__fault__config__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_soft_fault_config_t</span></span></span><a class="headerlink" href="#_CPPv425mcpwm_soft_fault_config_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>MCPWM software fault configuration structure. </p>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv429mcpwm_fault_event_callbacks_t">
<span id="_CPPv329mcpwm_fault_event_callbacks_t"></span><span id="_CPPv229mcpwm_fault_event_callbacks_t"></span><span id="mcpwm_fault_event_callbacks_t"></span><span class="target" id="structmcpwm__fault__event__callbacks__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_fault_event_callbacks_t</span></span></span><a class="headerlink" href="#_CPPv429mcpwm_fault_event_callbacks_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Group of supported MCPWM fault event callbacks. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The callbacks are all running under ISR environment </p>
</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N29mcpwm_fault_event_callbacks_t14on_fault_enterE">
<span id="_CPPv3N29mcpwm_fault_event_callbacks_t14on_fault_enterE"></span><span id="_CPPv2N29mcpwm_fault_event_callbacks_t14on_fault_enterE"></span><span id="mcpwm_fault_event_callbacks_t::on_fault_enter__mcpwm_fault_event_cb_t"></span><span class="target" id="structmcpwm__fault__event__callbacks__t_1aa07f24c7113e655e1f8a222e84a857ac"></span><a class="reference internal" href="#_CPPv422mcpwm_fault_event_cb_t" title="mcpwm_fault_event_cb_t"><span class="n"><span class="pre">mcpwm_fault_event_cb_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">on_fault_enter</span></span></span><a class="headerlink" href="#_CPPv4N29mcpwm_fault_event_callbacks_t14on_fault_enterE" title="Permalink to this definition"></a><br /></dt>
<dd><p>ISR callback function that would be invoked when fault signal becomes active </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N29mcpwm_fault_event_callbacks_t13on_fault_exitE">
<span id="_CPPv3N29mcpwm_fault_event_callbacks_t13on_fault_exitE"></span><span id="_CPPv2N29mcpwm_fault_event_callbacks_t13on_fault_exitE"></span><span id="mcpwm_fault_event_callbacks_t::on_fault_exit__mcpwm_fault_event_cb_t"></span><span class="target" id="structmcpwm__fault__event__callbacks__t_1a4855aaf64abd93c2e5539b24d7b1cd85"></span><a class="reference internal" href="#_CPPv422mcpwm_fault_event_cb_t" title="mcpwm_fault_event_cb_t"><span class="n"><span class="pre">mcpwm_fault_event_cb_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">on_fault_exit</span></span></span><a class="headerlink" href="#_CPPv4N29mcpwm_fault_event_callbacks_t13on_fault_exitE" title="Permalink to this definition"></a><br /></dt>
<dd><p>ISR callback function that would be invoked when fault signal becomes inactive </p>
</dd></dl>

</div>
</dd></dl>

</section>
<section id="id23">
<h3>Header File<a class="headerlink" href="#id23" title="Permalink to this heading"></a></h3>
<ul>
<li><p><a class="reference external" href="https://github.com/espressif/esp-idf/blob/v5.4.2/components/esp_driver_mcpwm/include/driver/mcpwm_sync.h">components/esp_driver_mcpwm/include/driver/mcpwm_sync.h</a></p></li>
<li><p>This header file can be included with:</p>
<blockquote>
<div><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;driver/mcpwm_sync.h&quot;</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>This header file is a part of the API provided by the <code class="docutils literal notranslate"><span class="pre">esp_driver_mcpwm</span></code> component. To declare that your component depends on <code class="docutils literal notranslate"><span class="pre">esp_driver_mcpwm</span></code>, add the following to your CMakeLists.txt:</p>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>REQUIRES esp_driver_mcpwm
</pre></div>
</div>
<p>or</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>PRIV_REQUIRES esp_driver_mcpwm
</pre></div>
</div>
</div></blockquote>
</li>
</ul>
</section>
<section id="id24">
<h3>Functions<a class="headerlink" href="#id24" title="Permalink to this heading"></a></h3>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv424mcpwm_new_timer_sync_src20mcpwm_timer_handle_tPK29mcpwm_timer_sync_src_config_tP19mcpwm_sync_handle_t">
<span id="_CPPv324mcpwm_new_timer_sync_src20mcpwm_timer_handle_tPK29mcpwm_timer_sync_src_config_tP19mcpwm_sync_handle_t"></span><span id="_CPPv224mcpwm_new_timer_sync_src20mcpwm_timer_handle_tPK29mcpwm_timer_sync_src_config_tP19mcpwm_sync_handle_t"></span><span id="mcpwm_new_timer_sync_src__mcpwm_timer_handle_t.mcpwm_timer_sync_src_config_tCP.mcpwm_sync_handle_tP"></span><span class="target" id="mcpwm__sync_8h_1a28edde4d79a16aeb8ee80a2b96400612"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_new_timer_sync_src</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv420mcpwm_timer_handle_t" title="mcpwm_timer_handle_t"><span class="n"><span class="pre">mcpwm_timer_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">timer</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv429mcpwm_timer_sync_src_config_t" title="mcpwm_timer_sync_src_config_t"><span class="n"><span class="pre">mcpwm_timer_sync_src_config_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">config</span></span>, <a class="reference internal" href="#_CPPv419mcpwm_sync_handle_t" title="mcpwm_sync_handle_t"><span class="n"><span class="pre">mcpwm_sync_handle_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ret_sync</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv424mcpwm_new_timer_sync_src20mcpwm_timer_handle_tPK29mcpwm_timer_sync_src_config_tP19mcpwm_sync_handle_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Create MCPWM timer sync source. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>timer</strong> -- <strong>[in]</strong> MCPWM timer handle, allocated by <code class="docutils literal notranslate"><span class="pre">mcpwm_new_timer()</span></code></p></li>
<li><p><strong>config</strong> -- <strong>[in]</strong> MCPWM timer sync source configuration </p></li>
<li><p><strong>ret_sync</strong> -- <strong>[out]</strong> Returned MCPWM sync handle </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK: Create MCPWM timer sync source successfully</p></li>
<li><p>ESP_ERR_INVALID_ARG: Create MCPWM timer sync source failed because of invalid argument</p></li>
<li><p>ESP_ERR_NO_MEM: Create MCPWM timer sync source failed because out of memory</p></li>
<li><p>ESP_ERR_INVALID_STATE: Create MCPWM timer sync source failed because the timer has created a sync source before</p></li>
<li><p>ESP_FAIL: Create MCPWM timer sync source failed because of other error </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv423mcpwm_new_gpio_sync_srcPK28mcpwm_gpio_sync_src_config_tP19mcpwm_sync_handle_t">
<span id="_CPPv323mcpwm_new_gpio_sync_srcPK28mcpwm_gpio_sync_src_config_tP19mcpwm_sync_handle_t"></span><span id="_CPPv223mcpwm_new_gpio_sync_srcPK28mcpwm_gpio_sync_src_config_tP19mcpwm_sync_handle_t"></span><span id="mcpwm_new_gpio_sync_src__mcpwm_gpio_sync_src_config_tCP.mcpwm_sync_handle_tP"></span><span class="target" id="mcpwm__sync_8h_1acba2be2d644b263c425f37d0100807f2"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_new_gpio_sync_src</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv428mcpwm_gpio_sync_src_config_t" title="mcpwm_gpio_sync_src_config_t"><span class="n"><span class="pre">mcpwm_gpio_sync_src_config_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">config</span></span>, <a class="reference internal" href="#_CPPv419mcpwm_sync_handle_t" title="mcpwm_sync_handle_t"><span class="n"><span class="pre">mcpwm_sync_handle_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ret_sync</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv423mcpwm_new_gpio_sync_srcPK28mcpwm_gpio_sync_src_config_tP19mcpwm_sync_handle_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Create MCPWM GPIO sync source. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>config</strong> -- <strong>[in]</strong> MCPWM GPIO sync source configuration </p></li>
<li><p><strong>ret_sync</strong> -- <strong>[out]</strong> Returned MCPWM GPIO sync handle </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK: Create MCPWM GPIO sync source successfully</p></li>
<li><p>ESP_ERR_INVALID_ARG: Create MCPWM GPIO sync source failed because of invalid argument</p></li>
<li><p>ESP_ERR_NO_MEM: Create MCPWM GPIO sync source failed because out of memory</p></li>
<li><p>ESP_ERR_NOT_FOUND: Create MCPWM GPIO sync source failed because can't find free resource</p></li>
<li><p>ESP_FAIL: Create MCPWM GPIO sync source failed because of other error </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv423mcpwm_new_soft_sync_srcPK24mcpwm_soft_sync_config_tP19mcpwm_sync_handle_t">
<span id="_CPPv323mcpwm_new_soft_sync_srcPK24mcpwm_soft_sync_config_tP19mcpwm_sync_handle_t"></span><span id="_CPPv223mcpwm_new_soft_sync_srcPK24mcpwm_soft_sync_config_tP19mcpwm_sync_handle_t"></span><span id="mcpwm_new_soft_sync_src__mcpwm_soft_sync_config_tCP.mcpwm_sync_handle_tP"></span><span class="target" id="mcpwm__sync_8h_1a25401ede9966d0bf6d9b2e3642e96d92"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_new_soft_sync_src</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv424mcpwm_soft_sync_config_t" title="mcpwm_soft_sync_config_t"><span class="n"><span class="pre">mcpwm_soft_sync_config_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">config</span></span>, <a class="reference internal" href="#_CPPv419mcpwm_sync_handle_t" title="mcpwm_sync_handle_t"><span class="n"><span class="pre">mcpwm_sync_handle_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ret_sync</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv423mcpwm_new_soft_sync_srcPK24mcpwm_soft_sync_config_tP19mcpwm_sync_handle_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Create MCPWM software sync source. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>config</strong> -- <strong>[in]</strong> MCPWM software sync source configuration </p></li>
<li><p><strong>ret_sync</strong> -- <strong>[out]</strong> Returned software sync handle </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK: Create MCPWM software sync successfully</p></li>
<li><p>ESP_ERR_INVALID_ARG: Create MCPWM software sync failed because of invalid argument</p></li>
<li><p>ESP_ERR_NO_MEM: Create MCPWM software sync failed because out of memory</p></li>
<li><p>ESP_FAIL: Create MCPWM software sync failed because of other error </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv418mcpwm_del_sync_src19mcpwm_sync_handle_t">
<span id="_CPPv318mcpwm_del_sync_src19mcpwm_sync_handle_t"></span><span id="_CPPv218mcpwm_del_sync_src19mcpwm_sync_handle_t"></span><span id="mcpwm_del_sync_src__mcpwm_sync_handle_t"></span><span class="target" id="mcpwm__sync_8h_1ab2d35910fd313cdcd176070969976f17"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_del_sync_src</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv419mcpwm_sync_handle_t" title="mcpwm_sync_handle_t"><span class="n"><span class="pre">mcpwm_sync_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">sync</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv418mcpwm_del_sync_src19mcpwm_sync_handle_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Delete MCPWM sync source. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>sync</strong> -- <strong>[in]</strong> MCPWM sync handle, allocated by <code class="docutils literal notranslate"><span class="pre">mcpwm_new_timer_sync_src()</span></code> or <code class="docutils literal notranslate"><span class="pre">mcpwm_new_gpio_sync_src()</span></code> or <code class="docutils literal notranslate"><span class="pre">mcpwm_new_soft_sync_src()</span></code></p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK: Delete MCPWM sync source successfully</p></li>
<li><p>ESP_ERR_INVALID_ARG: Delete MCPWM sync source failed because of invalid argument</p></li>
<li><p>ESP_FAIL: Delete MCPWM sync source failed because of other error </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv424mcpwm_soft_sync_activate19mcpwm_sync_handle_t">
<span id="_CPPv324mcpwm_soft_sync_activate19mcpwm_sync_handle_t"></span><span id="_CPPv224mcpwm_soft_sync_activate19mcpwm_sync_handle_t"></span><span id="mcpwm_soft_sync_activate__mcpwm_sync_handle_t"></span><span class="target" id="mcpwm__sync_8h_1a4b5c8306e3693cc360f16712d3633c72"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_soft_sync_activate</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv419mcpwm_sync_handle_t" title="mcpwm_sync_handle_t"><span class="n"><span class="pre">mcpwm_sync_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">sync</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv424mcpwm_soft_sync_activate19mcpwm_sync_handle_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Activate the software sync, trigger the sync event for once. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>sync</strong> -- <strong>[in]</strong> MCPWM soft sync handle, allocated by <code class="docutils literal notranslate"><span class="pre">mcpwm_new_soft_sync_src()</span></code></p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK: Trigger MCPWM software sync event successfully</p></li>
<li><p>ESP_ERR_INVALID_ARG: Trigger MCPWM software sync event failed because of invalid argument</p></li>
<li><p>ESP_FAIL: Trigger MCPWM software sync event failed because of other error </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="id25">
<h3>Structures<a class="headerlink" href="#id25" title="Permalink to this heading"></a></h3>
<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv429mcpwm_timer_sync_src_config_t">
<span id="_CPPv329mcpwm_timer_sync_src_config_t"></span><span id="_CPPv229mcpwm_timer_sync_src_config_t"></span><span id="mcpwm_timer_sync_src_config_t"></span><span class="target" id="structmcpwm__timer__sync__src__config__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_timer_sync_src_config_t</span></span></span><a class="headerlink" href="#_CPPv429mcpwm_timer_sync_src_config_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>MCPWM timer sync source configuration. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N29mcpwm_timer_sync_src_config_t11timer_eventE">
<span id="_CPPv3N29mcpwm_timer_sync_src_config_t11timer_eventE"></span><span id="_CPPv2N29mcpwm_timer_sync_src_config_t11timer_eventE"></span><span id="mcpwm_timer_sync_src_config_t::timer_event__mcpwm_timer_event_t"></span><span class="target" id="structmcpwm__timer__sync__src__config__t_1ad0b3e47bb58187214854aad191242d17"></span><a class="reference internal" href="#_CPPv419mcpwm_timer_event_t" title="mcpwm_timer_event_t"><span class="n"><span class="pre">mcpwm_timer_event_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">timer_event</span></span></span><a class="headerlink" href="#_CPPv4N29mcpwm_timer_sync_src_config_t11timer_eventE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Timer event, upon which MCPWM timer will generate the sync signal </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N29mcpwm_timer_sync_src_config_t20propagate_input_syncE">
<span id="_CPPv3N29mcpwm_timer_sync_src_config_t20propagate_input_syncE"></span><span id="_CPPv2N29mcpwm_timer_sync_src_config_t20propagate_input_syncE"></span><span id="mcpwm_timer_sync_src_config_t::propagate_input_sync__uint32_t"></span><span class="target" id="structmcpwm__timer__sync__src__config__t_1a903720c6057b622fdfc6e91ba237f7fc"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">propagate_input_sync</span></span></span><a class="headerlink" href="#_CPPv4N29mcpwm_timer_sync_src_config_t20propagate_input_syncE" title="Permalink to this definition"></a><br /></dt>
<dd><p>The input sync signal would be routed to its sync output </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N29mcpwm_timer_sync_src_config_t5flagsE">
<span id="_CPPv3N29mcpwm_timer_sync_src_config_t5flagsE"></span><span id="_CPPv2N29mcpwm_timer_sync_src_config_t5flagsE"></span><span id="mcpwm_timer_sync_src_config_t::flags__mcpwm_timer_sync_src_config_t"></span><span class="target" id="structmcpwm__timer__sync__src__config__t_1a6e8addfd93acc853c96b0ed76ed2d392"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv429mcpwm_timer_sync_src_config_t" title="mcpwm_timer_sync_src_config_t"><span class="n"><span class="pre">mcpwm_timer_sync_src_config_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">flags</span></span></span><a class="headerlink" href="#_CPPv4N29mcpwm_timer_sync_src_config_t5flagsE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Extra configuration flags for timer sync source </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv428mcpwm_gpio_sync_src_config_t">
<span id="_CPPv328mcpwm_gpio_sync_src_config_t"></span><span id="_CPPv228mcpwm_gpio_sync_src_config_t"></span><span id="mcpwm_gpio_sync_src_config_t"></span><span class="target" id="structmcpwm__gpio__sync__src__config__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_gpio_sync_src_config_t</span></span></span><a class="headerlink" href="#_CPPv428mcpwm_gpio_sync_src_config_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>MCPWM GPIO sync source configuration. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N28mcpwm_gpio_sync_src_config_t8group_idE">
<span id="_CPPv3N28mcpwm_gpio_sync_src_config_t8group_idE"></span><span id="_CPPv2N28mcpwm_gpio_sync_src_config_t8group_idE"></span><span id="mcpwm_gpio_sync_src_config_t::group_id__i"></span><span class="target" id="structmcpwm__gpio__sync__src__config__t_1a06fef13d7080ed3500b975545823a443"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">group_id</span></span></span><a class="headerlink" href="#_CPPv4N28mcpwm_gpio_sync_src_config_t8group_idE" title="Permalink to this definition"></a><br /></dt>
<dd><p>MCPWM group ID </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N28mcpwm_gpio_sync_src_config_t8gpio_numE">
<span id="_CPPv3N28mcpwm_gpio_sync_src_config_t8gpio_numE"></span><span id="_CPPv2N28mcpwm_gpio_sync_src_config_t8gpio_numE"></span><span id="mcpwm_gpio_sync_src_config_t::gpio_num__i"></span><span class="target" id="structmcpwm__gpio__sync__src__config__t_1a12a9e6859f15bf01db9b35ecdbbced55"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">gpio_num</span></span></span><a class="headerlink" href="#_CPPv4N28mcpwm_gpio_sync_src_config_t8gpio_numE" title="Permalink to this definition"></a><br /></dt>
<dd><p>GPIO used by sync source </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N28mcpwm_gpio_sync_src_config_t10active_negE">
<span id="_CPPv3N28mcpwm_gpio_sync_src_config_t10active_negE"></span><span id="_CPPv2N28mcpwm_gpio_sync_src_config_t10active_negE"></span><span id="mcpwm_gpio_sync_src_config_t::active_neg__uint32_t"></span><span class="target" id="structmcpwm__gpio__sync__src__config__t_1aaed37083b8b51d2c0d165dbdb275e6df"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">active_neg</span></span></span><a class="headerlink" href="#_CPPv4N28mcpwm_gpio_sync_src_config_t10active_negE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Whether the sync signal is active on negedge, by default, the sync signal's posedge is treated as active </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N28mcpwm_gpio_sync_src_config_t12io_loop_backE">
<span id="_CPPv3N28mcpwm_gpio_sync_src_config_t12io_loop_backE"></span><span id="_CPPv2N28mcpwm_gpio_sync_src_config_t12io_loop_backE"></span><span id="mcpwm_gpio_sync_src_config_t::io_loop_back__uint32_t"></span><span class="target" id="structmcpwm__gpio__sync__src__config__t_1a7abda162aac664d55bb7e3cbe9fb5c32"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">io_loop_back</span></span></span><a class="headerlink" href="#_CPPv4N28mcpwm_gpio_sync_src_config_t12io_loop_backE" title="Permalink to this definition"></a><br /></dt>
<dd><p>For debug/test, the signal output from the GPIO will be fed to the input path as well </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N28mcpwm_gpio_sync_src_config_t7pull_upE">
<span id="_CPPv3N28mcpwm_gpio_sync_src_config_t7pull_upE"></span><span id="_CPPv2N28mcpwm_gpio_sync_src_config_t7pull_upE"></span><span id="mcpwm_gpio_sync_src_config_t::pull_up__uint32_t"></span><span class="target" id="structmcpwm__gpio__sync__src__config__t_1ae94b09442f5ccf9b70f0d865e43779d2"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">pull_up</span></span></span><a class="headerlink" href="#_CPPv4N28mcpwm_gpio_sync_src_config_t7pull_upE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Whether to pull up internally </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N28mcpwm_gpio_sync_src_config_t9pull_downE">
<span id="_CPPv3N28mcpwm_gpio_sync_src_config_t9pull_downE"></span><span id="_CPPv2N28mcpwm_gpio_sync_src_config_t9pull_downE"></span><span id="mcpwm_gpio_sync_src_config_t::pull_down__uint32_t"></span><span class="target" id="structmcpwm__gpio__sync__src__config__t_1ade1c07d65cd33811fd3529bc284bc5b7"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">pull_down</span></span></span><a class="headerlink" href="#_CPPv4N28mcpwm_gpio_sync_src_config_t9pull_downE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Whether to pull down internally </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N28mcpwm_gpio_sync_src_config_t5flagsE">
<span id="_CPPv3N28mcpwm_gpio_sync_src_config_t5flagsE"></span><span id="_CPPv2N28mcpwm_gpio_sync_src_config_t5flagsE"></span><span id="mcpwm_gpio_sync_src_config_t::flags__mcpwm_gpio_sync_src_config_t"></span><span class="target" id="structmcpwm__gpio__sync__src__config__t_1afa676a4c694786b7c77d2a3ddcebf253"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv428mcpwm_gpio_sync_src_config_t" title="mcpwm_gpio_sync_src_config_t"><span class="n"><span class="pre">mcpwm_gpio_sync_src_config_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">flags</span></span></span><a class="headerlink" href="#_CPPv4N28mcpwm_gpio_sync_src_config_t5flagsE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Extra configuration flags for GPIO sync source </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv424mcpwm_soft_sync_config_t">
<span id="_CPPv324mcpwm_soft_sync_config_t"></span><span id="_CPPv224mcpwm_soft_sync_config_t"></span><span id="mcpwm_soft_sync_config_t"></span><span class="target" id="structmcpwm__soft__sync__config__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_soft_sync_config_t</span></span></span><a class="headerlink" href="#_CPPv424mcpwm_soft_sync_config_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>MCPWM software sync configuration structure. </p>
</dd></dl>

</section>
<section id="id26">
<h3>Header File<a class="headerlink" href="#id26" title="Permalink to this heading"></a></h3>
<ul>
<li><p><a class="reference external" href="https://github.com/espressif/esp-idf/blob/v5.4.2/components/esp_driver_mcpwm/include/driver/mcpwm_cap.h">components/esp_driver_mcpwm/include/driver/mcpwm_cap.h</a></p></li>
<li><p>This header file can be included with:</p>
<blockquote>
<div><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;driver/mcpwm_cap.h&quot;</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>This header file is a part of the API provided by the <code class="docutils literal notranslate"><span class="pre">esp_driver_mcpwm</span></code> component. To declare that your component depends on <code class="docutils literal notranslate"><span class="pre">esp_driver_mcpwm</span></code>, add the following to your CMakeLists.txt:</p>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>REQUIRES esp_driver_mcpwm
</pre></div>
</div>
<p>or</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>PRIV_REQUIRES esp_driver_mcpwm
</pre></div>
</div>
</div></blockquote>
</li>
</ul>
</section>
<section id="id27">
<h3>Functions<a class="headerlink" href="#id27" title="Permalink to this heading"></a></h3>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv423mcpwm_new_capture_timerPK28mcpwm_capture_timer_config_tP24mcpwm_cap_timer_handle_t">
<span id="_CPPv323mcpwm_new_capture_timerPK28mcpwm_capture_timer_config_tP24mcpwm_cap_timer_handle_t"></span><span id="_CPPv223mcpwm_new_capture_timerPK28mcpwm_capture_timer_config_tP24mcpwm_cap_timer_handle_t"></span><span id="mcpwm_new_capture_timer__mcpwm_capture_timer_config_tCP.mcpwm_cap_timer_handle_tP"></span><span class="target" id="mcpwm__cap_8h_1a9b3ac13ed5ac063cab7a631d7c9867d7"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_new_capture_timer</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv428mcpwm_capture_timer_config_t" title="mcpwm_capture_timer_config_t"><span class="n"><span class="pre">mcpwm_capture_timer_config_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">config</span></span>, <a class="reference internal" href="#_CPPv424mcpwm_cap_timer_handle_t" title="mcpwm_cap_timer_handle_t"><span class="n"><span class="pre">mcpwm_cap_timer_handle_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ret_cap_timer</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv423mcpwm_new_capture_timerPK28mcpwm_capture_timer_config_tP24mcpwm_cap_timer_handle_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Create MCPWM capture timer. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>config</strong> -- <strong>[in]</strong> MCPWM capture timer configuration </p></li>
<li><p><strong>ret_cap_timer</strong> -- <strong>[out]</strong> Returned MCPWM capture timer handle </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK: Create MCPWM capture timer successfully</p></li>
<li><p>ESP_ERR_INVALID_ARG: Create MCPWM capture timer failed because of invalid argument</p></li>
<li><p>ESP_ERR_NO_MEM: Create MCPWM capture timer failed because out of memory</p></li>
<li><p>ESP_ERR_NOT_FOUND: Create MCPWM capture timer failed because can't find free resource</p></li>
<li><p>ESP_FAIL: Create MCPWM capture timer failed because of other error </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv423mcpwm_del_capture_timer24mcpwm_cap_timer_handle_t">
<span id="_CPPv323mcpwm_del_capture_timer24mcpwm_cap_timer_handle_t"></span><span id="_CPPv223mcpwm_del_capture_timer24mcpwm_cap_timer_handle_t"></span><span id="mcpwm_del_capture_timer__mcpwm_cap_timer_handle_t"></span><span class="target" id="mcpwm__cap_8h_1ad66628c6ad12fb779f404221c8a927c0"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_del_capture_timer</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv424mcpwm_cap_timer_handle_t" title="mcpwm_cap_timer_handle_t"><span class="n"><span class="pre">mcpwm_cap_timer_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">cap_timer</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv423mcpwm_del_capture_timer24mcpwm_cap_timer_handle_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Delete MCPWM capture timer. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>cap_timer</strong> -- <strong>[in]</strong> MCPWM capture timer, allocated by <code class="docutils literal notranslate"><span class="pre">mcpwm_new_capture_timer()</span></code></p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK: Delete MCPWM capture timer successfully</p></li>
<li><p>ESP_ERR_INVALID_ARG: Delete MCPWM capture timer failed because of invalid argument</p></li>
<li><p>ESP_FAIL: Delete MCPWM capture timer failed because of other error </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv426mcpwm_capture_timer_enable24mcpwm_cap_timer_handle_t">
<span id="_CPPv326mcpwm_capture_timer_enable24mcpwm_cap_timer_handle_t"></span><span id="_CPPv226mcpwm_capture_timer_enable24mcpwm_cap_timer_handle_t"></span><span id="mcpwm_capture_timer_enable__mcpwm_cap_timer_handle_t"></span><span class="target" id="mcpwm__cap_8h_1a643429d2ab84de753746553bf8a00919"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_capture_timer_enable</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv424mcpwm_cap_timer_handle_t" title="mcpwm_cap_timer_handle_t"><span class="n"><span class="pre">mcpwm_cap_timer_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">cap_timer</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv426mcpwm_capture_timer_enable24mcpwm_cap_timer_handle_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Enable MCPWM capture timer. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>cap_timer</strong> -- <strong>[in]</strong> MCPWM capture timer handle, allocated by <code class="docutils literal notranslate"><span class="pre">mcpwm_new_capture_timer()</span></code></p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK: Enable MCPWM capture timer successfully</p></li>
<li><p>ESP_ERR_INVALID_ARG: Enable MCPWM capture timer failed because of invalid argument</p></li>
<li><p>ESP_ERR_INVALID_STATE: Enable MCPWM capture timer failed because timer is enabled already</p></li>
<li><p>ESP_FAIL: Enable MCPWM capture timer failed because of other error </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv427mcpwm_capture_timer_disable24mcpwm_cap_timer_handle_t">
<span id="_CPPv327mcpwm_capture_timer_disable24mcpwm_cap_timer_handle_t"></span><span id="_CPPv227mcpwm_capture_timer_disable24mcpwm_cap_timer_handle_t"></span><span id="mcpwm_capture_timer_disable__mcpwm_cap_timer_handle_t"></span><span class="target" id="mcpwm__cap_8h_1a541a51c257dba101a85045f3d06d68eb"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_capture_timer_disable</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv424mcpwm_cap_timer_handle_t" title="mcpwm_cap_timer_handle_t"><span class="n"><span class="pre">mcpwm_cap_timer_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">cap_timer</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv427mcpwm_capture_timer_disable24mcpwm_cap_timer_handle_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Disable MCPWM capture timer. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>cap_timer</strong> -- <strong>[in]</strong> MCPWM capture timer handle, allocated by <code class="docutils literal notranslate"><span class="pre">mcpwm_new_capture_timer()</span></code></p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK: Disable MCPWM capture timer successfully</p></li>
<li><p>ESP_ERR_INVALID_ARG: Disable MCPWM capture timer failed because of invalid argument</p></li>
<li><p>ESP_ERR_INVALID_STATE: Disable MCPWM capture timer failed because timer is disabled already</p></li>
<li><p>ESP_FAIL: Disable MCPWM capture timer failed because of other error </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv425mcpwm_capture_timer_start24mcpwm_cap_timer_handle_t">
<span id="_CPPv325mcpwm_capture_timer_start24mcpwm_cap_timer_handle_t"></span><span id="_CPPv225mcpwm_capture_timer_start24mcpwm_cap_timer_handle_t"></span><span id="mcpwm_capture_timer_start__mcpwm_cap_timer_handle_t"></span><span class="target" id="mcpwm__cap_8h_1a5ea4d468df2b19c6420ca11fa74a452e"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_capture_timer_start</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv424mcpwm_cap_timer_handle_t" title="mcpwm_cap_timer_handle_t"><span class="n"><span class="pre">mcpwm_cap_timer_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">cap_timer</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv425mcpwm_capture_timer_start24mcpwm_cap_timer_handle_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Start MCPWM capture timer. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>cap_timer</strong> -- <strong>[in]</strong> MCPWM capture timer, allocated by <code class="docutils literal notranslate"><span class="pre">mcpwm_new_capture_timer()</span></code></p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK: Start MCPWM capture timer successfully</p></li>
<li><p>ESP_ERR_INVALID_ARG: Start MCPWM capture timer failed because of invalid argument</p></li>
<li><p>ESP_FAIL: Start MCPWM capture timer failed because of other error </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv424mcpwm_capture_timer_stop24mcpwm_cap_timer_handle_t">
<span id="_CPPv324mcpwm_capture_timer_stop24mcpwm_cap_timer_handle_t"></span><span id="_CPPv224mcpwm_capture_timer_stop24mcpwm_cap_timer_handle_t"></span><span id="mcpwm_capture_timer_stop__mcpwm_cap_timer_handle_t"></span><span class="target" id="mcpwm__cap_8h_1a5fd4b9fe870b18e3eb1436ea79123771"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_capture_timer_stop</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv424mcpwm_cap_timer_handle_t" title="mcpwm_cap_timer_handle_t"><span class="n"><span class="pre">mcpwm_cap_timer_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">cap_timer</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv424mcpwm_capture_timer_stop24mcpwm_cap_timer_handle_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Stop MCPWM capture timer. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>cap_timer</strong> -- <strong>[in]</strong> MCPWM capture timer, allocated by <code class="docutils literal notranslate"><span class="pre">mcpwm_new_capture_timer()</span></code></p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK: Stop MCPWM capture timer successfully</p></li>
<li><p>ESP_ERR_INVALID_ARG: Stop MCPWM capture timer failed because of invalid argument</p></li>
<li><p>ESP_FAIL: Stop MCPWM capture timer failed because of other error </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv434mcpwm_capture_timer_get_resolution24mcpwm_cap_timer_handle_tP8uint32_t">
<span id="_CPPv334mcpwm_capture_timer_get_resolution24mcpwm_cap_timer_handle_tP8uint32_t"></span><span id="_CPPv234mcpwm_capture_timer_get_resolution24mcpwm_cap_timer_handle_tP8uint32_t"></span><span id="mcpwm_capture_timer_get_resolution__mcpwm_cap_timer_handle_t.uint32_tP"></span><span class="target" id="mcpwm__cap_8h_1a82bfaf5c141d36be6ab121ca9b958c7a"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_capture_timer_get_resolution</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv424mcpwm_cap_timer_handle_t" title="mcpwm_cap_timer_handle_t"><span class="n"><span class="pre">mcpwm_cap_timer_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">cap_timer</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">out_resolution</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv434mcpwm_capture_timer_get_resolution24mcpwm_cap_timer_handle_tP8uint32_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Get MCPWM capture timer resolution, in Hz. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cap_timer</strong> -- <strong>[in]</strong> MCPWM capture timer, allocated by <code class="docutils literal notranslate"><span class="pre">mcpwm_new_capture_timer()</span></code></p></li>
<li><p><strong>out_resolution</strong> -- <strong>[out]</strong> Returned capture timer resolution, in Hz </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK: Get capture timer resolution successfully</p></li>
<li><p>ESP_ERR_INVALID_ARG: Get capture timer resolution failed because of invalid argument</p></li>
<li><p>ESP_FAIL: Get capture timer resolution failed because of other error </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv437mcpwm_capture_timer_set_phase_on_sync24mcpwm_cap_timer_handle_tPK39mcpwm_capture_timer_sync_phase_config_t">
<span id="_CPPv337mcpwm_capture_timer_set_phase_on_sync24mcpwm_cap_timer_handle_tPK39mcpwm_capture_timer_sync_phase_config_t"></span><span id="_CPPv237mcpwm_capture_timer_set_phase_on_sync24mcpwm_cap_timer_handle_tPK39mcpwm_capture_timer_sync_phase_config_t"></span><span id="mcpwm_capture_timer_set_phase_on_sync__mcpwm_cap_timer_handle_t.mcpwm_capture_timer_sync_phase_config_tCP"></span><span class="target" id="mcpwm__cap_8h_1a291691fa503806b342b8508ce5db1aec"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_capture_timer_set_phase_on_sync</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv424mcpwm_cap_timer_handle_t" title="mcpwm_cap_timer_handle_t"><span class="n"><span class="pre">mcpwm_cap_timer_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">cap_timer</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv439mcpwm_capture_timer_sync_phase_config_t" title="mcpwm_capture_timer_sync_phase_config_t"><span class="n"><span class="pre">mcpwm_capture_timer_sync_phase_config_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">config</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv437mcpwm_capture_timer_set_phase_on_sync24mcpwm_cap_timer_handle_tPK39mcpwm_capture_timer_sync_phase_config_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Set sync phase for MCPWM capture timer. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cap_timer</strong> -- <strong>[in]</strong> MCPWM capture timer, allocated by <code class="docutils literal notranslate"><span class="pre">mcpwm_new_capture_timer()</span></code></p></li>
<li><p><strong>config</strong> -- <strong>[in]</strong> MCPWM capture timer sync phase configuration </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK: Set sync phase for MCPWM capture timer successfully</p></li>
<li><p>ESP_ERR_INVALID_ARG: Set sync phase for MCPWM capture timer failed because of invalid argument</p></li>
<li><p>ESP_FAIL: Set sync phase for MCPWM capture timer failed because of other error </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv425mcpwm_new_capture_channel24mcpwm_cap_timer_handle_tPK30mcpwm_capture_channel_config_tP26mcpwm_cap_channel_handle_t">
<span id="_CPPv325mcpwm_new_capture_channel24mcpwm_cap_timer_handle_tPK30mcpwm_capture_channel_config_tP26mcpwm_cap_channel_handle_t"></span><span id="_CPPv225mcpwm_new_capture_channel24mcpwm_cap_timer_handle_tPK30mcpwm_capture_channel_config_tP26mcpwm_cap_channel_handle_t"></span><span id="mcpwm_new_capture_channel__mcpwm_cap_timer_handle_t.mcpwm_capture_channel_config_tCP.mcpwm_cap_channel_handle_tP"></span><span class="target" id="mcpwm__cap_8h_1a5a77690cfe2685da16dfcc40fb091e34"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_new_capture_channel</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv424mcpwm_cap_timer_handle_t" title="mcpwm_cap_timer_handle_t"><span class="n"><span class="pre">mcpwm_cap_timer_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">cap_timer</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv430mcpwm_capture_channel_config_t" title="mcpwm_capture_channel_config_t"><span class="n"><span class="pre">mcpwm_capture_channel_config_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">config</span></span>, <a class="reference internal" href="#_CPPv426mcpwm_cap_channel_handle_t" title="mcpwm_cap_channel_handle_t"><span class="n"><span class="pre">mcpwm_cap_channel_handle_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ret_cap_channel</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv425mcpwm_new_capture_channel24mcpwm_cap_timer_handle_tPK30mcpwm_capture_channel_config_tP26mcpwm_cap_channel_handle_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Create MCPWM capture channel. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The created capture channel won't be enabled until calling <code class="docutils literal notranslate"><span class="pre">mcpwm_capture_channel_enable</span></code></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cap_timer</strong> -- <strong>[in]</strong> MCPWM capture timer, allocated by <code class="docutils literal notranslate"><span class="pre">mcpwm_new_capture_timer()</span></code>, will be connected to the new capture channel </p></li>
<li><p><strong>config</strong> -- <strong>[in]</strong> MCPWM capture channel configuration </p></li>
<li><p><strong>ret_cap_channel</strong> -- <strong>[out]</strong> Returned MCPWM capture channel </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK: Create MCPWM capture channel successfully</p></li>
<li><p>ESP_ERR_INVALID_ARG: Create MCPWM capture channel failed because of invalid argument</p></li>
<li><p>ESP_ERR_NO_MEM: Create MCPWM capture channel failed because out of memory</p></li>
<li><p>ESP_ERR_NOT_FOUND: Create MCPWM capture channel failed because can't find free resource</p></li>
<li><p>ESP_FAIL: Create MCPWM capture channel failed because of other error </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv425mcpwm_del_capture_channel26mcpwm_cap_channel_handle_t">
<span id="_CPPv325mcpwm_del_capture_channel26mcpwm_cap_channel_handle_t"></span><span id="_CPPv225mcpwm_del_capture_channel26mcpwm_cap_channel_handle_t"></span><span id="mcpwm_del_capture_channel__mcpwm_cap_channel_handle_t"></span><span class="target" id="mcpwm__cap_8h_1a4d0a736ce943bb0d131430e4b49ee93e"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_del_capture_channel</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv426mcpwm_cap_channel_handle_t" title="mcpwm_cap_channel_handle_t"><span class="n"><span class="pre">mcpwm_cap_channel_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">cap_channel</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv425mcpwm_del_capture_channel26mcpwm_cap_channel_handle_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Delete MCPWM capture channel. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>cap_channel</strong> -- <strong>[in]</strong> MCPWM capture channel handle, allocated by <code class="docutils literal notranslate"><span class="pre">mcpwm_new_capture_channel()</span></code></p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK: Delete MCPWM capture channel successfully</p></li>
<li><p>ESP_ERR_INVALID_ARG: Delete MCPWM capture channel failed because of invalid argument</p></li>
<li><p>ESP_FAIL: Delete MCPWM capture channel failed because of other error </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv428mcpwm_capture_channel_enable26mcpwm_cap_channel_handle_t">
<span id="_CPPv328mcpwm_capture_channel_enable26mcpwm_cap_channel_handle_t"></span><span id="_CPPv228mcpwm_capture_channel_enable26mcpwm_cap_channel_handle_t"></span><span id="mcpwm_capture_channel_enable__mcpwm_cap_channel_handle_t"></span><span class="target" id="mcpwm__cap_8h_1a225f9d220d7fadf7edeaab1ab82ce747"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_capture_channel_enable</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv426mcpwm_cap_channel_handle_t" title="mcpwm_cap_channel_handle_t"><span class="n"><span class="pre">mcpwm_cap_channel_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">cap_channel</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv428mcpwm_capture_channel_enable26mcpwm_cap_channel_handle_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Enable MCPWM capture channel. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function will transit the channel state from init to enable. </p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function will enable the interrupt service, if it's lazy installed in <code class="docutils literal notranslate"><span class="pre">mcpwm_capture_channel_register_event_callbacks()</span></code>.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>cap_channel</strong> -- <strong>[in]</strong> MCPWM capture channel handle, allocated by <code class="docutils literal notranslate"><span class="pre">mcpwm_new_capture_channel()</span></code></p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK: Enable MCPWM capture channel successfully</p></li>
<li><p>ESP_ERR_INVALID_ARG: Enable MCPWM capture channel failed because of invalid argument</p></li>
<li><p>ESP_ERR_INVALID_STATE: Enable MCPWM capture channel failed because the channel is already enabled</p></li>
<li><p>ESP_FAIL: Enable MCPWM capture channel failed because of other error </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv429mcpwm_capture_channel_disable26mcpwm_cap_channel_handle_t">
<span id="_CPPv329mcpwm_capture_channel_disable26mcpwm_cap_channel_handle_t"></span><span id="_CPPv229mcpwm_capture_channel_disable26mcpwm_cap_channel_handle_t"></span><span id="mcpwm_capture_channel_disable__mcpwm_cap_channel_handle_t"></span><span class="target" id="mcpwm__cap_8h_1a692b8e01b5282e45d4f13e7f547acd29"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_capture_channel_disable</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv426mcpwm_cap_channel_handle_t" title="mcpwm_cap_channel_handle_t"><span class="n"><span class="pre">mcpwm_cap_channel_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">cap_channel</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv429mcpwm_capture_channel_disable26mcpwm_cap_channel_handle_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Disable MCPWM capture channel. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>cap_channel</strong> -- <strong>[in]</strong> MCPWM capture channel handle, allocated by <code class="docutils literal notranslate"><span class="pre">mcpwm_new_capture_channel()</span></code></p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK: Disable MCPWM capture channel successfully</p></li>
<li><p>ESP_ERR_INVALID_ARG: Disable MCPWM capture channel failed because of invalid argument</p></li>
<li><p>ESP_ERR_INVALID_STATE: Disable MCPWM capture channel failed because the channel is not enabled yet</p></li>
<li><p>ESP_FAIL: Disable MCPWM capture channel failed because of other error </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv446mcpwm_capture_channel_register_event_callbacks26mcpwm_cap_channel_handle_tPK31mcpwm_capture_event_callbacks_tPv">
<span id="_CPPv346mcpwm_capture_channel_register_event_callbacks26mcpwm_cap_channel_handle_tPK31mcpwm_capture_event_callbacks_tPv"></span><span id="_CPPv246mcpwm_capture_channel_register_event_callbacks26mcpwm_cap_channel_handle_tPK31mcpwm_capture_event_callbacks_tPv"></span><span id="mcpwm_capture_channel_register_event_callbacks__mcpwm_cap_channel_handle_t.mcpwm_capture_event_callbacks_tCP.voidP"></span><span class="target" id="mcpwm__cap_8h_1a1c7c6973e0bb86ad42073ad1427f5707"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_capture_channel_register_event_callbacks</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv426mcpwm_cap_channel_handle_t" title="mcpwm_cap_channel_handle_t"><span class="n"><span class="pre">mcpwm_cap_channel_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">cap_channel</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv431mcpwm_capture_event_callbacks_t" title="mcpwm_capture_event_callbacks_t"><span class="n"><span class="pre">mcpwm_capture_event_callbacks_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">cbs</span></span>, <span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">user_data</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv446mcpwm_capture_channel_register_event_callbacks26mcpwm_cap_channel_handle_tPK31mcpwm_capture_event_callbacks_tPv" title="Permalink to this definition"></a><br /></dt>
<dd><p>Set event callbacks for MCPWM capture channel. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The first call to this function needs to be before the call to <code class="docutils literal notranslate"><span class="pre">mcpwm_capture_channel_enable</span></code></p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>User can deregister a previously registered callback by calling this function and setting the callback member in the <code class="docutils literal notranslate"><span class="pre">cbs</span></code> structure to NULL.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cap_channel</strong> -- <strong>[in]</strong> MCPWM capture channel handle, allocated by <code class="docutils literal notranslate"><span class="pre">mcpwm_new_capture_channel()</span></code></p></li>
<li><p><strong>cbs</strong> -- <strong>[in]</strong> Group of callback functions </p></li>
<li><p><strong>user_data</strong> -- <strong>[in]</strong> User data, which will be passed to callback functions directly </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK: Set event callbacks successfully</p></li>
<li><p>ESP_ERR_INVALID_ARG: Set event callbacks failed because of invalid argument</p></li>
<li><p>ESP_ERR_INVALID_STATE: Set event callbacks failed because the channel is not in init state</p></li>
<li><p>ESP_FAIL: Set event callbacks failed because of other error </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv440mcpwm_capture_channel_trigger_soft_catch26mcpwm_cap_channel_handle_t">
<span id="_CPPv340mcpwm_capture_channel_trigger_soft_catch26mcpwm_cap_channel_handle_t"></span><span id="_CPPv240mcpwm_capture_channel_trigger_soft_catch26mcpwm_cap_channel_handle_t"></span><span id="mcpwm_capture_channel_trigger_soft_catch__mcpwm_cap_channel_handle_t"></span><span class="target" id="mcpwm__cap_8h_1a0aaa181aa3042220f574344682f9bf46"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_capture_channel_trigger_soft_catch</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv426mcpwm_cap_channel_handle_t" title="mcpwm_cap_channel_handle_t"><span class="n"><span class="pre">mcpwm_cap_channel_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">cap_channel</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv440mcpwm_capture_channel_trigger_soft_catch26mcpwm_cap_channel_handle_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Trigger a catch by software. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>cap_channel</strong> -- <strong>[in]</strong> MCPWM capture channel handle, allocated by <code class="docutils literal notranslate"><span class="pre">mcpwm_new_capture_channel()</span></code></p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK: Trigger software catch successfully</p></li>
<li><p>ESP_ERR_INVALID_ARG: Trigger software catch failed because of invalid argument</p></li>
<li><p>ESP_ERR_INVALID_STATE: Trigger software catch failed because the channel is not enabled yet</p></li>
<li><p>ESP_FAIL: Trigger software catch failed because of other error </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="id28">
<h3>Structures<a class="headerlink" href="#id28" title="Permalink to this heading"></a></h3>
<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv428mcpwm_capture_timer_config_t">
<span id="_CPPv328mcpwm_capture_timer_config_t"></span><span id="_CPPv228mcpwm_capture_timer_config_t"></span><span id="mcpwm_capture_timer_config_t"></span><span class="target" id="structmcpwm__capture__timer__config__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_capture_timer_config_t</span></span></span><a class="headerlink" href="#_CPPv428mcpwm_capture_timer_config_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>MCPWM capture timer configuration structure. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N28mcpwm_capture_timer_config_t8group_idE">
<span id="_CPPv3N28mcpwm_capture_timer_config_t8group_idE"></span><span id="_CPPv2N28mcpwm_capture_timer_config_t8group_idE"></span><span id="mcpwm_capture_timer_config_t::group_id__i"></span><span class="target" id="structmcpwm__capture__timer__config__t_1a2af39e877513f7934f9d03afa4c2a73f"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">group_id</span></span></span><a class="headerlink" href="#_CPPv4N28mcpwm_capture_timer_config_t8group_idE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Specify from which group to allocate the capture timer </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N28mcpwm_capture_timer_config_t7clk_srcE">
<span id="_CPPv3N28mcpwm_capture_timer_config_t7clk_srcE"></span><span id="_CPPv2N28mcpwm_capture_timer_config_t7clk_srcE"></span><span id="mcpwm_capture_timer_config_t::clk_src__mcpwm_capture_clock_source_t"></span><span class="target" id="structmcpwm__capture__timer__config__t_1a8b9624a99e18ccf1cc751c7cc44bd81f"></span><a class="reference internal" href="#_CPPv428mcpwm_capture_clock_source_t" title="mcpwm_capture_clock_source_t"><span class="n"><span class="pre">mcpwm_capture_clock_source_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">clk_src</span></span></span><a class="headerlink" href="#_CPPv4N28mcpwm_capture_timer_config_t7clk_srcE" title="Permalink to this definition"></a><br /></dt>
<dd><p>MCPWM capture timer clock source </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N28mcpwm_capture_timer_config_t13resolution_hzE">
<span id="_CPPv3N28mcpwm_capture_timer_config_t13resolution_hzE"></span><span id="_CPPv2N28mcpwm_capture_timer_config_t13resolution_hzE"></span><span id="mcpwm_capture_timer_config_t::resolution_hz__uint32_t"></span><span class="target" id="structmcpwm__capture__timer__config__t_1aa594afe4b630140c521e33ebd10886bd"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">resolution_hz</span></span></span><a class="headerlink" href="#_CPPv4N28mcpwm_capture_timer_config_t13resolution_hzE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Resolution of capture timer </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N28mcpwm_capture_timer_config_t8allow_pdE">
<span id="_CPPv3N28mcpwm_capture_timer_config_t8allow_pdE"></span><span id="_CPPv2N28mcpwm_capture_timer_config_t8allow_pdE"></span><span id="mcpwm_capture_timer_config_t::allow_pd__uint32_t"></span><span class="target" id="structmcpwm__capture__timer__config__t_1ad73aacbe333114bc3c87abbc1f15ad60"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">allow_pd</span></span></span><a class="headerlink" href="#_CPPv4N28mcpwm_capture_timer_config_t8allow_pdE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Set to allow power down. When this flag set, the driver will backup/restore the MCPWM registers before/after entering/exist sleep mode. By this approach, the system can power off MCPWM's power domain. This can save power, but at the expense of more RAM being consumed. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N28mcpwm_capture_timer_config_t5flagsE">
<span id="_CPPv3N28mcpwm_capture_timer_config_t5flagsE"></span><span id="_CPPv2N28mcpwm_capture_timer_config_t5flagsE"></span><span id="mcpwm_capture_timer_config_t::flags__mcpwm_capture_timer_config_t"></span><span class="target" id="structmcpwm__capture__timer__config__t_1a38f6f6cf45d2374e09dde517afefd668"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv428mcpwm_capture_timer_config_t" title="mcpwm_capture_timer_config_t"><span class="n"><span class="pre">mcpwm_capture_timer_config_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">flags</span></span></span><a class="headerlink" href="#_CPPv4N28mcpwm_capture_timer_config_t5flagsE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Extra configuration flags for timer </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv439mcpwm_capture_timer_sync_phase_config_t">
<span id="_CPPv339mcpwm_capture_timer_sync_phase_config_t"></span><span id="_CPPv239mcpwm_capture_timer_sync_phase_config_t"></span><span id="mcpwm_capture_timer_sync_phase_config_t"></span><span class="target" id="structmcpwm__capture__timer__sync__phase__config__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_capture_timer_sync_phase_config_t</span></span></span><a class="headerlink" href="#_CPPv439mcpwm_capture_timer_sync_phase_config_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>MCPWM Capture timer sync phase configuration. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N39mcpwm_capture_timer_sync_phase_config_t8sync_srcE">
<span id="_CPPv3N39mcpwm_capture_timer_sync_phase_config_t8sync_srcE"></span><span id="_CPPv2N39mcpwm_capture_timer_sync_phase_config_t8sync_srcE"></span><span id="mcpwm_capture_timer_sync_phase_config_t::sync_src__mcpwm_sync_handle_t"></span><span class="target" id="structmcpwm__capture__timer__sync__phase__config__t_1a7de0d6efb7c337f5ef91e503301e730e"></span><a class="reference internal" href="#_CPPv419mcpwm_sync_handle_t" title="mcpwm_sync_handle_t"><span class="n"><span class="pre">mcpwm_sync_handle_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">sync_src</span></span></span><a class="headerlink" href="#_CPPv4N39mcpwm_capture_timer_sync_phase_config_t8sync_srcE" title="Permalink to this definition"></a><br /></dt>
<dd><p>The sync event source </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N39mcpwm_capture_timer_sync_phase_config_t11count_valueE">
<span id="_CPPv3N39mcpwm_capture_timer_sync_phase_config_t11count_valueE"></span><span id="_CPPv2N39mcpwm_capture_timer_sync_phase_config_t11count_valueE"></span><span id="mcpwm_capture_timer_sync_phase_config_t::count_value__uint32_t"></span><span class="target" id="structmcpwm__capture__timer__sync__phase__config__t_1ab0c9f2ece70a1d867b0d32a8e675d0d6"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">count_value</span></span></span><a class="headerlink" href="#_CPPv4N39mcpwm_capture_timer_sync_phase_config_t11count_valueE" title="Permalink to this definition"></a><br /></dt>
<dd><p>The count value that should lock to upon sync event </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N39mcpwm_capture_timer_sync_phase_config_t9directionE">
<span id="_CPPv3N39mcpwm_capture_timer_sync_phase_config_t9directionE"></span><span id="_CPPv2N39mcpwm_capture_timer_sync_phase_config_t9directionE"></span><span id="mcpwm_capture_timer_sync_phase_config_t::direction__mcpwm_timer_direction_t"></span><span class="target" id="structmcpwm__capture__timer__sync__phase__config__t_1a1eb0afa491aff87d843f7c2f186f1d6b"></span><a class="reference internal" href="#_CPPv423mcpwm_timer_direction_t" title="mcpwm_timer_direction_t"><span class="n"><span class="pre">mcpwm_timer_direction_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">direction</span></span></span><a class="headerlink" href="#_CPPv4N39mcpwm_capture_timer_sync_phase_config_t9directionE" title="Permalink to this definition"></a><br /></dt>
<dd><p>The count direction that should lock to upon sync event </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv430mcpwm_capture_channel_config_t">
<span id="_CPPv330mcpwm_capture_channel_config_t"></span><span id="_CPPv230mcpwm_capture_channel_config_t"></span><span id="mcpwm_capture_channel_config_t"></span><span class="target" id="structmcpwm__capture__channel__config__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_capture_channel_config_t</span></span></span><a class="headerlink" href="#_CPPv430mcpwm_capture_channel_config_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>MCPWM capture channel configuration structure. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N30mcpwm_capture_channel_config_t8gpio_numE">
<span id="_CPPv3N30mcpwm_capture_channel_config_t8gpio_numE"></span><span id="_CPPv2N30mcpwm_capture_channel_config_t8gpio_numE"></span><span id="mcpwm_capture_channel_config_t::gpio_num__i"></span><span class="target" id="structmcpwm__capture__channel__config__t_1a1501e0ed9f89aa07646f2ff4c40cf3b3"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">gpio_num</span></span></span><a class="headerlink" href="#_CPPv4N30mcpwm_capture_channel_config_t8gpio_numE" title="Permalink to this definition"></a><br /></dt>
<dd><p>GPIO used capturing input signal </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N30mcpwm_capture_channel_config_t13intr_priorityE">
<span id="_CPPv3N30mcpwm_capture_channel_config_t13intr_priorityE"></span><span id="_CPPv2N30mcpwm_capture_channel_config_t13intr_priorityE"></span><span id="mcpwm_capture_channel_config_t::intr_priority__i"></span><span class="target" id="structmcpwm__capture__channel__config__t_1a1838f99f51e1e4bdb208c3f34dfb7aed"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">intr_priority</span></span></span><a class="headerlink" href="#_CPPv4N30mcpwm_capture_channel_config_t13intr_priorityE" title="Permalink to this definition"></a><br /></dt>
<dd><p>MCPWM capture interrupt priority, if set to 0, the driver will try to allocate an interrupt with a relative low priority (1,2,3) </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N30mcpwm_capture_channel_config_t8prescaleE">
<span id="_CPPv3N30mcpwm_capture_channel_config_t8prescaleE"></span><span id="_CPPv2N30mcpwm_capture_channel_config_t8prescaleE"></span><span id="mcpwm_capture_channel_config_t::prescale__uint32_t"></span><span class="target" id="structmcpwm__capture__channel__config__t_1a23318bf6c4b5d0aac1063f60a7f159c1"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">prescale</span></span></span><a class="headerlink" href="#_CPPv4N30mcpwm_capture_channel_config_t8prescaleE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Prescale of input signal, effective frequency = cap_input_clk/prescale </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N30mcpwm_capture_channel_config_t5flagsE">
<span id="_CPPv3N30mcpwm_capture_channel_config_t5flagsE"></span><span id="_CPPv2N30mcpwm_capture_channel_config_t5flagsE"></span><span id="mcpwm_capture_channel_config_t::flags__mcpwm_capture_channel_config_t::extra_capture_channel_flags"></span><span class="target" id="structmcpwm__capture__channel__config__t_1a512fe6cc50a27c4167b635d596f6e120"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv430mcpwm_capture_channel_config_t" title="mcpwm_capture_channel_config_t"><span class="n"><span class="pre">mcpwm_capture_channel_config_t</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="#_CPPv4N30mcpwm_capture_channel_config_t27extra_capture_channel_flagsE" title="mcpwm_capture_channel_config_t::extra_capture_channel_flags"><span class="n"><span class="pre">extra_capture_channel_flags</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">flags</span></span></span><a class="headerlink" href="#_CPPv4N30mcpwm_capture_channel_config_t5flagsE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Extra configuration flags for capture channel </p>
</dd></dl>

</div>
<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv4N30mcpwm_capture_channel_config_t27extra_capture_channel_flagsE">
<span id="_CPPv3N30mcpwm_capture_channel_config_t27extra_capture_channel_flagsE"></span><span id="_CPPv2N30mcpwm_capture_channel_config_t27extra_capture_channel_flagsE"></span><span id="mcpwm_capture_channel_config_t::extra_capture_channel_flags"></span><span class="target" id="structmcpwm__capture__channel__config__t_1_1extra__capture__channel__flags"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">extra_capture_channel_flags</span></span></span><a class="headerlink" href="#_CPPv4N30mcpwm_capture_channel_config_t27extra_capture_channel_flagsE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Extra configuration flags for capture channel. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N30mcpwm_capture_channel_config_t27extra_capture_channel_flags8pos_edgeE">
<span id="_CPPv3N30mcpwm_capture_channel_config_t27extra_capture_channel_flags8pos_edgeE"></span><span id="_CPPv2N30mcpwm_capture_channel_config_t27extra_capture_channel_flags8pos_edgeE"></span><span id="mcpwm_capture_channel_config_t::extra_capture_channel_flags::pos_edge__uint32_t"></span><span class="target" id="structmcpwm__capture__channel__config__t_1_1extra__capture__channel__flags_1a170088ab1b3b7976c7d05259f1883596"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">pos_edge</span></span></span><a class="headerlink" href="#_CPPv4N30mcpwm_capture_channel_config_t27extra_capture_channel_flags8pos_edgeE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Whether to capture on positive edge </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N30mcpwm_capture_channel_config_t27extra_capture_channel_flags8neg_edgeE">
<span id="_CPPv3N30mcpwm_capture_channel_config_t27extra_capture_channel_flags8neg_edgeE"></span><span id="_CPPv2N30mcpwm_capture_channel_config_t27extra_capture_channel_flags8neg_edgeE"></span><span id="mcpwm_capture_channel_config_t::extra_capture_channel_flags::neg_edge__uint32_t"></span><span class="target" id="structmcpwm__capture__channel__config__t_1_1extra__capture__channel__flags_1ab12f7ccc98a5a6ebf44dc6fa507e5796"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">neg_edge</span></span></span><a class="headerlink" href="#_CPPv4N30mcpwm_capture_channel_config_t27extra_capture_channel_flags8neg_edgeE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Whether to capture on negative edge </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N30mcpwm_capture_channel_config_t27extra_capture_channel_flags7pull_upE">
<span id="_CPPv3N30mcpwm_capture_channel_config_t27extra_capture_channel_flags7pull_upE"></span><span id="_CPPv2N30mcpwm_capture_channel_config_t27extra_capture_channel_flags7pull_upE"></span><span id="mcpwm_capture_channel_config_t::extra_capture_channel_flags::pull_up__uint32_t"></span><span class="target" id="structmcpwm__capture__channel__config__t_1_1extra__capture__channel__flags_1ac04d2246f7c9945ac0e9097639ae1ef0"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">pull_up</span></span></span><a class="headerlink" href="#_CPPv4N30mcpwm_capture_channel_config_t27extra_capture_channel_flags7pull_upE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Whether to pull up internally </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N30mcpwm_capture_channel_config_t27extra_capture_channel_flags9pull_downE">
<span id="_CPPv3N30mcpwm_capture_channel_config_t27extra_capture_channel_flags9pull_downE"></span><span id="_CPPv2N30mcpwm_capture_channel_config_t27extra_capture_channel_flags9pull_downE"></span><span id="mcpwm_capture_channel_config_t::extra_capture_channel_flags::pull_down__uint32_t"></span><span class="target" id="structmcpwm__capture__channel__config__t_1_1extra__capture__channel__flags_1a697e78e42985bcb159efdc2154cb21e9"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">pull_down</span></span></span><a class="headerlink" href="#_CPPv4N30mcpwm_capture_channel_config_t27extra_capture_channel_flags9pull_downE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Whether to pull down internally </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N30mcpwm_capture_channel_config_t27extra_capture_channel_flags17invert_cap_signalE">
<span id="_CPPv3N30mcpwm_capture_channel_config_t27extra_capture_channel_flags17invert_cap_signalE"></span><span id="_CPPv2N30mcpwm_capture_channel_config_t27extra_capture_channel_flags17invert_cap_signalE"></span><span id="mcpwm_capture_channel_config_t::extra_capture_channel_flags::invert_cap_signal__uint32_t"></span><span class="target" id="structmcpwm__capture__channel__config__t_1_1extra__capture__channel__flags_1a74792f2588489beb2b47809db102dfd9"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">invert_cap_signal</span></span></span><a class="headerlink" href="#_CPPv4N30mcpwm_capture_channel_config_t27extra_capture_channel_flags17invert_cap_signalE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Invert the input capture signal </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N30mcpwm_capture_channel_config_t27extra_capture_channel_flags12io_loop_backE">
<span id="_CPPv3N30mcpwm_capture_channel_config_t27extra_capture_channel_flags12io_loop_backE"></span><span id="_CPPv2N30mcpwm_capture_channel_config_t27extra_capture_channel_flags12io_loop_backE"></span><span id="mcpwm_capture_channel_config_t::extra_capture_channel_flags::io_loop_back__uint32_t"></span><span class="target" id="structmcpwm__capture__channel__config__t_1_1extra__capture__channel__flags_1a0902b2e5795195cdb1334bb6cd97e19c"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">io_loop_back</span></span></span><a class="headerlink" href="#_CPPv4N30mcpwm_capture_channel_config_t27extra_capture_channel_flags12io_loop_backE" title="Permalink to this definition"></a><br /></dt>
<dd><p>For debug/test, the signal output from the GPIO will be fed to the input path as well </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N30mcpwm_capture_channel_config_t27extra_capture_channel_flags20keep_io_conf_at_exitE">
<span id="_CPPv3N30mcpwm_capture_channel_config_t27extra_capture_channel_flags20keep_io_conf_at_exitE"></span><span id="_CPPv2N30mcpwm_capture_channel_config_t27extra_capture_channel_flags20keep_io_conf_at_exitE"></span><span id="mcpwm_capture_channel_config_t::extra_capture_channel_flags::keep_io_conf_at_exit__uint32_t"></span><span class="target" id="structmcpwm__capture__channel__config__t_1_1extra__capture__channel__flags_1aad7facbe312e4bf4953cfca8f25fae17"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">keep_io_conf_at_exit</span></span></span><a class="headerlink" href="#_CPPv4N30mcpwm_capture_channel_config_t27extra_capture_channel_flags20keep_io_conf_at_exitE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Deprecated. Driver won't change the GPIO configuration in deinilization. </p>
</dd></dl>

</div>
</dd></dl>

</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv431mcpwm_capture_event_callbacks_t">
<span id="_CPPv331mcpwm_capture_event_callbacks_t"></span><span id="_CPPv231mcpwm_capture_event_callbacks_t"></span><span id="mcpwm_capture_event_callbacks_t"></span><span class="target" id="structmcpwm__capture__event__callbacks__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_capture_event_callbacks_t</span></span></span><a class="headerlink" href="#_CPPv431mcpwm_capture_event_callbacks_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Group of supported MCPWM capture event callbacks. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The callbacks are all running under ISR environment </p>
</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N31mcpwm_capture_event_callbacks_t6on_capE">
<span id="_CPPv3N31mcpwm_capture_event_callbacks_t6on_capE"></span><span id="_CPPv2N31mcpwm_capture_event_callbacks_t6on_capE"></span><span id="mcpwm_capture_event_callbacks_t::on_cap__mcpwm_capture_event_cb_t"></span><span class="target" id="structmcpwm__capture__event__callbacks__t_1af904e0f944b011301e4f2cfe1ed06379"></span><a class="reference internal" href="#_CPPv424mcpwm_capture_event_cb_t" title="mcpwm_capture_event_cb_t"><span class="n"><span class="pre">mcpwm_capture_event_cb_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">on_cap</span></span></span><a class="headerlink" href="#_CPPv4N31mcpwm_capture_event_callbacks_t6on_capE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Callback function that would be invoked when capture event occurred </p>
</dd></dl>

</div>
</dd></dl>

</section>
<section id="id29">
<h3>Header File<a class="headerlink" href="#id29" title="Permalink to this heading"></a></h3>
<ul>
<li><p><a class="reference external" href="https://github.com/espressif/esp-idf/blob/v5.4.2/components/esp_driver_mcpwm/include/driver/mcpwm_etm.h">components/esp_driver_mcpwm/include/driver/mcpwm_etm.h</a></p></li>
<li><p>This header file can be included with:</p>
<blockquote>
<div><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;driver/mcpwm_etm.h&quot;</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>This header file is a part of the API provided by the <code class="docutils literal notranslate"><span class="pre">esp_driver_mcpwm</span></code> component. To declare that your component depends on <code class="docutils literal notranslate"><span class="pre">esp_driver_mcpwm</span></code>, add the following to your CMakeLists.txt:</p>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>REQUIRES esp_driver_mcpwm
</pre></div>
</div>
<p>or</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>PRIV_REQUIRES esp_driver_mcpwm
</pre></div>
</div>
</div></blockquote>
</li>
</ul>
</section>
<section id="id30">
<h3>Functions<a class="headerlink" href="#id30" title="Permalink to this heading"></a></h3>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv430mcpwm_comparator_new_etm_event19mcpwm_cmpr_handle_tPK29mcpwm_cmpr_etm_event_config_tP22esp_etm_event_handle_t">
<span id="_CPPv330mcpwm_comparator_new_etm_event19mcpwm_cmpr_handle_tPK29mcpwm_cmpr_etm_event_config_tP22esp_etm_event_handle_t"></span><span id="_CPPv230mcpwm_comparator_new_etm_event19mcpwm_cmpr_handle_tPK29mcpwm_cmpr_etm_event_config_tP22esp_etm_event_handle_t"></span><span id="mcpwm_comparator_new_etm_event__mcpwm_cmpr_handle_t.mcpwm_cmpr_etm_event_config_tCP.esp_etm_event_handle_tP"></span><span class="target" id="mcpwm__etm_8h_1ade15898989f24ef00a3b689b006e6279"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_comparator_new_etm_event</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv419mcpwm_cmpr_handle_t" title="mcpwm_cmpr_handle_t"><span class="n"><span class="pre">mcpwm_cmpr_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">cmpr</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv429mcpwm_cmpr_etm_event_config_t" title="mcpwm_cmpr_etm_event_config_t"><span class="n"><span class="pre">mcpwm_cmpr_etm_event_config_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">config</span></span>, <span class="n"><span class="pre">esp_etm_event_handle_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">out_event</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv430mcpwm_comparator_new_etm_event19mcpwm_cmpr_handle_tPK29mcpwm_cmpr_etm_event_config_tP22esp_etm_event_handle_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Get the ETM event for MCPWM comparator. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The created ETM event object can be deleted later by calling <code class="docutils literal notranslate"><span class="pre">esp_etm_del_event</span></code></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cmpr</strong> -- <strong>[in]</strong> MCPWM comparator, allocated by <code class="docutils literal notranslate"><span class="pre">mcpwm_new_comparator()</span></code> or <code class="docutils literal notranslate"><span class="pre">mcpwm_new_event_comparator()</span></code></p></li>
<li><p><strong>config</strong> -- <strong>[in]</strong> MCPWM ETM comparator event configuration </p></li>
<li><p><strong>out_event</strong> -- <strong>[out]</strong> Returned ETM event handle </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK: Get ETM event successfully</p></li>
<li><p>ESP_ERR_INVALID_ARG: Get ETM event failed because of invalid argument</p></li>
<li><p>ESP_FAIL: Get ETM event failed because of other error </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="id31">
<h3>Structures<a class="headerlink" href="#id31" title="Permalink to this heading"></a></h3>
<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv429mcpwm_cmpr_etm_event_config_t">
<span id="_CPPv329mcpwm_cmpr_etm_event_config_t"></span><span id="_CPPv229mcpwm_cmpr_etm_event_config_t"></span><span id="mcpwm_cmpr_etm_event_config_t"></span><span class="target" id="structmcpwm__cmpr__etm__event__config__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_cmpr_etm_event_config_t</span></span></span><a class="headerlink" href="#_CPPv429mcpwm_cmpr_etm_event_config_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>MCPWM event comparator ETM event configuration. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N29mcpwm_cmpr_etm_event_config_t10event_typeE">
<span id="_CPPv3N29mcpwm_cmpr_etm_event_config_t10event_typeE"></span><span id="_CPPv2N29mcpwm_cmpr_etm_event_config_t10event_typeE"></span><span id="mcpwm_cmpr_etm_event_config_t::event_type__mcpwm_comparator_etm_event_type_t"></span><span class="target" id="structmcpwm__cmpr__etm__event__config__t_1a0c8c6a02e8f38bc8e24d3afe9b153948"></span><a class="reference internal" href="#_CPPv433mcpwm_comparator_etm_event_type_t" title="mcpwm_comparator_etm_event_type_t"><span class="n"><span class="pre">mcpwm_comparator_etm_event_type_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">event_type</span></span></span><a class="headerlink" href="#_CPPv4N29mcpwm_cmpr_etm_event_config_t10event_typeE" title="Permalink to this definition"></a><br /></dt>
<dd><p>MCPWM comparator ETM event type </p>
</dd></dl>

</div>
</dd></dl>

</section>
<section id="id32">
<h3>Header File<a class="headerlink" href="#id32" title="Permalink to this heading"></a></h3>
<ul>
<li><p><a class="reference external" href="https://github.com/espressif/esp-idf/blob/v5.4.2/components/esp_driver_mcpwm/include/driver/mcpwm_types.h">components/esp_driver_mcpwm/include/driver/mcpwm_types.h</a></p></li>
<li><p>This header file can be included with:</p>
<blockquote>
<div><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;driver/mcpwm_types.h&quot;</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>This header file is a part of the API provided by the <code class="docutils literal notranslate"><span class="pre">esp_driver_mcpwm</span></code> component. To declare that your component depends on <code class="docutils literal notranslate"><span class="pre">esp_driver_mcpwm</span></code>, add the following to your CMakeLists.txt:</p>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>REQUIRES esp_driver_mcpwm
</pre></div>
</div>
<p>or</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>PRIV_REQUIRES esp_driver_mcpwm
</pre></div>
</div>
</div></blockquote>
</li>
</ul>
</section>
<section id="id33">
<h3>Structures<a class="headerlink" href="#id33" title="Permalink to this heading"></a></h3>
<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv424mcpwm_timer_event_data_t">
<span id="_CPPv324mcpwm_timer_event_data_t"></span><span id="_CPPv224mcpwm_timer_event_data_t"></span><span id="mcpwm_timer_event_data_t"></span><span class="target" id="structmcpwm__timer__event__data__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_timer_event_data_t</span></span></span><a class="headerlink" href="#_CPPv424mcpwm_timer_event_data_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>MCPWM timer event data. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24mcpwm_timer_event_data_t11count_valueE">
<span id="_CPPv3N24mcpwm_timer_event_data_t11count_valueE"></span><span id="_CPPv2N24mcpwm_timer_event_data_t11count_valueE"></span><span id="mcpwm_timer_event_data_t::count_value__uint32_t"></span><span class="target" id="structmcpwm__timer__event__data__t_1af1de011f48c7629256d0da46b65fe896"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">count_value</span></span></span><a class="headerlink" href="#_CPPv4N24mcpwm_timer_event_data_t11count_valueE" title="Permalink to this definition"></a><br /></dt>
<dd><p>MCPWM timer count value </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24mcpwm_timer_event_data_t9directionE">
<span id="_CPPv3N24mcpwm_timer_event_data_t9directionE"></span><span id="_CPPv2N24mcpwm_timer_event_data_t9directionE"></span><span id="mcpwm_timer_event_data_t::direction__mcpwm_timer_direction_t"></span><span class="target" id="structmcpwm__timer__event__data__t_1a57c34be7737ea0fd85a1a4f3c4dc5b88"></span><a class="reference internal" href="#_CPPv423mcpwm_timer_direction_t" title="mcpwm_timer_direction_t"><span class="n"><span class="pre">mcpwm_timer_direction_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">direction</span></span></span><a class="headerlink" href="#_CPPv4N24mcpwm_timer_event_data_t9directionE" title="Permalink to this definition"></a><br /></dt>
<dd><p>MCPWM timer count direction </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv424mcpwm_brake_event_data_t">
<span id="_CPPv324mcpwm_brake_event_data_t"></span><span id="_CPPv224mcpwm_brake_event_data_t"></span><span id="mcpwm_brake_event_data_t"></span><span class="target" id="structmcpwm__brake__event__data__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_brake_event_data_t</span></span></span><a class="headerlink" href="#_CPPv424mcpwm_brake_event_data_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>MCPWM brake event data. </p>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv424mcpwm_fault_event_data_t">
<span id="_CPPv324mcpwm_fault_event_data_t"></span><span id="_CPPv224mcpwm_fault_event_data_t"></span><span id="mcpwm_fault_event_data_t"></span><span class="target" id="structmcpwm__fault__event__data__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_fault_event_data_t</span></span></span><a class="headerlink" href="#_CPPv424mcpwm_fault_event_data_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>MCPWM fault event data. </p>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv426mcpwm_compare_event_data_t">
<span id="_CPPv326mcpwm_compare_event_data_t"></span><span id="_CPPv226mcpwm_compare_event_data_t"></span><span id="mcpwm_compare_event_data_t"></span><span class="target" id="structmcpwm__compare__event__data__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_compare_event_data_t</span></span></span><a class="headerlink" href="#_CPPv426mcpwm_compare_event_data_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>MCPWM compare event data. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N26mcpwm_compare_event_data_t13compare_ticksE">
<span id="_CPPv3N26mcpwm_compare_event_data_t13compare_ticksE"></span><span id="_CPPv2N26mcpwm_compare_event_data_t13compare_ticksE"></span><span id="mcpwm_compare_event_data_t::compare_ticks__uint32_t"></span><span class="target" id="structmcpwm__compare__event__data__t_1aad333af83052c6f8b123dea4692ffddb"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">compare_ticks</span></span></span><a class="headerlink" href="#_CPPv4N26mcpwm_compare_event_data_t13compare_ticksE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Compare value </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N26mcpwm_compare_event_data_t9directionE">
<span id="_CPPv3N26mcpwm_compare_event_data_t9directionE"></span><span id="_CPPv2N26mcpwm_compare_event_data_t9directionE"></span><span id="mcpwm_compare_event_data_t::direction__mcpwm_timer_direction_t"></span><span class="target" id="structmcpwm__compare__event__data__t_1a3a7d4bd4938feff0b2c762bb02e98560"></span><a class="reference internal" href="#_CPPv423mcpwm_timer_direction_t" title="mcpwm_timer_direction_t"><span class="n"><span class="pre">mcpwm_timer_direction_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">direction</span></span></span><a class="headerlink" href="#_CPPv4N26mcpwm_compare_event_data_t9directionE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Count direction </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv426mcpwm_capture_event_data_t">
<span id="_CPPv326mcpwm_capture_event_data_t"></span><span id="_CPPv226mcpwm_capture_event_data_t"></span><span id="mcpwm_capture_event_data_t"></span><span class="target" id="structmcpwm__capture__event__data__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_capture_event_data_t</span></span></span><a class="headerlink" href="#_CPPv426mcpwm_capture_event_data_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>MCPWM capture event data. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N26mcpwm_capture_event_data_t9cap_valueE">
<span id="_CPPv3N26mcpwm_capture_event_data_t9cap_valueE"></span><span id="_CPPv2N26mcpwm_capture_event_data_t9cap_valueE"></span><span id="mcpwm_capture_event_data_t::cap_value__uint32_t"></span><span class="target" id="structmcpwm__capture__event__data__t_1a253f31e29240f92e9d12b3c485888e67"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">cap_value</span></span></span><a class="headerlink" href="#_CPPv4N26mcpwm_capture_event_data_t9cap_valueE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Captured value </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N26mcpwm_capture_event_data_t8cap_edgeE">
<span id="_CPPv3N26mcpwm_capture_event_data_t8cap_edgeE"></span><span id="_CPPv2N26mcpwm_capture_event_data_t8cap_edgeE"></span><span id="mcpwm_capture_event_data_t::cap_edge__mcpwm_capture_edge_t"></span><span class="target" id="structmcpwm__capture__event__data__t_1a3a87567f5763cf5da419f978e43d3f85"></span><a class="reference internal" href="#_CPPv420mcpwm_capture_edge_t" title="mcpwm_capture_edge_t"><span class="n"><span class="pre">mcpwm_capture_edge_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">cap_edge</span></span></span><a class="headerlink" href="#_CPPv4N26mcpwm_capture_event_data_t8cap_edgeE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Capture edge </p>
</dd></dl>

</div>
</dd></dl>

</section>
<section id="type-definitions">
<h3>Type Definitions<a class="headerlink" href="#type-definitions" title="Permalink to this heading"></a></h3>
<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv420mcpwm_timer_handle_t">
<span id="_CPPv320mcpwm_timer_handle_t"></span><span id="_CPPv220mcpwm_timer_handle_t"></span><span id="mcpwm_timer_handle_t"></span><span class="target" id="esp__driver__mcpwm_2include_2driver_2mcpwm__types_8h_1a0b8220dcd2e74d54d11906dbcc1e66b9"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">mcpwm_timer_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_timer_handle_t</span></span></span><a class="headerlink" href="#_CPPv420mcpwm_timer_handle_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Type of MCPWM timer handle. </p>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv419mcpwm_oper_handle_t">
<span id="_CPPv319mcpwm_oper_handle_t"></span><span id="_CPPv219mcpwm_oper_handle_t"></span><span id="mcpwm_oper_handle_t"></span><span class="target" id="esp__driver__mcpwm_2include_2driver_2mcpwm__types_8h_1a99d31bb110f80586d6ad913512c0c319"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">mcpwm_oper_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_oper_handle_t</span></span></span><a class="headerlink" href="#_CPPv419mcpwm_oper_handle_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Type of MCPWM operator handle. </p>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv419mcpwm_cmpr_handle_t">
<span id="_CPPv319mcpwm_cmpr_handle_t"></span><span id="_CPPv219mcpwm_cmpr_handle_t"></span><span id="mcpwm_cmpr_handle_t"></span><span class="target" id="esp__driver__mcpwm_2include_2driver_2mcpwm__types_8h_1a70572bdaeb10900d20aa31e36f4e49a4"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">mcpwm_cmpr_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_cmpr_handle_t</span></span></span><a class="headerlink" href="#_CPPv419mcpwm_cmpr_handle_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Type of MCPWM comparator handle. </p>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv418mcpwm_gen_handle_t">
<span id="_CPPv318mcpwm_gen_handle_t"></span><span id="_CPPv218mcpwm_gen_handle_t"></span><span id="mcpwm_gen_handle_t"></span><span class="target" id="esp__driver__mcpwm_2include_2driver_2mcpwm__types_8h_1aee09c459a1edd98bbc1d4008366a4846"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">mcpwm_gen_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_gen_handle_t</span></span></span><a class="headerlink" href="#_CPPv418mcpwm_gen_handle_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Type of MCPWM generator handle. </p>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv420mcpwm_fault_handle_t">
<span id="_CPPv320mcpwm_fault_handle_t"></span><span id="_CPPv220mcpwm_fault_handle_t"></span><span id="mcpwm_fault_handle_t"></span><span class="target" id="esp__driver__mcpwm_2include_2driver_2mcpwm__types_8h_1ac40997ffa96f88547433aaf25efd0d03"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">mcpwm_fault_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_fault_handle_t</span></span></span><a class="headerlink" href="#_CPPv420mcpwm_fault_handle_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Type of MCPWM fault handle. </p>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv419mcpwm_sync_handle_t">
<span id="_CPPv319mcpwm_sync_handle_t"></span><span id="_CPPv219mcpwm_sync_handle_t"></span><span id="mcpwm_sync_handle_t"></span><span class="target" id="esp__driver__mcpwm_2include_2driver_2mcpwm__types_8h_1ade01e80d22fab3bb143754362e24fb93"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">mcpwm_sync_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_sync_handle_t</span></span></span><a class="headerlink" href="#_CPPv419mcpwm_sync_handle_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Type of MCPWM sync handle. </p>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv424mcpwm_cap_timer_handle_t">
<span id="_CPPv324mcpwm_cap_timer_handle_t"></span><span id="_CPPv224mcpwm_cap_timer_handle_t"></span><span id="mcpwm_cap_timer_handle_t"></span><span class="target" id="esp__driver__mcpwm_2include_2driver_2mcpwm__types_8h_1af2ecb7f52c815b002ed4a12917c9df49"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">mcpwm_cap_timer_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_cap_timer_handle_t</span></span></span><a class="headerlink" href="#_CPPv424mcpwm_cap_timer_handle_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Type of MCPWM capture timer handle. </p>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv426mcpwm_cap_channel_handle_t">
<span id="_CPPv326mcpwm_cap_channel_handle_t"></span><span id="_CPPv226mcpwm_cap_channel_handle_t"></span><span id="mcpwm_cap_channel_handle_t"></span><span class="target" id="esp__driver__mcpwm_2include_2driver_2mcpwm__types_8h_1aa0bf6fefd69168bd48cef02644cbd4cf"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">mcpwm_cap_channel_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_cap_channel_handle_t</span></span></span><a class="headerlink" href="#_CPPv426mcpwm_cap_channel_handle_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Type of MCPWM capture channel handle. </p>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv422mcpwm_timer_event_cb_t">
<span id="_CPPv322mcpwm_timer_event_cb_t"></span><span id="_CPPv222mcpwm_timer_event_cb_t"></span><span id="mcpwm_timer_event_cb_t"></span><span class="target" id="esp__driver__mcpwm_2include_2driver_2mcpwm__types_8h_1a6bb8ba03552168bfd5974f14fa061ff8"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_timer_event_cb_t</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><a class="reference internal" href="#_CPPv420mcpwm_timer_handle_t" title="mcpwm_timer_handle_t"><span class="n"><span class="pre">mcpwm_timer_handle_t</span></span></a><span class="w"> </span><span class="n"><span class="pre">timer</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv424mcpwm_timer_event_data_t" title="mcpwm_timer_event_data_t"><span class="n"><span class="pre">mcpwm_timer_event_data_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">edata</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">user_ctx</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#_CPPv422mcpwm_timer_event_cb_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>MCPWM timer event callback function. </p>
<dl class="field-list simple">
<dt class="field-odd">Param timer<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>[in]</strong> MCPWM timer handle </p>
</dd>
<dt class="field-even">Param edata<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>[in]</strong> MCPWM timer event data, fed by driver </p>
</dd>
<dt class="field-odd">Param user_ctx<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>[in]</strong> User data, set in <code class="docutils literal notranslate"><span class="pre">mcpwm_timer_register_event_callbacks()</span></code></p>
</dd>
<dt class="field-even">Return<span class="colon">:</span></dt>
<dd class="field-even"><p>Whether a high priority task has been waken up by this function </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv422mcpwm_brake_event_cb_t">
<span id="_CPPv322mcpwm_brake_event_cb_t"></span><span id="_CPPv222mcpwm_brake_event_cb_t"></span><span id="mcpwm_brake_event_cb_t"></span><span class="target" id="esp__driver__mcpwm_2include_2driver_2mcpwm__types_8h_1aef4b3627cc4f25aab01fe0a44e15de5e"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_brake_event_cb_t</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><a class="reference internal" href="#_CPPv419mcpwm_oper_handle_t" title="mcpwm_oper_handle_t"><span class="n"><span class="pre">mcpwm_oper_handle_t</span></span></a><span class="w"> </span><span class="n"><span class="pre">oper</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv424mcpwm_brake_event_data_t" title="mcpwm_brake_event_data_t"><span class="n"><span class="pre">mcpwm_brake_event_data_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">edata</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">user_ctx</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#_CPPv422mcpwm_brake_event_cb_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>MCPWM operator brake event callback function. </p>
<dl class="field-list simple">
<dt class="field-odd">Param oper<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>[in]</strong> MCPWM operator handle </p>
</dd>
<dt class="field-even">Param edata<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>[in]</strong> MCPWM brake event data, fed by driver </p>
</dd>
<dt class="field-odd">Param user_ctx<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>[in]</strong> User data, set in <code class="docutils literal notranslate"><span class="pre">mcpwm_operator_register_event_callbacks()</span></code></p>
</dd>
<dt class="field-even">Return<span class="colon">:</span></dt>
<dd class="field-even"><p>Whether a high priority task has been waken up by this function </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv422mcpwm_fault_event_cb_t">
<span id="_CPPv322mcpwm_fault_event_cb_t"></span><span id="_CPPv222mcpwm_fault_event_cb_t"></span><span id="mcpwm_fault_event_cb_t"></span><span class="target" id="esp__driver__mcpwm_2include_2driver_2mcpwm__types_8h_1ab5b3e3b03a9550419a775d2663563fb9"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_fault_event_cb_t</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><a class="reference internal" href="#_CPPv420mcpwm_fault_handle_t" title="mcpwm_fault_handle_t"><span class="n"><span class="pre">mcpwm_fault_handle_t</span></span></a><span class="w"> </span><span class="n"><span class="pre">fault</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv424mcpwm_fault_event_data_t" title="mcpwm_fault_event_data_t"><span class="n"><span class="pre">mcpwm_fault_event_data_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">edata</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">user_ctx</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#_CPPv422mcpwm_fault_event_cb_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>MCPWM fault event callback function. </p>
<dl class="field-list simple">
<dt class="field-odd">Param fault<span class="colon">:</span></dt>
<dd class="field-odd"><p>MCPWM fault handle </p>
</dd>
<dt class="field-even">Param edata<span class="colon">:</span></dt>
<dd class="field-even"><p>MCPWM fault event data, fed by driver </p>
</dd>
<dt class="field-odd">Param user_ctx<span class="colon">:</span></dt>
<dd class="field-odd"><p>User data, set in <code class="docutils literal notranslate"><span class="pre">mcpwm_fault_register_event_callbacks()</span></code></p>
</dd>
<dt class="field-even">Return<span class="colon">:</span></dt>
<dd class="field-even"><p>whether a task switch is needed after the callback returns </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv424mcpwm_compare_event_cb_t">
<span id="_CPPv324mcpwm_compare_event_cb_t"></span><span id="_CPPv224mcpwm_compare_event_cb_t"></span><span id="mcpwm_compare_event_cb_t"></span><span class="target" id="esp__driver__mcpwm_2include_2driver_2mcpwm__types_8h_1a03b6b96da448d7172a92713a22ac4559"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_compare_event_cb_t</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><a class="reference internal" href="#_CPPv419mcpwm_cmpr_handle_t" title="mcpwm_cmpr_handle_t"><span class="n"><span class="pre">mcpwm_cmpr_handle_t</span></span></a><span class="w"> </span><span class="n"><span class="pre">comparator</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv426mcpwm_compare_event_data_t" title="mcpwm_compare_event_data_t"><span class="n"><span class="pre">mcpwm_compare_event_data_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">edata</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">user_ctx</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#_CPPv424mcpwm_compare_event_cb_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>MCPWM comparator event callback function. </p>
<dl class="field-list simple">
<dt class="field-odd">Param comparator<span class="colon">:</span></dt>
<dd class="field-odd"><p>MCPWM comparator handle </p>
</dd>
<dt class="field-even">Param edata<span class="colon">:</span></dt>
<dd class="field-even"><p>MCPWM comparator event data, fed by driver </p>
</dd>
<dt class="field-odd">Param user_ctx<span class="colon">:</span></dt>
<dd class="field-odd"><p>User data, set in <code class="docutils literal notranslate"><span class="pre">mcpwm_comparator_register_event_callbacks()</span></code></p>
</dd>
<dt class="field-even">Return<span class="colon">:</span></dt>
<dd class="field-even"><p>Whether a high priority task has been waken up by this function </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv424mcpwm_capture_event_cb_t">
<span id="_CPPv324mcpwm_capture_event_cb_t"></span><span id="_CPPv224mcpwm_capture_event_cb_t"></span><span id="mcpwm_capture_event_cb_t"></span><span class="target" id="esp__driver__mcpwm_2include_2driver_2mcpwm__types_8h_1a83e7a89d389431eb022dfe7bad6385f5"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_capture_event_cb_t</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><a class="reference internal" href="#_CPPv426mcpwm_cap_channel_handle_t" title="mcpwm_cap_channel_handle_t"><span class="n"><span class="pre">mcpwm_cap_channel_handle_t</span></span></a><span class="w"> </span><span class="n"><span class="pre">cap_channel</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv426mcpwm_capture_event_data_t" title="mcpwm_capture_event_data_t"><span class="n"><span class="pre">mcpwm_capture_event_data_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">edata</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">user_ctx</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#_CPPv424mcpwm_capture_event_cb_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>MCPWM capture event callback function. </p>
<dl class="field-list simple">
<dt class="field-odd">Param cap_channel<span class="colon">:</span></dt>
<dd class="field-odd"><p>MCPWM capture channel handle </p>
</dd>
<dt class="field-even">Param edata<span class="colon">:</span></dt>
<dd class="field-even"><p>MCPWM capture event data, fed by driver </p>
</dd>
<dt class="field-odd">Param user_ctx<span class="colon">:</span></dt>
<dd class="field-odd"><p>User data, set in <code class="docutils literal notranslate"><span class="pre">mcpwm_capture_channel_register_event_callbacks()</span></code></p>
</dd>
<dt class="field-even">Return<span class="colon">:</span></dt>
<dd class="field-even"><p>Whether a high priority task has been waken up by this function </p>
</dd>
</dl>
</dd></dl>

</section>
<section id="id34">
<h3>Header File<a class="headerlink" href="#id34" title="Permalink to this heading"></a></h3>
<ul>
<li><p><a class="reference external" href="https://github.com/espressif/esp-idf/blob/v5.4.2/components/hal/include/hal/mcpwm_types.h">components/hal/include/hal/mcpwm_types.h</a></p></li>
<li><p>This header file can be included with:</p>
<blockquote>
<div><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;hal/mcpwm_types.h&quot;</span>
</pre></div>
</div>
</div></blockquote>
</li>
</ul>
</section>
<section id="id35">
<h3>Type Definitions<a class="headerlink" href="#id35" title="Permalink to this heading"></a></h3>
<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv426mcpwm_timer_clock_source_t">
<span id="_CPPv326mcpwm_timer_clock_source_t"></span><span id="_CPPv226mcpwm_timer_clock_source_t"></span><span id="mcpwm_timer_clock_source_t"></span><span class="target" id="hal_2include_2hal_2mcpwm__types_8h_1a842b274fc72fbe6ce2d2f1e56e0acc26"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><a class="reference internal" href="clk_tree.html#_CPPv432soc_periph_mcpwm_timer_clk_src_t" title="soc_periph_mcpwm_timer_clk_src_t"><span class="n"><span class="pre">soc_periph_mcpwm_timer_clk_src_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_timer_clock_source_t</span></span></span><a class="headerlink" href="#_CPPv426mcpwm_timer_clock_source_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>MCPWM timer clock source. </p>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv428mcpwm_capture_clock_source_t">
<span id="_CPPv328mcpwm_capture_clock_source_t"></span><span id="_CPPv228mcpwm_capture_clock_source_t"></span><span id="mcpwm_capture_clock_source_t"></span><span class="target" id="hal_2include_2hal_2mcpwm__types_8h_1ac7a4c6c54e435593d781f4e0ebdfd3da"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><a class="reference internal" href="clk_tree.html#_CPPv434soc_periph_mcpwm_capture_clk_src_t" title="soc_periph_mcpwm_capture_clk_src_t"><span class="n"><span class="pre">soc_periph_mcpwm_capture_clk_src_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_capture_clock_source_t</span></span></span><a class="headerlink" href="#_CPPv428mcpwm_capture_clock_source_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>MCPWM capture clock source. </p>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv428mcpwm_carrier_clock_source_t">
<span id="_CPPv328mcpwm_carrier_clock_source_t"></span><span id="_CPPv228mcpwm_carrier_clock_source_t"></span><span id="mcpwm_carrier_clock_source_t"></span><span class="target" id="hal_2include_2hal_2mcpwm__types_8h_1ae631bd37b089ff58386f3dfabe4ee9d0"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><a class="reference internal" href="clk_tree.html#_CPPv434soc_periph_mcpwm_carrier_clk_src_t" title="soc_periph_mcpwm_carrier_clk_src_t"><span class="n"><span class="pre">soc_periph_mcpwm_carrier_clk_src_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_carrier_clock_source_t</span></span></span><a class="headerlink" href="#_CPPv428mcpwm_carrier_clock_source_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>MCPWM carrier clock source. </p>
</dd></dl>

</section>
<section id="enumerations">
<h3>Enumerations<a class="headerlink" href="#enumerations" title="Permalink to this heading"></a></h3>
<dl class="cpp enum">
<dt class="sig sig-object cpp" id="_CPPv423mcpwm_timer_direction_t">
<span id="_CPPv323mcpwm_timer_direction_t"></span><span id="_CPPv223mcpwm_timer_direction_t"></span><span class="target" id="hal_2include_2hal_2mcpwm__types_8h_1a147fac182a5cc3e9e66bae4b1358ef62"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_timer_direction_t</span></span></span><a class="headerlink" href="#_CPPv423mcpwm_timer_direction_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>MCPWM timer count direction. </p>
<p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N23mcpwm_timer_direction_t24MCPWM_TIMER_DIRECTION_UPE">
<span id="_CPPv3N23mcpwm_timer_direction_t24MCPWM_TIMER_DIRECTION_UPE"></span><span id="_CPPv2N23mcpwm_timer_direction_t24MCPWM_TIMER_DIRECTION_UPE"></span><span class="target" id="hal_2include_2hal_2mcpwm__types_8h_1a147fac182a5cc3e9e66bae4b1358ef62a0d70ce0eef707a30eba2175a911137e1"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MCPWM_TIMER_DIRECTION_UP</span></span></span><a class="headerlink" href="#_CPPv4N23mcpwm_timer_direction_t24MCPWM_TIMER_DIRECTION_UPE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Counting direction: Increase </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N23mcpwm_timer_direction_t26MCPWM_TIMER_DIRECTION_DOWNE">
<span id="_CPPv3N23mcpwm_timer_direction_t26MCPWM_TIMER_DIRECTION_DOWNE"></span><span id="_CPPv2N23mcpwm_timer_direction_t26MCPWM_TIMER_DIRECTION_DOWNE"></span><span class="target" id="hal_2include_2hal_2mcpwm__types_8h_1a147fac182a5cc3e9e66bae4b1358ef62a04ce594e34d7251c31860c30657739e5"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MCPWM_TIMER_DIRECTION_DOWN</span></span></span><a class="headerlink" href="#_CPPv4N23mcpwm_timer_direction_t26MCPWM_TIMER_DIRECTION_DOWNE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Counting direction: Decrease </p>
</dd></dl>

</dd></dl>

<dl class="cpp enum">
<dt class="sig sig-object cpp" id="_CPPv419mcpwm_timer_event_t">
<span id="_CPPv319mcpwm_timer_event_t"></span><span id="_CPPv219mcpwm_timer_event_t"></span><span class="target" id="hal_2include_2hal_2mcpwm__types_8h_1a951623254df007b73d644fc5b167b9ae"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_timer_event_t</span></span></span><a class="headerlink" href="#_CPPv419mcpwm_timer_event_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>MCPWM timer events. </p>
<p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N19mcpwm_timer_event_t23MCPWM_TIMER_EVENT_EMPTYE">
<span id="_CPPv3N19mcpwm_timer_event_t23MCPWM_TIMER_EVENT_EMPTYE"></span><span id="_CPPv2N19mcpwm_timer_event_t23MCPWM_TIMER_EVENT_EMPTYE"></span><span class="target" id="hal_2include_2hal_2mcpwm__types_8h_1a951623254df007b73d644fc5b167b9aea4fc0f4f89515045179e94e3f5d068429"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MCPWM_TIMER_EVENT_EMPTY</span></span></span><a class="headerlink" href="#_CPPv4N19mcpwm_timer_event_t23MCPWM_TIMER_EVENT_EMPTYE" title="Permalink to this definition"></a><br /></dt>
<dd><p>MCPWM timer counts to zero (i.e. counter is empty) </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N19mcpwm_timer_event_t22MCPWM_TIMER_EVENT_FULLE">
<span id="_CPPv3N19mcpwm_timer_event_t22MCPWM_TIMER_EVENT_FULLE"></span><span id="_CPPv2N19mcpwm_timer_event_t22MCPWM_TIMER_EVENT_FULLE"></span><span class="target" id="hal_2include_2hal_2mcpwm__types_8h_1a951623254df007b73d644fc5b167b9aea4b2135fb6b6bf0ecad46dd158440a731"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MCPWM_TIMER_EVENT_FULL</span></span></span><a class="headerlink" href="#_CPPv4N19mcpwm_timer_event_t22MCPWM_TIMER_EVENT_FULLE" title="Permalink to this definition"></a><br /></dt>
<dd><p>MCPWM timer counts to peak (i.e. counter is full) </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N19mcpwm_timer_event_t25MCPWM_TIMER_EVENT_INVALIDE">
<span id="_CPPv3N19mcpwm_timer_event_t25MCPWM_TIMER_EVENT_INVALIDE"></span><span id="_CPPv2N19mcpwm_timer_event_t25MCPWM_TIMER_EVENT_INVALIDE"></span><span class="target" id="hal_2include_2hal_2mcpwm__types_8h_1a951623254df007b73d644fc5b167b9aeab0a196d7b233c31463715c7d3e265ae1"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MCPWM_TIMER_EVENT_INVALID</span></span></span><a class="headerlink" href="#_CPPv4N19mcpwm_timer_event_t25MCPWM_TIMER_EVENT_INVALIDE" title="Permalink to this definition"></a><br /></dt>
<dd><p>MCPWM timer invalid event </p>
</dd></dl>

</dd></dl>

<dl class="cpp enum">
<dt class="sig sig-object cpp" id="_CPPv424mcpwm_timer_count_mode_t">
<span id="_CPPv324mcpwm_timer_count_mode_t"></span><span id="_CPPv224mcpwm_timer_count_mode_t"></span><span class="target" id="hal_2include_2hal_2mcpwm__types_8h_1a55febd751cd225a4b8946d6b7f9d8645"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_timer_count_mode_t</span></span></span><a class="headerlink" href="#_CPPv424mcpwm_timer_count_mode_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>MCPWM timer count modes. </p>
<p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N24mcpwm_timer_count_mode_t28MCPWM_TIMER_COUNT_MODE_PAUSEE">
<span id="_CPPv3N24mcpwm_timer_count_mode_t28MCPWM_TIMER_COUNT_MODE_PAUSEE"></span><span id="_CPPv2N24mcpwm_timer_count_mode_t28MCPWM_TIMER_COUNT_MODE_PAUSEE"></span><span class="target" id="hal_2include_2hal_2mcpwm__types_8h_1a55febd751cd225a4b8946d6b7f9d8645a869dc5c5d86f06611e078a35da4a6433"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MCPWM_TIMER_COUNT_MODE_PAUSE</span></span></span><a class="headerlink" href="#_CPPv4N24mcpwm_timer_count_mode_t28MCPWM_TIMER_COUNT_MODE_PAUSEE" title="Permalink to this definition"></a><br /></dt>
<dd><p>MCPWM timer paused </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N24mcpwm_timer_count_mode_t25MCPWM_TIMER_COUNT_MODE_UPE">
<span id="_CPPv3N24mcpwm_timer_count_mode_t25MCPWM_TIMER_COUNT_MODE_UPE"></span><span id="_CPPv2N24mcpwm_timer_count_mode_t25MCPWM_TIMER_COUNT_MODE_UPE"></span><span class="target" id="hal_2include_2hal_2mcpwm__types_8h_1a55febd751cd225a4b8946d6b7f9d8645a86b975484323df50c071df8f443f484a"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MCPWM_TIMER_COUNT_MODE_UP</span></span></span><a class="headerlink" href="#_CPPv4N24mcpwm_timer_count_mode_t25MCPWM_TIMER_COUNT_MODE_UPE" title="Permalink to this definition"></a><br /></dt>
<dd><p>MCPWM timer counting up </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N24mcpwm_timer_count_mode_t27MCPWM_TIMER_COUNT_MODE_DOWNE">
<span id="_CPPv3N24mcpwm_timer_count_mode_t27MCPWM_TIMER_COUNT_MODE_DOWNE"></span><span id="_CPPv2N24mcpwm_timer_count_mode_t27MCPWM_TIMER_COUNT_MODE_DOWNE"></span><span class="target" id="hal_2include_2hal_2mcpwm__types_8h_1a55febd751cd225a4b8946d6b7f9d8645aef1297f75247aca27a43afe19f71aa21"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MCPWM_TIMER_COUNT_MODE_DOWN</span></span></span><a class="headerlink" href="#_CPPv4N24mcpwm_timer_count_mode_t27MCPWM_TIMER_COUNT_MODE_DOWNE" title="Permalink to this definition"></a><br /></dt>
<dd><p>MCPWM timer counting down </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N24mcpwm_timer_count_mode_t30MCPWM_TIMER_COUNT_MODE_UP_DOWNE">
<span id="_CPPv3N24mcpwm_timer_count_mode_t30MCPWM_TIMER_COUNT_MODE_UP_DOWNE"></span><span id="_CPPv2N24mcpwm_timer_count_mode_t30MCPWM_TIMER_COUNT_MODE_UP_DOWNE"></span><span class="target" id="hal_2include_2hal_2mcpwm__types_8h_1a55febd751cd225a4b8946d6b7f9d8645a5e2401cf8864b5e10010fc3f3a56a102"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MCPWM_TIMER_COUNT_MODE_UP_DOWN</span></span></span><a class="headerlink" href="#_CPPv4N24mcpwm_timer_count_mode_t30MCPWM_TIMER_COUNT_MODE_UP_DOWNE" title="Permalink to this definition"></a><br /></dt>
<dd><p>MCPWM timer counting up and down </p>
</dd></dl>

</dd></dl>

<dl class="cpp enum">
<dt class="sig sig-object cpp" id="_CPPv428mcpwm_timer_start_stop_cmd_t">
<span id="_CPPv328mcpwm_timer_start_stop_cmd_t"></span><span id="_CPPv228mcpwm_timer_start_stop_cmd_t"></span><span class="target" id="hal_2include_2hal_2mcpwm__types_8h_1a595f84274383d64fb14ed6689cbcb669"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_timer_start_stop_cmd_t</span></span></span><a class="headerlink" href="#_CPPv428mcpwm_timer_start_stop_cmd_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>MCPWM timer commands, specify the way to start or stop the timer. </p>
<p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N28mcpwm_timer_start_stop_cmd_t22MCPWM_TIMER_STOP_EMPTYE">
<span id="_CPPv3N28mcpwm_timer_start_stop_cmd_t22MCPWM_TIMER_STOP_EMPTYE"></span><span id="_CPPv2N28mcpwm_timer_start_stop_cmd_t22MCPWM_TIMER_STOP_EMPTYE"></span><span class="target" id="hal_2include_2hal_2mcpwm__types_8h_1a595f84274383d64fb14ed6689cbcb669af68147680f1d37763d7f76f024095c0c"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MCPWM_TIMER_STOP_EMPTY</span></span></span><a class="headerlink" href="#_CPPv4N28mcpwm_timer_start_stop_cmd_t22MCPWM_TIMER_STOP_EMPTYE" title="Permalink to this definition"></a><br /></dt>
<dd><p>MCPWM timer stops when next count reaches zero </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N28mcpwm_timer_start_stop_cmd_t21MCPWM_TIMER_STOP_FULLE">
<span id="_CPPv3N28mcpwm_timer_start_stop_cmd_t21MCPWM_TIMER_STOP_FULLE"></span><span id="_CPPv2N28mcpwm_timer_start_stop_cmd_t21MCPWM_TIMER_STOP_FULLE"></span><span class="target" id="hal_2include_2hal_2mcpwm__types_8h_1a595f84274383d64fb14ed6689cbcb669ad7eeb6033e873a1090c87fac0dc05cbc"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MCPWM_TIMER_STOP_FULL</span></span></span><a class="headerlink" href="#_CPPv4N28mcpwm_timer_start_stop_cmd_t21MCPWM_TIMER_STOP_FULLE" title="Permalink to this definition"></a><br /></dt>
<dd><p>MCPWM timer stops when next count reaches peak </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N28mcpwm_timer_start_stop_cmd_t25MCPWM_TIMER_START_NO_STOPE">
<span id="_CPPv3N28mcpwm_timer_start_stop_cmd_t25MCPWM_TIMER_START_NO_STOPE"></span><span id="_CPPv2N28mcpwm_timer_start_stop_cmd_t25MCPWM_TIMER_START_NO_STOPE"></span><span class="target" id="hal_2include_2hal_2mcpwm__types_8h_1a595f84274383d64fb14ed6689cbcb669ae938d0ba487188b983d90482df82099b"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MCPWM_TIMER_START_NO_STOP</span></span></span><a class="headerlink" href="#_CPPv4N28mcpwm_timer_start_stop_cmd_t25MCPWM_TIMER_START_NO_STOPE" title="Permalink to this definition"></a><br /></dt>
<dd><p>MCPWM timer starts couting, and don't stop until received stop command </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N28mcpwm_timer_start_stop_cmd_t28MCPWM_TIMER_START_STOP_EMPTYE">
<span id="_CPPv3N28mcpwm_timer_start_stop_cmd_t28MCPWM_TIMER_START_STOP_EMPTYE"></span><span id="_CPPv2N28mcpwm_timer_start_stop_cmd_t28MCPWM_TIMER_START_STOP_EMPTYE"></span><span class="target" id="hal_2include_2hal_2mcpwm__types_8h_1a595f84274383d64fb14ed6689cbcb669a13bf4e5c432cfef2f5b5050e0024cc20"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MCPWM_TIMER_START_STOP_EMPTY</span></span></span><a class="headerlink" href="#_CPPv4N28mcpwm_timer_start_stop_cmd_t28MCPWM_TIMER_START_STOP_EMPTYE" title="Permalink to this definition"></a><br /></dt>
<dd><p>MCPWM timer starts counting and stops when next count reaches zero </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N28mcpwm_timer_start_stop_cmd_t27MCPWM_TIMER_START_STOP_FULLE">
<span id="_CPPv3N28mcpwm_timer_start_stop_cmd_t27MCPWM_TIMER_START_STOP_FULLE"></span><span id="_CPPv2N28mcpwm_timer_start_stop_cmd_t27MCPWM_TIMER_START_STOP_FULLE"></span><span class="target" id="hal_2include_2hal_2mcpwm__types_8h_1a595f84274383d64fb14ed6689cbcb669ac301d86f5d468887aa822e3804d194b4"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MCPWM_TIMER_START_STOP_FULL</span></span></span><a class="headerlink" href="#_CPPv4N28mcpwm_timer_start_stop_cmd_t27MCPWM_TIMER_START_STOP_FULLE" title="Permalink to this definition"></a><br /></dt>
<dd><p>MCPWM timer starts counting and stops when next count reaches peak </p>
</dd></dl>

</dd></dl>

<dl class="cpp enum">
<dt class="sig sig-object cpp" id="_CPPv424mcpwm_generator_action_t">
<span id="_CPPv324mcpwm_generator_action_t"></span><span id="_CPPv224mcpwm_generator_action_t"></span><span class="target" id="hal_2include_2hal_2mcpwm__types_8h_1a18fd816f3a96d5a5af95de0073680477"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_generator_action_t</span></span></span><a class="headerlink" href="#_CPPv424mcpwm_generator_action_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>MCPWM generator actions. </p>
<p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N24mcpwm_generator_action_t21MCPWM_GEN_ACTION_KEEPE">
<span id="_CPPv3N24mcpwm_generator_action_t21MCPWM_GEN_ACTION_KEEPE"></span><span id="_CPPv2N24mcpwm_generator_action_t21MCPWM_GEN_ACTION_KEEPE"></span><span class="target" id="hal_2include_2hal_2mcpwm__types_8h_1a18fd816f3a96d5a5af95de0073680477a00943f2d06aa28f7c78c03658778c471"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MCPWM_GEN_ACTION_KEEP</span></span></span><a class="headerlink" href="#_CPPv4N24mcpwm_generator_action_t21MCPWM_GEN_ACTION_KEEPE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Generator action: Keep the same level </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N24mcpwm_generator_action_t20MCPWM_GEN_ACTION_LOWE">
<span id="_CPPv3N24mcpwm_generator_action_t20MCPWM_GEN_ACTION_LOWE"></span><span id="_CPPv2N24mcpwm_generator_action_t20MCPWM_GEN_ACTION_LOWE"></span><span class="target" id="hal_2include_2hal_2mcpwm__types_8h_1a18fd816f3a96d5a5af95de0073680477a0445fe2d469dfd99bc82304de4a30b9c"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MCPWM_GEN_ACTION_LOW</span></span></span><a class="headerlink" href="#_CPPv4N24mcpwm_generator_action_t20MCPWM_GEN_ACTION_LOWE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Generator action: Force to low level </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N24mcpwm_generator_action_t21MCPWM_GEN_ACTION_HIGHE">
<span id="_CPPv3N24mcpwm_generator_action_t21MCPWM_GEN_ACTION_HIGHE"></span><span id="_CPPv2N24mcpwm_generator_action_t21MCPWM_GEN_ACTION_HIGHE"></span><span class="target" id="hal_2include_2hal_2mcpwm__types_8h_1a18fd816f3a96d5a5af95de0073680477a06cee5ef4d784a7b8be2bac3251118c1"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MCPWM_GEN_ACTION_HIGH</span></span></span><a class="headerlink" href="#_CPPv4N24mcpwm_generator_action_t21MCPWM_GEN_ACTION_HIGHE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Generator action: Force to high level </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N24mcpwm_generator_action_t23MCPWM_GEN_ACTION_TOGGLEE">
<span id="_CPPv3N24mcpwm_generator_action_t23MCPWM_GEN_ACTION_TOGGLEE"></span><span id="_CPPv2N24mcpwm_generator_action_t23MCPWM_GEN_ACTION_TOGGLEE"></span><span class="target" id="hal_2include_2hal_2mcpwm__types_8h_1a18fd816f3a96d5a5af95de0073680477a8da444905a57521739be02c1daab6983"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MCPWM_GEN_ACTION_TOGGLE</span></span></span><a class="headerlink" href="#_CPPv4N24mcpwm_generator_action_t23MCPWM_GEN_ACTION_TOGGLEE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Generator action: Toggle level </p>
</dd></dl>

</dd></dl>

<dl class="cpp enum">
<dt class="sig sig-object cpp" id="_CPPv427mcpwm_operator_brake_mode_t">
<span id="_CPPv327mcpwm_operator_brake_mode_t"></span><span id="_CPPv227mcpwm_operator_brake_mode_t"></span><span class="target" id="hal_2include_2hal_2mcpwm__types_8h_1a7086a366e8d680399dc4595f4321e32d"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_operator_brake_mode_t</span></span></span><a class="headerlink" href="#_CPPv427mcpwm_operator_brake_mode_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>MCPWM operator brake mode. </p>
<p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N27mcpwm_operator_brake_mode_t25MCPWM_OPER_BRAKE_MODE_CBCE">
<span id="_CPPv3N27mcpwm_operator_brake_mode_t25MCPWM_OPER_BRAKE_MODE_CBCE"></span><span id="_CPPv2N27mcpwm_operator_brake_mode_t25MCPWM_OPER_BRAKE_MODE_CBCE"></span><span class="target" id="hal_2include_2hal_2mcpwm__types_8h_1a7086a366e8d680399dc4595f4321e32dab7809057946c119f073ddf86f59dd142"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MCPWM_OPER_BRAKE_MODE_CBC</span></span></span><a class="headerlink" href="#_CPPv4N27mcpwm_operator_brake_mode_t25MCPWM_OPER_BRAKE_MODE_CBCE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Brake mode: CBC (cycle by cycle) </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N27mcpwm_operator_brake_mode_t25MCPWM_OPER_BRAKE_MODE_OSTE">
<span id="_CPPv3N27mcpwm_operator_brake_mode_t25MCPWM_OPER_BRAKE_MODE_OSTE"></span><span id="_CPPv2N27mcpwm_operator_brake_mode_t25MCPWM_OPER_BRAKE_MODE_OSTE"></span><span class="target" id="hal_2include_2hal_2mcpwm__types_8h_1a7086a366e8d680399dc4595f4321e32da64064ed85afbd80950a2da09ebd60eed"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MCPWM_OPER_BRAKE_MODE_OST</span></span></span><a class="headerlink" href="#_CPPv4N27mcpwm_operator_brake_mode_t25MCPWM_OPER_BRAKE_MODE_OSTE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Brake mode: OST (one shot) </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N27mcpwm_operator_brake_mode_t29MCPWM_OPER_BRAKE_MODE_INVALIDE">
<span id="_CPPv3N27mcpwm_operator_brake_mode_t29MCPWM_OPER_BRAKE_MODE_INVALIDE"></span><span id="_CPPv2N27mcpwm_operator_brake_mode_t29MCPWM_OPER_BRAKE_MODE_INVALIDE"></span><span class="target" id="hal_2include_2hal_2mcpwm__types_8h_1a7086a366e8d680399dc4595f4321e32da2de89aa6dc2a7583dba7b915b01291d2"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MCPWM_OPER_BRAKE_MODE_INVALID</span></span></span><a class="headerlink" href="#_CPPv4N27mcpwm_operator_brake_mode_t29MCPWM_OPER_BRAKE_MODE_INVALIDE" title="Permalink to this definition"></a><br /></dt>
<dd><p>MCPWM operator invalid brake mode </p>
</dd></dl>

</dd></dl>

<dl class="cpp enum">
<dt class="sig sig-object cpp" id="_CPPv420mcpwm_capture_edge_t">
<span id="_CPPv320mcpwm_capture_edge_t"></span><span id="_CPPv220mcpwm_capture_edge_t"></span><span class="target" id="hal_2include_2hal_2mcpwm__types_8h_1acf65f92f15c020ef5d0a43cbf9da8bf0"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_capture_edge_t</span></span></span><a class="headerlink" href="#_CPPv420mcpwm_capture_edge_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>MCPWM capture edge. </p>
<p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N20mcpwm_capture_edge_t18MCPWM_CAP_EDGE_POSE">
<span id="_CPPv3N20mcpwm_capture_edge_t18MCPWM_CAP_EDGE_POSE"></span><span id="_CPPv2N20mcpwm_capture_edge_t18MCPWM_CAP_EDGE_POSE"></span><span class="target" id="hal_2include_2hal_2mcpwm__types_8h_1acf65f92f15c020ef5d0a43cbf9da8bf0a479606e5e9d4460b85f81b1ef765fec3"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MCPWM_CAP_EDGE_POS</span></span></span><a class="headerlink" href="#_CPPv4N20mcpwm_capture_edge_t18MCPWM_CAP_EDGE_POSE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Capture on the positive edge </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N20mcpwm_capture_edge_t18MCPWM_CAP_EDGE_NEGE">
<span id="_CPPv3N20mcpwm_capture_edge_t18MCPWM_CAP_EDGE_NEGE"></span><span id="_CPPv2N20mcpwm_capture_edge_t18MCPWM_CAP_EDGE_NEGE"></span><span class="target" id="hal_2include_2hal_2mcpwm__types_8h_1acf65f92f15c020ef5d0a43cbf9da8bf0aa0362dba2043c0732a641a82829dcfcd"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MCPWM_CAP_EDGE_NEG</span></span></span><a class="headerlink" href="#_CPPv4N20mcpwm_capture_edge_t18MCPWM_CAP_EDGE_NEGE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Capture on the negative edge </p>
</dd></dl>

</dd></dl>

<dl class="cpp enum">
<dt class="sig sig-object cpp" id="_CPPv433mcpwm_comparator_etm_event_type_t">
<span id="_CPPv333mcpwm_comparator_etm_event_type_t"></span><span id="_CPPv233mcpwm_comparator_etm_event_type_t"></span><span class="target" id="hal_2include_2hal_2mcpwm__types_8h_1a34c81eb4283006fa236e68d3fc702859"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mcpwm_comparator_etm_event_type_t</span></span></span><a class="headerlink" href="#_CPPv433mcpwm_comparator_etm_event_type_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>MCPWM comparator specific events that supported by the ETM module. </p>
<p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N33mcpwm_comparator_etm_event_type_t26MCPWM_CMPR_ETM_EVENT_EQUALE">
<span id="_CPPv3N33mcpwm_comparator_etm_event_type_t26MCPWM_CMPR_ETM_EVENT_EQUALE"></span><span id="_CPPv2N33mcpwm_comparator_etm_event_type_t26MCPWM_CMPR_ETM_EVENT_EQUALE"></span><span class="target" id="hal_2include_2hal_2mcpwm__types_8h_1a34c81eb4283006fa236e68d3fc702859a43835f41689ae7354db01544baea0442"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MCPWM_CMPR_ETM_EVENT_EQUAL</span></span></span><a class="headerlink" href="#_CPPv4N33mcpwm_comparator_etm_event_type_t26MCPWM_CMPR_ETM_EVENT_EQUALE" title="Permalink to this definition"></a><br /></dt>
<dd><p>The count value equals the value of comparator </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N33mcpwm_comparator_etm_event_type_t24MCPWM_CMPR_ETM_EVENT_MAXE">
<span id="_CPPv3N33mcpwm_comparator_etm_event_type_t24MCPWM_CMPR_ETM_EVENT_MAXE"></span><span id="_CPPv2N33mcpwm_comparator_etm_event_type_t24MCPWM_CMPR_ETM_EVENT_MAXE"></span><span class="target" id="hal_2include_2hal_2mcpwm__types_8h_1a34c81eb4283006fa236e68d3fc702859a13e2e4997e2aaa90d4b02b2d78f9bdf8"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MCPWM_CMPR_ETM_EVENT_MAX</span></span></span><a class="headerlink" href="#_CPPv4N33mcpwm_comparator_etm_event_type_t24MCPWM_CMPR_ETM_EVENT_MAXE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Maximum number of comparator events </p>
</dd></dl>

</dd></dl>

<aside class="footnote-list brackets">
<aside class="footnote brackets" id="id36" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></span>
<span class="backrefs">(<a role="doc-backlink" href="#id1">1</a>,<a role="doc-backlink" href="#id2">2</a>,<a role="doc-backlink" href="#id3">3</a>,<a role="doc-backlink" href="#id4">4</a>,<a role="doc-backlink" href="#id5">5</a>,<a role="doc-backlink" href="#id6">6</a>,<a role="doc-backlink" href="#id7">7</a>,<a role="doc-backlink" href="#id8">8</a>,<a role="doc-backlink" href="#id9">9</a>)</span>
<p>Different ESP chip series might have a different number of MCPWM resources (e.g., groups, timers, comparators, operators, generators, triggers and so on). Please refer to the [<a class="reference external" href="https://www.espressif.com/sites/default/files/documentation/esp32_technical_reference_manual_en.pdf#mcpwm">TRM</a>] for details. The driver does not forbid you from applying for more MCPWM resources, but it returns an error when there are no hardware resources available. Please always check the return value when doing <a class="reference internal" href="#mcpwm-resource-allocation-and-initialization"><span class="std std-ref">Resource Allocation and Initialization</span></a>.</p>
</aside>
<aside class="footnote brackets" id="id37" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id10">2</a><span class="fn-bracket">]</span></span>
<p>The callback function and the sub-functions invoked by itself should also be placed in IRAM. You need to take care of this by yourself.</p>
</aside>
</aside>
</section>
</section>
</section>

    <script type="text/javascript">
        function init() {
            WaveDrom.ProcessAll();
        }
        window.onload = init;
    </script>

           </div>
             <div class="articleComments">

<style>
    .expand-feedback-content {
        display: none;
    }
    .click-like-or-dislike {
        background-color: #d3d3d3;
        pointer-events: none;
    }
</style>

<script>
    function submitFeedbackForm(user_likes_document) {
        // Send to GA4 the user reaction
        gtag('event', 'user_reaction', {
            'user_likes_document': user_likes_document
        });

        if (user_likes_document === 1) {
            document.querySelector('.like-btn').classList.add('click-like-or-dislike');
            document.getElementById("expandContentLike").style.display = 'block';
        } else {
            document.querySelector('.dislike-btn').classList.add('click-like-or-dislike');
            document.getElementById("expandContent").style.display = 'block';
        }

        document.querySelector('.like-btn').style.pointerEvents = 'none';
        document.querySelector('.dislike-btn').style.pointerEvents = 'none';
    }
</script>

<hr>

<p style="text-align:center"><strong>Was this page helpful?</strong></p>
<p style="text-align:center">
    <button class="like-btn" onclick="submitFeedbackForm(1)">
        <svg aria-hidden="true" focusable="false" class="color-fg-muted" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible">
            <path d="M8.834.066c.763.087 1.5.295 2.01.884.505.581.656 1.378.656 2.3 0 .467-.087 1.119-.157 1.637L11.328 5h1.422c.603 0 1.174.085 1.668.333.508.254.911.679 1.137 1.2.453.998.438 2.447.188 4.316l-.04.306c-.105.79-.195 1.473-.313 2.033-.131.63-.315 1.209-.668 1.672C13.97 15.847 12.706 16 11 16c-1.848 0-3.234-.333-4.388-.653-.165-.045-.323-.09-.475-.133-.658-.186-1.2-.34-1.725-.415A1.75 1.75 0 0 1 2.75 16h-1A1.75 1.75 0 0 1 0 14.25v-7.5C0 5.784.784 5 1.75 5h1a1.75 1.75 0 0 1 1.514.872c.258-.105.59-.268.918-.508C5.853 4.874 6.5 4.079 6.5 2.75v-.5c0-1.202.994-2.337 2.334-2.184ZM4.5 13.3c.705.088 1.39.284 2.072.478l.441.125c1.096.305 2.334.598 3.987.598 1.794 0 2.28-.223 2.528-.549.147-.193.276-.505.394-1.07.105-.502.188-1.124.295-1.93l.04-.3c.25-1.882.189-2.933-.068-3.497a.921.921 0 0 0-.442-.48c-.208-.104-.52-.174-.997-.174H11c-.686 0-1.295-.577-1.206-1.336.023-.192.05-.39.076-.586.065-.488.13-.97.13-1.328 0-.809-.144-1.15-.288-1.316-.137-.158-.402-.304-1.048-.378C8.357 1.521 8 1.793 8 2.25v.5c0 1.922-.978 3.128-1.933 3.825a5.831 5.831 0 0 1-1.567.81ZM2.75 6.5h-1a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h1a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
        </svg>
    </button>
    <button class="dislike-btn" onclick="submitFeedbackForm(0)">
        <svg aria-hidden="true" focusable="false" class="" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible">
            <path d="M7.083 15.986c-.763-.087-1.499-.295-2.011-.884-.504-.581-.655-1.378-.655-2.299 0-.468.087-1.12.157-1.638l.015-.112H3.167c-.603 0-1.174-.086-1.669-.334a2.415 2.415 0 0 1-1.136-1.2c-.454-.998-.438-2.447-.188-4.316l.04-.306C.32 4.108.41 3.424.526 2.864c.132-.63.316-1.209.669-1.672C1.947.205 3.211.053 4.917.053c1.848 0 3.234.332 4.388.652l.474.133c.658.187 1.201.341 1.726.415a1.75 1.75 0 0 1 1.662-1.2h1c.966 0 1.75.784 1.75 1.75v7.5a1.75 1.75 0 0 1-1.75 1.75h-1a1.75 1.75 0 0 1-1.514-.872c-.259.105-.59.268-.919.508-.671.491-1.317 1.285-1.317 2.614v.5c0 1.201-.994 2.336-2.334 2.183Zm4.334-13.232c-.706-.089-1.39-.284-2.072-.479l-.441-.125c-1.096-.304-2.335-.597-3.987-.597-1.794 0-2.28.222-2.529.548-.147.193-.275.505-.393 1.07-.105.502-.188 1.124-.295 1.93l-.04.3c-.25 1.882-.19 2.933.067 3.497a.923.923 0 0 0 .443.48c.208.104.52.175.997.175h1.75c.685 0 1.295.577 1.205 1.335-.022.192-.049.39-.075.586-.066.488-.13.97-.13 1.329 0 .808.144 1.15.288 1.316.137.157.401.303 1.048.377.307.035.664-.237.664-.693v-.5c0-1.922.978-3.127 1.932-3.825a5.878 5.878 0 0 1 1.568-.809Zm1.75 6.798h1a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25h-1a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25Z"></path>
        </svg>
    </button>
</p>

<div class="expand-feedback-content" id="expandContentLike">
    <ul style="text-align:center">
        <li>Thank you! We received your feedback.</li>
        <li>If you have any comments, fill in <a href='https://www.espressif.com/en/company/documents/documentation_feedback?docId=4287&sections=Motor Control Pulse Width Modulator (MCPWM) (api-reference/peripherals/mcpwm)&version=esp32 v5.4.2 (v5.4.2)'>Espressif Documentation Feedback Form</a>.</li>
    </ul>
</div>

<div class="expand-feedback-content" id="expandContent">
    <ul style="text-align:center">
        <li>We value your feedback.</li>
        <li>Let us know how we can improve this page by filling in <a href='https://www.espressif.com/en/company/documents/documentation_feedback?docId=4287&sections=Motor Control Pulse Width Modulator (MCPWM) (api-reference/peripherals/mcpwm)&version=esp32 v5.4.2 (v5.4.2)'>Espressif Documentation Feedback Form</a>.</li>
    </ul>
</div>

<br>


             </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="ledc.html" class="btn btn-neutral float-left" title="LED Control (LEDC)" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="pcnt.html" class="btn btn-neutral float-right" title="Pulse Counter (PCNT)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2016 - 2025, Espressif Systems (Shanghai) Co., Ltd.</p>
  </div>

  <ul class="footer">
        <li>
	    
            
            Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/espressif/sphinx_idf_theme">theme</a>  based on <a href="https://github.com/readthedocs/sphinx_rtd_theme">Read the Docs Sphinx Theme</a>.
         </li>
    <li class="footer-aside">
        <a href="../../esp-idf-en-v5.4.2.zip"> Download HTML</a>
    </li>

  </ul> 

</footer>
        </div>
      </div>
    </section>
  </div>

  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>