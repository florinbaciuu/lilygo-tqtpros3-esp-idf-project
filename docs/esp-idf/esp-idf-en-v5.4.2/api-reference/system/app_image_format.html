<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" />
        <!-- Global site tag (gtag.js) - Google Analytics -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-73KGWFC8DM"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());

            gtag('config', 'G-73KGWFC8DM');
        </script><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>App Image Format - ESP32 -  &mdash; ESP-IDF Programming Guide v5.4.2 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=a60756f2" />
      <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=949a1ff5" />
      <link rel="stylesheet" type="text/css" href="../../_static/theme_overrides.css?v=851bd809" />

  
    <link rel="canonical" href="https://docs.espressif.com/projects/esp-idf/en/stable/esp32/api-reference/system/app_image_format.html" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js?v=c241bbaf"></script>
        <script src="../../_static/doctools.js?v=888ff710"></script>
        <script src="../../_static/sphinx_highlight.js?v=4825356b"></script>
        <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../../_static/copybutton.js?v=ff8fa330"></script>
        <script src="https://wavedrom.com/skins/default.js"></script>
        <script src="https://wavedrom.com/wavedrom.min.js"></script>
    <script src="../../_static/js/theme.js"></script>

    
        

    <script type="text/javascript">
        DOCUMENTATION_OPTIONS.PAGENAME = 'api-reference/system/app_image_format';
        DOCUMENTATION_OPTIONS.PROJECT_SLUG = 'esp-idf';
        DOCUMENTATION_OPTIONS.LATEST_BRANCH_NAME = 'master';
        DOCUMENTATION_OPTIONS.VERSIONS_URL = 'https://dl.espressif.com/dl/esp-idf/idf_versions.js';
        DOCUMENTATION_OPTIONS.LANGUAGES = ["en", "zh_CN"];
        DOCUMENTATION_OPTIONS.IDF_TARGET = 'esp32';
        DOCUMENTATION_OPTIONS.HAS_IDF_TARGETS = ["esp32", "esp32s2", "esp32s3", "esp32c3", "esp32c2", "esp32c5", "esp32c6", "esp32p4"]
        DOCUMENTATION_OPTIONS.RELEASE = 'v5.4.2';
        DOCUMENTATION_OPTIONS.LANGUAGE_URL = 'en';

    </script>

    <script type="text/javascript" src="https://dl.espressif.com/dl/esp-idf/idf_versions.js"></script>
    <link rel="author" title="About these documents" href="../../about.html" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Bootloader Image Format" href="bootloader_image_format.html" />
    <link rel="prev" title="System API" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            ESP-IDF Programming Guide
              <img src="../../_static/espressif-logo.svg" class="logo" alt="Logo"/>
          </a>

          
            <div class="selectors">
              <select id="target-select" style="width: 150px;" hidden>
                <option value="" disabled selected>Choose target...</option>
              </select>
            </div>
          

          <div class="selectors">
            <select id="version-select" style="width: 150px;" hidden>
              <option value="" disabled selected>Choose version...</option>
            </select>
          </div>

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../get-started/index.html">Get Started</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">API Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../api-conventions.html">API Conventions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../protocols/index.html">Application Protocols</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bluetooth/index.html">Bluetooth® API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../error-codes.html">Error Codes Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="../network/index.html">Networking APIs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../peripherals/index.html">Peripherals API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kconfig.html">Project Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../provisioning/index.html">Provisioning API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../storage/index.html">Storage API</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">System API</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">App Image Format</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#application-image-structures">Application Image Structures</a></li>
<li class="toctree-l4"><a class="reference internal" href="#application-description">Application Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="#adding-a-custom-structure-to-an-application">Adding a Custom Structure to an Application</a></li>
<li class="toctree-l4"><a class="reference internal" href="#api-reference">API Reference</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="bootloader_image_format.html">Bootloader Image Format</a></li>
<li class="toctree-l3"><a class="reference internal" href="app_trace.html">Application Level Tracing</a></li>
<li class="toctree-l3"><a class="reference internal" href="esp_function_with_shared_stack.html">Call Function with External Stack</a></li>
<li class="toctree-l3"><a class="reference internal" href="chip_revision.html">Chip Revision</a></li>
<li class="toctree-l3"><a class="reference internal" href="console.html">Console</a></li>
<li class="toctree-l3"><a class="reference internal" href="efuse.html">eFuse Manager</a></li>
<li class="toctree-l3"><a class="reference internal" href="esp_err.html">Error Code and Helper Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="esp_https_ota.html">ESP HTTPS OTA</a></li>
<li class="toctree-l3"><a class="reference internal" href="esp_event.html">Event Loop Library</a></li>
<li class="toctree-l3"><a class="reference internal" href="freertos.html">FreeRTOS Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="freertos_idf.html">FreeRTOS (IDF)</a></li>
<li class="toctree-l3"><a class="reference internal" href="freertos_additions.html">FreeRTOS (Supplemental Features)</a></li>
<li class="toctree-l3"><a class="reference internal" href="mem_alloc.html">Heap Memory Allocation</a></li>
<li class="toctree-l3"><a class="reference internal" href="mm.html">Memory Management for MMU Supported Memory</a></li>
<li class="toctree-l3"><a class="reference internal" href="heap_debug.html">Heap Memory Debugging</a></li>
<li class="toctree-l3"><a class="reference internal" href="esp_timer.html">ESP Timer (High Resolution Timer)</a></li>
<li class="toctree-l3"><a class="reference internal" href="internal-unstable.html">Internal and Unstable APIs</a></li>
<li class="toctree-l3"><a class="reference internal" href="ipc.html">Inter-Processor Call (IPC)</a></li>
<li class="toctree-l3"><a class="reference internal" href="intr_alloc.html">Interrupt Allocation</a></li>
<li class="toctree-l3"><a class="reference internal" href="log.html">Logging library</a></li>
<li class="toctree-l3"><a class="reference internal" href="misc_system_api.html">Miscellaneous System APIs</a></li>
<li class="toctree-l3"><a class="reference internal" href="ota.html">Over The Air Updates (OTA)</a></li>
<li class="toctree-l3"><a class="reference internal" href="perfmon.html">Performance Monitor</a></li>
<li class="toctree-l3"><a class="reference internal" href="power_management.html">Power Management</a></li>
<li class="toctree-l3"><a class="reference internal" href="pthread.html">POSIX Support (Including POSIX Threads Support)</a></li>
<li class="toctree-l3"><a class="reference internal" href="random.html">Random Number Generation</a></li>
<li class="toctree-l3"><a class="reference internal" href="sleep_modes.html">Sleep Modes</a></li>
<li class="toctree-l3"><a class="reference internal" href="soc_caps.html">SoC Capabilities</a></li>
<li class="toctree-l3"><a class="reference internal" href="system_time.html">System Time</a></li>
<li class="toctree-l3"><a class="reference internal" href="himem.html">Himem</a></li>
<li class="toctree-l3"><a class="reference internal" href="ulp.html">ULP Coprocessor Programming</a></li>
<li class="toctree-l3"><a class="reference internal" href="wdts.html">Watchdogs</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../hw-reference/index.html">Hardware Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api-guides/index.html">API Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../security/index.html">Security Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../migration-guides/index.html">Migration Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../libraries-and-frameworks/index.html">Libraries and Frameworks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contribute/index.html">Contributions Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../versions.html">ESP-IDF Versions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../resources.html">Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../COPYRIGHT.html">Copyrights and Licenses</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../about.html">About</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../languages.html">Switch Between Languages</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">ESP-IDF Programming Guide</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">API Reference</a></li>
          <li class="breadcrumb-item"><a href="index.html">System API</a></li>
      <li class="breadcrumb-item active">App Image Format</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/espressif/esp-idf/blob/v5.4.2/docs/en/api-reference/system/app_image_format.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="app-image-format">
<h1>App Image Format<a class="headerlink" href="#app-image-format" title="Permalink to this heading"></a></h1>
<p><a class="reference external" href="../../../../../zh_CN/v5.4.2/esp32/api-reference/system/app_image_format.html">[中文]</a></p>
<section id="application-image-structures">
<span id="app-image-structures"></span><h2>Application Image Structures<a class="headerlink" href="#application-image-structures" title="Permalink to this heading"></a></h2>
<p>An application image consists of the following:</p>
<ol class="arabic">
<li><p>The <a class="reference internal" href="#_CPPv418esp_image_header_t" title="esp_image_header_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">esp_image_header_t</span></code></a> structure describes the mode of SPI flash and the count of memory segments.</p></li>
<li><p>The <a class="reference internal" href="#_CPPv426esp_image_segment_header_t" title="esp_image_segment_header_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">esp_image_segment_header_t</span></code></a> structure describes each segment, its length, and its location in ESP32's memory, followed by the data with a length of <code class="docutils literal notranslate"><span class="pre">data_len</span></code>. The data offset for each segment in the image is calculated in the following way:</p>
<blockquote>
<div><ul class="simple">
<li><p>offset for 0 Segment = sizeof(<a class="reference internal" href="#_CPPv418esp_image_header_t" title="esp_image_header_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">esp_image_header_t</span></code></a>) + sizeof(<a class="reference internal" href="#_CPPv426esp_image_segment_header_t" title="esp_image_segment_header_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">esp_image_segment_header_t</span></code></a>)</p></li>
<li><p>offset for 1 Segment = offset for 0 Segment + length of 0 Segment + sizeof(<a class="reference internal" href="#_CPPv426esp_image_segment_header_t" title="esp_image_segment_header_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">esp_image_segment_header_t</span></code></a>)</p></li>
<li><p>offset for 2 Segment = offset for 1 Segment + length of 1 Segment + sizeof(<a class="reference internal" href="#_CPPv426esp_image_segment_header_t" title="esp_image_segment_header_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">esp_image_segment_header_t</span></code></a>)</p></li>
<li><p>...</p></li>
</ul>
</div></blockquote>
</li>
</ol>
<p>The count of each segment is defined in the <code class="docutils literal notranslate"><span class="pre">segment_count</span></code> field that is stored in <a class="reference internal" href="#_CPPv418esp_image_header_t" title="esp_image_header_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">esp_image_header_t</span></code></a>. The count cannot be more than <a class="reference internal" href="#c.ESP_IMAGE_MAX_SEGMENTS" title="ESP_IMAGE_MAX_SEGMENTS"><code class="xref c c-macro docutils literal notranslate"><span class="pre">ESP_IMAGE_MAX_SEGMENTS</span></code></a>.</p>
<p>To get the list of your image segments, please run the following command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">esptool</span><span class="o">.</span><span class="n">py</span> <span class="o">--</span><span class="n">chip</span> <span class="n">esp32</span> <span class="n">image_info</span> <span class="n">build</span><span class="o">/</span><span class="n">app</span><span class="o">.</span><span class="n">bin</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">esptool</span><span class="o">.</span><span class="n">py</span> <span class="n">v2</span><span class="mf">.3.1</span>
<span class="n">Image</span> <span class="n">version</span><span class="p">:</span> <span class="mi">1</span>
<span class="n">Entry</span> <span class="n">point</span><span class="p">:</span> <span class="mi">40080</span><span class="n">ea4</span>
<span class="mi">13</span> <span class="n">segments</span>

<span class="n">Segment</span> <span class="mi">1</span><span class="p">:</span> <span class="nb">len</span> <span class="mh">0x13ce0</span> <span class="n">load</span> <span class="mh">0x3f400020</span> <span class="n">file_offs</span> <span class="mh">0x00000018</span> <span class="n">SOC_DROM</span>
<span class="n">Segment</span> <span class="mi">2</span><span class="p">:</span> <span class="nb">len</span> <span class="mh">0x00000</span> <span class="n">load</span> <span class="mh">0x3ff80000</span> <span class="n">file_offs</span> <span class="mh">0x00013d00</span> <span class="n">SOC_RTC_DRAM</span>
<span class="n">Segment</span> <span class="mi">3</span><span class="p">:</span> <span class="nb">len</span> <span class="mh">0x00000</span> <span class="n">load</span> <span class="mh">0x3ff80000</span> <span class="n">file_offs</span> <span class="mh">0x00013d08</span> <span class="n">SOC_RTC_DRAM</span>
<span class="n">Segment</span> <span class="mi">4</span><span class="p">:</span> <span class="nb">len</span> <span class="mh">0x028e0</span> <span class="n">load</span> <span class="mh">0x3ffb0000</span> <span class="n">file_offs</span> <span class="mh">0x00013d10</span> <span class="n">DRAM</span>
<span class="n">Segment</span> <span class="mi">5</span><span class="p">:</span> <span class="nb">len</span> <span class="mh">0x00000</span> <span class="n">load</span> <span class="mh">0x3ffb28e0</span> <span class="n">file_offs</span> <span class="mh">0x000165f8</span> <span class="n">DRAM</span>
<span class="n">Segment</span> <span class="mi">6</span><span class="p">:</span> <span class="nb">len</span> <span class="mh">0x00400</span> <span class="n">load</span> <span class="mh">0x40080000</span> <span class="n">file_offs</span> <span class="mh">0x00016600</span> <span class="n">SOC_IRAM</span>
<span class="n">Segment</span> <span class="mi">7</span><span class="p">:</span> <span class="nb">len</span> <span class="mh">0x09600</span> <span class="n">load</span> <span class="mh">0x40080400</span> <span class="n">file_offs</span> <span class="mh">0x00016a08</span> <span class="n">SOC_IRAM</span>
<span class="n">Segment</span> <span class="mi">8</span><span class="p">:</span> <span class="nb">len</span> <span class="mh">0x62e4c</span> <span class="n">load</span> <span class="mh">0x400d0018</span> <span class="n">file_offs</span> <span class="mh">0x00020010</span> <span class="n">SOC_IROM</span>
<span class="n">Segment</span> <span class="mi">9</span><span class="p">:</span> <span class="nb">len</span> <span class="mh">0x06cec</span> <span class="n">load</span> <span class="mh">0x40089a00</span> <span class="n">file_offs</span> <span class="mh">0x00082e64</span> <span class="n">SOC_IROM</span>
<span class="n">Segment</span> <span class="mi">10</span><span class="p">:</span> <span class="nb">len</span> <span class="mh">0x00000</span> <span class="n">load</span> <span class="mh">0x400c0000</span> <span class="n">file_offs</span> <span class="mh">0x00089b58</span> <span class="n">SOC_RTC_IRAM</span>
<span class="n">Segment</span> <span class="mi">11</span><span class="p">:</span> <span class="nb">len</span> <span class="mh">0x00004</span> <span class="n">load</span> <span class="mh">0x50000000</span> <span class="n">file_offs</span> <span class="mh">0x00089b60</span> <span class="n">SOC_RTC_DATA</span>
<span class="n">Segment</span> <span class="mi">12</span><span class="p">:</span> <span class="nb">len</span> <span class="mh">0x00000</span> <span class="n">load</span> <span class="mh">0x50000004</span> <span class="n">file_offs</span> <span class="mh">0x00089b6c</span> <span class="n">SOC_RTC_DATA</span>
<span class="n">Segment</span> <span class="mi">13</span><span class="p">:</span> <span class="nb">len</span> <span class="mh">0x00000</span> <span class="n">load</span> <span class="mh">0x50000004</span> <span class="n">file_offs</span> <span class="mh">0x00089b74</span> <span class="n">SOC_RTC_DATA</span>
<span class="n">Checksum</span><span class="p">:</span> <span class="n">e8</span> <span class="p">(</span><span class="n">valid</span><span class="p">)</span>
<span class="n">Validation</span> <span class="n">Hash</span><span class="p">:</span> <span class="mi">407089</span><span class="n">ca0eae2bbf83b4120979d3354b1c938a49cb7a0c997f240474ef2ec76b</span> <span class="p">(</span><span class="n">valid</span><span class="p">)</span>
</pre></div>
</div>
<p>You can also see the information on segments in the ESP-IDF logs while your application is booting:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">I</span> <span class="p">(</span><span class="mi">443</span><span class="p">)</span> <span class="n">esp_image</span><span class="p">:</span> <span class="n">segment</span> <span class="mi">0</span><span class="p">:</span> <span class="n">paddr</span><span class="o">=</span><span class="mh">0x00020020</span> <span class="n">vaddr</span><span class="o">=</span><span class="mh">0x3f400020</span> <span class="n">size</span><span class="o">=</span><span class="mh">0x13ce0</span> <span class="p">(</span> <span class="mi">81120</span><span class="p">)</span> <span class="nb">map</span>
<span class="n">I</span> <span class="p">(</span><span class="mi">489</span><span class="p">)</span> <span class="n">esp_image</span><span class="p">:</span> <span class="n">segment</span> <span class="mi">1</span><span class="p">:</span> <span class="n">paddr</span><span class="o">=</span><span class="mh">0x00033d08</span> <span class="n">vaddr</span><span class="o">=</span><span class="mh">0x3ff80000</span> <span class="n">size</span><span class="o">=</span><span class="mh">0x00000</span> <span class="p">(</span> <span class="mi">0</span><span class="p">)</span> <span class="n">load</span>
<span class="n">I</span> <span class="p">(</span><span class="mi">530</span><span class="p">)</span> <span class="n">esp_image</span><span class="p">:</span> <span class="n">segment</span> <span class="mi">2</span><span class="p">:</span> <span class="n">paddr</span><span class="o">=</span><span class="mh">0x00033d10</span> <span class="n">vaddr</span><span class="o">=</span><span class="mh">0x3ff80000</span> <span class="n">size</span><span class="o">=</span><span class="mh">0x00000</span> <span class="p">(</span> <span class="mi">0</span><span class="p">)</span> <span class="n">load</span>
<span class="n">I</span> <span class="p">(</span><span class="mi">571</span><span class="p">)</span> <span class="n">esp_image</span><span class="p">:</span> <span class="n">segment</span> <span class="mi">3</span><span class="p">:</span> <span class="n">paddr</span><span class="o">=</span><span class="mh">0x00033d18</span> <span class="n">vaddr</span><span class="o">=</span><span class="mh">0x3ffb0000</span> <span class="n">size</span><span class="o">=</span><span class="mh">0x028e0</span> <span class="p">(</span> <span class="mi">10464</span><span class="p">)</span> <span class="n">load</span>
<span class="n">I</span> <span class="p">(</span><span class="mi">612</span><span class="p">)</span> <span class="n">esp_image</span><span class="p">:</span> <span class="n">segment</span> <span class="mi">4</span><span class="p">:</span> <span class="n">paddr</span><span class="o">=</span><span class="mh">0x00036600</span> <span class="n">vaddr</span><span class="o">=</span><span class="mh">0x3ffb28e0</span> <span class="n">size</span><span class="o">=</span><span class="mh">0x00000</span> <span class="p">(</span> <span class="mi">0</span><span class="p">)</span> <span class="n">load</span>
<span class="n">I</span> <span class="p">(</span><span class="mi">654</span><span class="p">)</span> <span class="n">esp_image</span><span class="p">:</span> <span class="n">segment</span> <span class="mi">5</span><span class="p">:</span> <span class="n">paddr</span><span class="o">=</span><span class="mh">0x00036608</span> <span class="n">vaddr</span><span class="o">=</span><span class="mh">0x40080000</span> <span class="n">size</span><span class="o">=</span><span class="mh">0x00400</span> <span class="p">(</span> <span class="mi">1024</span><span class="p">)</span> <span class="n">load</span>
<span class="n">I</span> <span class="p">(</span><span class="mi">695</span><span class="p">)</span> <span class="n">esp_image</span><span class="p">:</span> <span class="n">segment</span> <span class="mi">6</span><span class="p">:</span> <span class="n">paddr</span><span class="o">=</span><span class="mh">0x00036a10</span> <span class="n">vaddr</span><span class="o">=</span><span class="mh">0x40080400</span> <span class="n">size</span><span class="o">=</span><span class="mh">0x09600</span> <span class="p">(</span> <span class="mi">38400</span><span class="p">)</span> <span class="n">load</span>
<span class="n">I</span> <span class="p">(</span><span class="mi">737</span><span class="p">)</span> <span class="n">esp_image</span><span class="p">:</span> <span class="n">segment</span> <span class="mi">7</span><span class="p">:</span> <span class="n">paddr</span><span class="o">=</span><span class="mh">0x00040018</span> <span class="n">vaddr</span><span class="o">=</span><span class="mh">0x400d0018</span> <span class="n">size</span><span class="o">=</span><span class="mh">0x62e4c</span> <span class="p">(</span><span class="mi">405068</span><span class="p">)</span> <span class="nb">map</span>
<span class="n">I</span> <span class="p">(</span><span class="mi">847</span><span class="p">)</span> <span class="n">esp_image</span><span class="p">:</span> <span class="n">segment</span> <span class="mi">8</span><span class="p">:</span> <span class="n">paddr</span><span class="o">=</span><span class="mh">0x000a2e6c</span> <span class="n">vaddr</span><span class="o">=</span><span class="mh">0x40089a00</span> <span class="n">size</span><span class="o">=</span><span class="mh">0x06cec</span> <span class="p">(</span> <span class="mi">27884</span><span class="p">)</span> <span class="n">load</span>
<span class="n">I</span> <span class="p">(</span><span class="mi">888</span><span class="p">)</span> <span class="n">esp_image</span><span class="p">:</span> <span class="n">segment</span> <span class="mi">9</span><span class="p">:</span> <span class="n">paddr</span><span class="o">=</span><span class="mh">0x000a9b60</span> <span class="n">vaddr</span><span class="o">=</span><span class="mh">0x400c0000</span> <span class="n">size</span><span class="o">=</span><span class="mh">0x00000</span> <span class="p">(</span> <span class="mi">0</span><span class="p">)</span> <span class="n">load</span>
<span class="n">I</span> <span class="p">(</span><span class="mi">929</span><span class="p">)</span> <span class="n">esp_image</span><span class="p">:</span> <span class="n">segment</span> <span class="mi">10</span><span class="p">:</span> <span class="n">paddr</span><span class="o">=</span><span class="mh">0x000a9b68</span> <span class="n">vaddr</span><span class="o">=</span><span class="mh">0x50000000</span> <span class="n">size</span><span class="o">=</span><span class="mh">0x00004</span> <span class="p">(</span> <span class="mi">4</span><span class="p">)</span> <span class="n">load</span>
<span class="n">I</span> <span class="p">(</span><span class="mi">971</span><span class="p">)</span> <span class="n">esp_image</span><span class="p">:</span> <span class="n">segment</span> <span class="mi">11</span><span class="p">:</span> <span class="n">paddr</span><span class="o">=</span><span class="mh">0x000a9b74</span> <span class="n">vaddr</span><span class="o">=</span><span class="mh">0x50000004</span> <span class="n">size</span><span class="o">=</span><span class="mh">0x00000</span> <span class="p">(</span> <span class="mi">0</span><span class="p">)</span> <span class="n">load</span>
<span class="n">I</span> <span class="p">(</span><span class="mi">1012</span><span class="p">)</span> <span class="n">esp_image</span><span class="p">:</span> <span class="n">segment</span> <span class="mi">12</span><span class="p">:</span> <span class="n">paddr</span><span class="o">=</span><span class="mh">0x000a9b7c</span> <span class="n">vaddr</span><span class="o">=</span><span class="mh">0x50000004</span> <span class="n">size</span><span class="o">=</span><span class="mh">0x00000</span> <span class="p">(</span> <span class="mi">0</span><span class="p">)</span> <span class="n">load</span>
</pre></div>
</div>
<p>For more details on the type of memory segments and their address ranges, see <strong>ESP32 Technical Reference Manual</strong> &gt; <strong>System and Memory</strong> &gt; <strong>Embedded Memory</strong> [<a class="reference external" href="https://www.espressif.com/sites/default/files/documentation/esp32_technical_reference_manual_en.pdf#sysmem">PDF</a>].</p>
<ol class="arabic" start="3">
<li><p>The image has a single checksum byte after the last segment. This byte is written on a sixteen byte padded boundary, so the application image might need padding.</p></li>
<li><p>If the <code class="docutils literal notranslate"><span class="pre">hash_appended</span></code> field from <a class="reference internal" href="#_CPPv418esp_image_header_t" title="esp_image_header_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">esp_image_header_t</span></code></a> is set then a SHA256 checksum will be appended. The value of the SHA256 hash is calculated on the range from the first byte and up to this field. The length of this field is 32 bytes.</p></li>
<li><p>If the option <a class="reference internal" href="../kconfig.html#config-secure-signed-apps-scheme"><span class="std std-ref">CONFIG_SECURE_SIGNED_APPS_SCHEME</span></a> is set to ECDSA then the application image will have an additional 68 bytes for an ECDSA signature, which includes:</p>
<blockquote>
<div><ul class="simple">
<li><p>version word (4 bytes)</p></li>
<li><p>signature data (64 bytes)</p></li>
</ul>
</div></blockquote>
</li>
<li><p>If the option <a class="reference internal" href="../kconfig.html#config-secure-signed-apps-scheme"><span class="std std-ref">CONFIG_SECURE_SIGNED_APPS_SCHEME</span></a> is set to RSA or ECDSA (V2) then the application image will have an additional signature sector of 4 KB in size. For more details on the format of this signature sector, please refer to <a class="reference internal" href="../../security/secure-boot-v2.html#signature-block-format"><span class="std std-ref">Signature Block Format</span></a>.</p></li>
</ol>
</section>
<section id="application-description">
<span id="app-image-format-application-description"></span><h2>Application Description<a class="headerlink" href="#application-description" title="Permalink to this heading"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">DROM</span></code> segment of the application binary starts with the <a class="reference internal" href="misc_system_api.html#_CPPv414esp_app_desc_t" title="esp_app_desc_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">esp_app_desc_t</span></code></a> structure which carries specific fields describing the application:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">magic_word</span></code>: the magic word for the <a class="reference internal" href="misc_system_api.html#_CPPv414esp_app_desc_t" title="esp_app_desc_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">esp_app_desc_t</span></code></a> structure</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">secure_version</span></code>: see <a class="reference internal" href="ota.html"><span class="doc">Anti-rollback</span></a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">version</span></code>: see <a class="reference internal" href="misc_system_api.html"><span class="doc">App version</span></a> <a class="footnote-reference brackets" href="#f1" id="id1" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">project_name</span></code>: filled from <code class="docutils literal notranslate"><span class="pre">PROJECT_NAME</span></code> <a class="footnote-reference brackets" href="#f1" id="id2" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">time</span></code> and <code class="docutils literal notranslate"><span class="pre">date</span></code>: compile time and date</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">idf_ver</span></code>: version of ESP-IDF <a class="footnote-reference brackets" href="#f1" id="id3" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">app_elf_sha256</span></code>: contains SHA256 hash for the application ELF file</p></li>
</ul>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="f1" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></span>
<span class="backrefs">(<a role="doc-backlink" href="#id1">1</a>,<a role="doc-backlink" href="#id2">2</a>,<a role="doc-backlink" href="#id3">3</a>)</span>
<p>The maximum length is 32 characters, including null-termination character. For example, if the length of <code class="docutils literal notranslate"><span class="pre">PROJECT_NAME</span></code> exceeds 31 characters, the excess characters will be disregarded.</p>
</aside>
</aside>
<p>This structure is useful for identification of images uploaded via Over-the-Air (OTA) updates because it has a fixed offset = sizeof(<a class="reference internal" href="#_CPPv418esp_image_header_t" title="esp_image_header_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">esp_image_header_t</span></code></a>) + sizeof(<a class="reference internal" href="#_CPPv426esp_image_segment_header_t" title="esp_image_segment_header_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">esp_image_segment_header_t</span></code></a>). As soon as a device receives the first fragment containing this structure, it has all the information to determine whether the update should be continued with or not.</p>
<p>To obtain the <a class="reference internal" href="misc_system_api.html#_CPPv414esp_app_desc_t" title="esp_app_desc_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">esp_app_desc_t</span></code></a> structure for the currently running application, use <a class="reference internal" href="misc_system_api.html#_CPPv423esp_app_get_descriptionv" title="esp_app_get_description"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">esp_app_get_description()</span></code></a>.</p>
<p>To obtain the <a class="reference internal" href="misc_system_api.html#_CPPv414esp_app_desc_t" title="esp_app_desc_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">esp_app_desc_t</span></code></a> structure for another OTA partition, use <a class="reference internal" href="ota.html#_CPPv433esp_ota_get_partition_descriptionPK15esp_partition_tP14esp_app_desc_t" title="esp_ota_get_partition_description"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">esp_ota_get_partition_description()</span></code></a>.</p>
</section>
<section id="adding-a-custom-structure-to-an-application">
<h2>Adding a Custom Structure to an Application<a class="headerlink" href="#adding-a-custom-structure-to-an-application" title="Permalink to this heading"></a></h2>
<p>Users also have the opportunity to have similar structure with a fixed offset relative to the beginning of the image.</p>
<p>The following pattern can be used to add a custom structure to your image:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">const</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">section</span><span class="p">(</span><span class="s">&quot;.rodata_custom_desc&quot;</span><span class="p">)))</span><span class="w"> </span><span class="n">esp_custom_app_desc_t</span><span class="w"> </span><span class="n">custom_app_desc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
<p>Offset for custom structure is sizeof(<a class="reference internal" href="#_CPPv418esp_image_header_t" title="esp_image_header_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">esp_image_header_t</span></code></a>) + sizeof(<a class="reference internal" href="#_CPPv426esp_image_segment_header_t" title="esp_image_segment_header_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">esp_image_segment_header_t</span></code></a>) + sizeof(<a class="reference internal" href="misc_system_api.html#_CPPv414esp_app_desc_t" title="esp_app_desc_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">esp_app_desc_t</span></code></a>).</p>
<p>To guarantee that the custom structure is located in the image even if it is not used, you need to add <code class="docutils literal notranslate"><span class="pre">target_link_libraries(${COMPONENT_TARGET}</span> <span class="pre">&quot;-u</span> <span class="pre">custom_app_desc&quot;)</span></code> into <code class="docutils literal notranslate"><span class="pre">CMakeLists.txt</span></code>.</p>
</section>
<section id="api-reference">
<h2>API Reference<a class="headerlink" href="#api-reference" title="Permalink to this heading"></a></h2>
<section id="header-file">
<h3>Header File<a class="headerlink" href="#header-file" title="Permalink to this heading"></a></h3>
<ul>
<li><p><a class="reference external" href="https://github.com/espressif/esp-idf/blob/v5.4.2/components/bootloader_support/include/esp_app_format.h">components/bootloader_support/include/esp_app_format.h</a></p></li>
<li><p>This header file can be included with:</p>
<blockquote>
<div><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;esp_app_format.h&quot;</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>This header file is a part of the API provided by the <code class="docutils literal notranslate"><span class="pre">bootloader_support</span></code> component. To declare that your component depends on <code class="docutils literal notranslate"><span class="pre">bootloader_support</span></code>, add the following to your CMakeLists.txt:</p>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>REQUIRES bootloader_support
</pre></div>
</div>
<p>or</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>PRIV_REQUIRES bootloader_support
</pre></div>
</div>
</div></blockquote>
</li>
</ul>
</section>
<section id="structures">
<h3>Structures<a class="headerlink" href="#structures" title="Permalink to this heading"></a></h3>
<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv418esp_image_header_t">
<span id="_CPPv318esp_image_header_t"></span><span id="_CPPv218esp_image_header_t"></span><span id="esp_image_header_t"></span><span class="target" id="structesp__image__header__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_image_header_t</span></span></span><a class="headerlink" href="#_CPPv418esp_image_header_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Main header of binary image. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N18esp_image_header_t5magicE">
<span id="_CPPv3N18esp_image_header_t5magicE"></span><span id="_CPPv2N18esp_image_header_t5magicE"></span><span id="esp_image_header_t::magic__uint8_t"></span><span class="target" id="structesp__image__header__t_1a6e86ce2b5270807e1f07bb491011f640"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">magic</span></span></span><a class="headerlink" href="#_CPPv4N18esp_image_header_t5magicE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Magic word ESP_IMAGE_HEADER_MAGIC </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N18esp_image_header_t13segment_countE">
<span id="_CPPv3N18esp_image_header_t13segment_countE"></span><span id="_CPPv2N18esp_image_header_t13segment_countE"></span><span id="esp_image_header_t::segment_count__uint8_t"></span><span class="target" id="structesp__image__header__t_1a99c73ccba6eafee80b779cd9850859ed"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">segment_count</span></span></span><a class="headerlink" href="#_CPPv4N18esp_image_header_t13segment_countE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Count of memory segments </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N18esp_image_header_t8spi_modeE">
<span id="_CPPv3N18esp_image_header_t8spi_modeE"></span><span id="_CPPv2N18esp_image_header_t8spi_modeE"></span><span id="esp_image_header_t::spi_mode__uint8_t"></span><span class="target" id="structesp__image__header__t_1a0796675f7219bb7423c360588a275d82"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">spi_mode</span></span></span><a class="headerlink" href="#_CPPv4N18esp_image_header_t8spi_modeE" title="Permalink to this definition"></a><br /></dt>
<dd><p>flash read mode (esp_image_spi_mode_t as uint8_t) </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N18esp_image_header_t9spi_speedE">
<span id="_CPPv3N18esp_image_header_t9spi_speedE"></span><span id="_CPPv2N18esp_image_header_t9spi_speedE"></span><span id="esp_image_header_t::spi_speed__uint8_t"></span><span class="target" id="structesp__image__header__t_1a2b805728b2759bf5925f61b09fc68a24"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">spi_speed</span></span></span><a class="headerlink" href="#_CPPv4N18esp_image_header_t9spi_speedE" title="Permalink to this definition"></a><br /></dt>
<dd><p>flash frequency (esp_image_spi_freq_t as uint8_t) </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N18esp_image_header_t8spi_sizeE">
<span id="_CPPv3N18esp_image_header_t8spi_sizeE"></span><span id="_CPPv2N18esp_image_header_t8spi_sizeE"></span><span id="esp_image_header_t::spi_size__uint8_t"></span><span class="target" id="structesp__image__header__t_1a4003a38b9328e247dfdb7478d9def152"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">spi_size</span></span></span><a class="headerlink" href="#_CPPv4N18esp_image_header_t8spi_sizeE" title="Permalink to this definition"></a><br /></dt>
<dd><p>flash chip size (esp_image_flash_size_t as uint8_t) </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N18esp_image_header_t10entry_addrE">
<span id="_CPPv3N18esp_image_header_t10entry_addrE"></span><span id="_CPPv2N18esp_image_header_t10entry_addrE"></span><span id="esp_image_header_t::entry_addr__uint32_t"></span><span class="target" id="structesp__image__header__t_1a6870ed1650d71bd93a5a0b5b0b688907"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">entry_addr</span></span></span><a class="headerlink" href="#_CPPv4N18esp_image_header_t10entry_addrE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Entry address </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N18esp_image_header_t6wp_pinE">
<span id="_CPPv3N18esp_image_header_t6wp_pinE"></span><span id="_CPPv2N18esp_image_header_t6wp_pinE"></span><span id="esp_image_header_t::wp_pin__uint8_t"></span><span class="target" id="structesp__image__header__t_1a9a232c7067a883b3fdb55b5cf3a1427a"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">wp_pin</span></span></span><a class="headerlink" href="#_CPPv4N18esp_image_header_t6wp_pinE" title="Permalink to this definition"></a><br /></dt>
<dd><p>WP pin when SPI pins set via efuse (read by ROM bootloader, the IDF bootloader uses software to configure the WP pin and sets this field to 0xEE=disabled) </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N18esp_image_header_t11spi_pin_drvE">
<span id="_CPPv3N18esp_image_header_t11spi_pin_drvE"></span><span id="_CPPv2N18esp_image_header_t11spi_pin_drvE"></span><span id="esp_image_header_t::spi_pin_drv__uint8_tA"></span><span class="target" id="structesp__image__header__t_1a6764abda8e64205b3792aaa3ab0eb43d"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">spi_pin_drv</span></span></span><span class="p"><span class="pre">[</span></span><span class="m"><span class="pre">3</span></span><span class="p"><span class="pre">]</span></span><a class="headerlink" href="#_CPPv4N18esp_image_header_t11spi_pin_drvE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Drive settings for the SPI flash pins (read by ROM bootloader) </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N18esp_image_header_t7chip_idE">
<span id="_CPPv3N18esp_image_header_t7chip_idE"></span><span id="_CPPv2N18esp_image_header_t7chip_idE"></span><span id="esp_image_header_t::chip_id__esp_chip_id_t"></span><span class="target" id="structesp__image__header__t_1ab45625634d558f93c740cc9ed963f14b"></span><a class="reference internal" href="#_CPPv413esp_chip_id_t" title="esp_chip_id_t"><span class="n"><span class="pre">esp_chip_id_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">chip_id</span></span></span><a class="headerlink" href="#_CPPv4N18esp_image_header_t7chip_idE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Chip identification number </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N18esp_image_header_t12min_chip_revE">
<span id="_CPPv3N18esp_image_header_t12min_chip_revE"></span><span id="_CPPv2N18esp_image_header_t12min_chip_revE"></span><span id="esp_image_header_t::min_chip_rev__uint8_t"></span><span class="target" id="structesp__image__header__t_1a8cb1db2de5c6839ef9991232182fd557"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">min_chip_rev</span></span></span><a class="headerlink" href="#_CPPv4N18esp_image_header_t12min_chip_revE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Minimal chip revision supported by image After the Major and Minor revision eFuses were introduced into the chips, this field is no longer used. But for compatibility reasons, we keep this field and the data in it. Use min_chip_rev_full instead. The software interprets this as a Major version for most of the chips and as a Minor version for the ESP32-C3. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N18esp_image_header_t17min_chip_rev_fullE">
<span id="_CPPv3N18esp_image_header_t17min_chip_rev_fullE"></span><span id="_CPPv2N18esp_image_header_t17min_chip_rev_fullE"></span><span id="esp_image_header_t::min_chip_rev_full__uint16_t"></span><span class="target" id="structesp__image__header__t_1a71f0cbed1169bf46c6776c316adce7ec"></span><span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">min_chip_rev_full</span></span></span><a class="headerlink" href="#_CPPv4N18esp_image_header_t17min_chip_rev_fullE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Minimal chip revision supported by image, in format: major * 100 + minor </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N18esp_image_header_t17max_chip_rev_fullE">
<span id="_CPPv3N18esp_image_header_t17max_chip_rev_fullE"></span><span id="_CPPv2N18esp_image_header_t17max_chip_rev_fullE"></span><span id="esp_image_header_t::max_chip_rev_full__uint16_t"></span><span class="target" id="structesp__image__header__t_1ab7d68c1ea8a5606c55e421814b9e0dd1"></span><span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">max_chip_rev_full</span></span></span><a class="headerlink" href="#_CPPv4N18esp_image_header_t17max_chip_rev_fullE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Maximal chip revision supported by image, in format: major * 100 + minor </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N18esp_image_header_t8reservedE">
<span id="_CPPv3N18esp_image_header_t8reservedE"></span><span id="_CPPv2N18esp_image_header_t8reservedE"></span><span id="esp_image_header_t::reserved__uint8_tA"></span><span class="target" id="structesp__image__header__t_1ab46c5c12b6ca55323b65e7c20ce65260"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">reserved</span></span></span><span class="p"><span class="pre">[</span></span><span class="m"><span class="pre">4</span></span><span class="p"><span class="pre">]</span></span><a class="headerlink" href="#_CPPv4N18esp_image_header_t8reservedE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Reserved bytes in additional header space, currently unused </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N18esp_image_header_t13hash_appendedE">
<span id="_CPPv3N18esp_image_header_t13hash_appendedE"></span><span id="_CPPv2N18esp_image_header_t13hash_appendedE"></span><span id="esp_image_header_t::hash_appended__uint8_t"></span><span class="target" id="structesp__image__header__t_1a8dd3479541a5e44d805ebdeb330878e6"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">hash_appended</span></span></span><a class="headerlink" href="#_CPPv4N18esp_image_header_t13hash_appendedE" title="Permalink to this definition"></a><br /></dt>
<dd><p>If 1, a SHA256 digest &quot;simple hash&quot; (of the entire image) is appended after the checksum. Included in image length. This digest is separate to secure boot and only used for detecting corruption. For secure boot signed images, the signature is appended after this (and the simple hash is included in the signed data). </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv426esp_image_segment_header_t">
<span id="_CPPv326esp_image_segment_header_t"></span><span id="_CPPv226esp_image_segment_header_t"></span><span id="esp_image_segment_header_t"></span><span class="target" id="structesp__image__segment__header__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_image_segment_header_t</span></span></span><a class="headerlink" href="#_CPPv426esp_image_segment_header_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Header of binary image segment. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N26esp_image_segment_header_t9load_addrE">
<span id="_CPPv3N26esp_image_segment_header_t9load_addrE"></span><span id="_CPPv2N26esp_image_segment_header_t9load_addrE"></span><span id="esp_image_segment_header_t::load_addr__uint32_t"></span><span class="target" id="structesp__image__segment__header__t_1a9b2c8bd544b6743d38d93351fa3c9e4b"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">load_addr</span></span></span><a class="headerlink" href="#_CPPv4N26esp_image_segment_header_t9load_addrE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Address of segment </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N26esp_image_segment_header_t8data_lenE">
<span id="_CPPv3N26esp_image_segment_header_t8data_lenE"></span><span id="_CPPv2N26esp_image_segment_header_t8data_lenE"></span><span id="esp_image_segment_header_t::data_len__uint32_t"></span><span class="target" id="structesp__image__segment__header__t_1a2d0fdeef51585d4fb4de6a239604e3b9"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">data_len</span></span></span><a class="headerlink" href="#_CPPv4N26esp_image_segment_header_t8data_lenE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Length of data </p>
</dd></dl>

</div>
</dd></dl>

</section>
<section id="macros">
<h3>Macros<a class="headerlink" href="#macros" title="Permalink to this heading"></a></h3>
<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.ESP_IMAGE_HEADER_MAGIC">
<span class="target" id="esp__app__format_8h_1a5b8da1a8024d841f49604e58564f8b3d"></span><span class="sig-name descname"><span class="n"><span class="pre">ESP_IMAGE_HEADER_MAGIC</span></span></span><a class="headerlink" href="#c.ESP_IMAGE_HEADER_MAGIC" title="Permalink to this definition"></a><br /></dt>
<dd><p>The magic word for the <a class="reference internal" href="#structesp__image__header__t"><span class="std std-ref">esp_image_header_t</span></a> structure. </p>
</dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.ESP_IMAGE_MAX_SEGMENTS">
<span class="target" id="esp__app__format_8h_1aba13cb72e92cdd51402b07bd463a1345"></span><span class="sig-name descname"><span class="n"><span class="pre">ESP_IMAGE_MAX_SEGMENTS</span></span></span><a class="headerlink" href="#c.ESP_IMAGE_MAX_SEGMENTS" title="Permalink to this definition"></a><br /></dt>
<dd><p>Max count of segments in the image. </p>
</dd></dl>

</section>
<section id="enumerations">
<h3>Enumerations<a class="headerlink" href="#enumerations" title="Permalink to this heading"></a></h3>
<dl class="cpp enum">
<dt class="sig sig-object cpp" id="_CPPv413esp_chip_id_t">
<span id="_CPPv313esp_chip_id_t"></span><span id="_CPPv213esp_chip_id_t"></span><span class="target" id="esp__app__format_8h_1aaa179fd7b2aefef3b9a90456d4461302"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_chip_id_t</span></span></span><a class="headerlink" href="#_CPPv413esp_chip_id_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>ESP chip ID. </p>
<p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N13esp_chip_id_t17ESP_CHIP_ID_ESP32E">
<span id="_CPPv3N13esp_chip_id_t17ESP_CHIP_ID_ESP32E"></span><span id="_CPPv2N13esp_chip_id_t17ESP_CHIP_ID_ESP32E"></span><span class="target" id="esp__app__format_8h_1aaa179fd7b2aefef3b9a90456d4461302afd5eab33eaf518e2673affa58cb21a88"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ESP_CHIP_ID_ESP32</span></span></span><a class="headerlink" href="#_CPPv4N13esp_chip_id_t17ESP_CHIP_ID_ESP32E" title="Permalink to this definition"></a><br /></dt>
<dd><p>chip ID: ESP32 </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N13esp_chip_id_t19ESP_CHIP_ID_ESP32S2E">
<span id="_CPPv3N13esp_chip_id_t19ESP_CHIP_ID_ESP32S2E"></span><span id="_CPPv2N13esp_chip_id_t19ESP_CHIP_ID_ESP32S2E"></span><span class="target" id="esp__app__format_8h_1aaa179fd7b2aefef3b9a90456d4461302aa18c302609e7efd19a029515bdc050d8"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ESP_CHIP_ID_ESP32S2</span></span></span><a class="headerlink" href="#_CPPv4N13esp_chip_id_t19ESP_CHIP_ID_ESP32S2E" title="Permalink to this definition"></a><br /></dt>
<dd><p>chip ID: ESP32-S2 </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N13esp_chip_id_t19ESP_CHIP_ID_ESP32C3E">
<span id="_CPPv3N13esp_chip_id_t19ESP_CHIP_ID_ESP32C3E"></span><span id="_CPPv2N13esp_chip_id_t19ESP_CHIP_ID_ESP32C3E"></span><span class="target" id="esp__app__format_8h_1aaa179fd7b2aefef3b9a90456d4461302ae2fc8a7b5e94fb7a1958d2090feac766"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ESP_CHIP_ID_ESP32C3</span></span></span><a class="headerlink" href="#_CPPv4N13esp_chip_id_t19ESP_CHIP_ID_ESP32C3E" title="Permalink to this definition"></a><br /></dt>
<dd><p>chip ID: ESP32-C3 </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N13esp_chip_id_t19ESP_CHIP_ID_ESP32S3E">
<span id="_CPPv3N13esp_chip_id_t19ESP_CHIP_ID_ESP32S3E"></span><span id="_CPPv2N13esp_chip_id_t19ESP_CHIP_ID_ESP32S3E"></span><span class="target" id="esp__app__format_8h_1aaa179fd7b2aefef3b9a90456d4461302abcd0a07cf61b5e46f7726b1caf48e0bd"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ESP_CHIP_ID_ESP32S3</span></span></span><a class="headerlink" href="#_CPPv4N13esp_chip_id_t19ESP_CHIP_ID_ESP32S3E" title="Permalink to this definition"></a><br /></dt>
<dd><p>chip ID: ESP32-S3 </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N13esp_chip_id_t19ESP_CHIP_ID_ESP32C2E">
<span id="_CPPv3N13esp_chip_id_t19ESP_CHIP_ID_ESP32C2E"></span><span id="_CPPv2N13esp_chip_id_t19ESP_CHIP_ID_ESP32C2E"></span><span class="target" id="esp__app__format_8h_1aaa179fd7b2aefef3b9a90456d4461302a929c06219f8ab4154c5dcbafbf6820e4"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ESP_CHIP_ID_ESP32C2</span></span></span><a class="headerlink" href="#_CPPv4N13esp_chip_id_t19ESP_CHIP_ID_ESP32C2E" title="Permalink to this definition"></a><br /></dt>
<dd><p>chip ID: ESP32-C2 </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N13esp_chip_id_t19ESP_CHIP_ID_ESP32C6E">
<span id="_CPPv3N13esp_chip_id_t19ESP_CHIP_ID_ESP32C6E"></span><span id="_CPPv2N13esp_chip_id_t19ESP_CHIP_ID_ESP32C6E"></span><span class="target" id="esp__app__format_8h_1aaa179fd7b2aefef3b9a90456d4461302a67d87c8ebe9fc1cd423fffa2bdabacfc"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ESP_CHIP_ID_ESP32C6</span></span></span><a class="headerlink" href="#_CPPv4N13esp_chip_id_t19ESP_CHIP_ID_ESP32C6E" title="Permalink to this definition"></a><br /></dt>
<dd><p>chip ID: ESP32-C6 </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N13esp_chip_id_t19ESP_CHIP_ID_ESP32H2E">
<span id="_CPPv3N13esp_chip_id_t19ESP_CHIP_ID_ESP32H2E"></span><span id="_CPPv2N13esp_chip_id_t19ESP_CHIP_ID_ESP32H2E"></span><span class="target" id="esp__app__format_8h_1aaa179fd7b2aefef3b9a90456d4461302aaf07deb7af6b72174cee61df0297db26"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ESP_CHIP_ID_ESP32H2</span></span></span><a class="headerlink" href="#_CPPv4N13esp_chip_id_t19ESP_CHIP_ID_ESP32H2E" title="Permalink to this definition"></a><br /></dt>
<dd><p>chip ID: ESP32-H2 </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N13esp_chip_id_t19ESP_CHIP_ID_ESP32P4E">
<span id="_CPPv3N13esp_chip_id_t19ESP_CHIP_ID_ESP32P4E"></span><span id="_CPPv2N13esp_chip_id_t19ESP_CHIP_ID_ESP32P4E"></span><span class="target" id="esp__app__format_8h_1aaa179fd7b2aefef3b9a90456d4461302aea7ae8b2d549bd6fa8e01cc227e2253e"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ESP_CHIP_ID_ESP32P4</span></span></span><a class="headerlink" href="#_CPPv4N13esp_chip_id_t19ESP_CHIP_ID_ESP32P4E" title="Permalink to this definition"></a><br /></dt>
<dd><p>chip ID: ESP32-P4 </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N13esp_chip_id_t19ESP_CHIP_ID_ESP32C5E">
<span id="_CPPv3N13esp_chip_id_t19ESP_CHIP_ID_ESP32C5E"></span><span id="_CPPv2N13esp_chip_id_t19ESP_CHIP_ID_ESP32C5E"></span><span class="target" id="esp__app__format_8h_1aaa179fd7b2aefef3b9a90456d4461302aaf71d9b98cf3669149ee4699e563da18"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ESP_CHIP_ID_ESP32C5</span></span></span><a class="headerlink" href="#_CPPv4N13esp_chip_id_t19ESP_CHIP_ID_ESP32C5E" title="Permalink to this definition"></a><br /></dt>
<dd><p>chip ID: ESP32-C5 </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N13esp_chip_id_t19ESP_CHIP_ID_INVALIDE">
<span id="_CPPv3N13esp_chip_id_t19ESP_CHIP_ID_INVALIDE"></span><span id="_CPPv2N13esp_chip_id_t19ESP_CHIP_ID_INVALIDE"></span><span class="target" id="esp__app__format_8h_1aaa179fd7b2aefef3b9a90456d4461302a68540a6e2bfd149dbf1928f179d13452"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ESP_CHIP_ID_INVALID</span></span></span><a class="headerlink" href="#_CPPv4N13esp_chip_id_t19ESP_CHIP_ID_INVALIDE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Invalid chip ID (we defined it to make sure the esp_chip_id_t is 2 bytes size) </p>
</dd></dl>

</dd></dl>

<dl class="cpp enum">
<dt class="sig sig-object cpp" id="_CPPv420esp_image_spi_mode_t">
<span id="_CPPv320esp_image_spi_mode_t"></span><span id="_CPPv220esp_image_spi_mode_t"></span><span class="target" id="esp__app__format_8h_1a91de9829bff47799f639a2a60e6256a0"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_image_spi_mode_t</span></span></span><a class="headerlink" href="#_CPPv420esp_image_spi_mode_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>SPI flash mode, used in <a class="reference internal" href="#structesp__image__header__t"><span class="std std-ref">esp_image_header_t</span></a>. </p>
<p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N20esp_image_spi_mode_t22ESP_IMAGE_SPI_MODE_QIOE">
<span id="_CPPv3N20esp_image_spi_mode_t22ESP_IMAGE_SPI_MODE_QIOE"></span><span id="_CPPv2N20esp_image_spi_mode_t22ESP_IMAGE_SPI_MODE_QIOE"></span><span class="target" id="esp__app__format_8h_1a91de9829bff47799f639a2a60e6256a0ae82bdf1395f792a8007c1920059a6ac9"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ESP_IMAGE_SPI_MODE_QIO</span></span></span><a class="headerlink" href="#_CPPv4N20esp_image_spi_mode_t22ESP_IMAGE_SPI_MODE_QIOE" title="Permalink to this definition"></a><br /></dt>
<dd><p>SPI mode QIO </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N20esp_image_spi_mode_t23ESP_IMAGE_SPI_MODE_QOUTE">
<span id="_CPPv3N20esp_image_spi_mode_t23ESP_IMAGE_SPI_MODE_QOUTE"></span><span id="_CPPv2N20esp_image_spi_mode_t23ESP_IMAGE_SPI_MODE_QOUTE"></span><span class="target" id="esp__app__format_8h_1a91de9829bff47799f639a2a60e6256a0a78e2a4f0624e7ef70101aa0ab89e878d"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ESP_IMAGE_SPI_MODE_QOUT</span></span></span><a class="headerlink" href="#_CPPv4N20esp_image_spi_mode_t23ESP_IMAGE_SPI_MODE_QOUTE" title="Permalink to this definition"></a><br /></dt>
<dd><p>SPI mode QOUT </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N20esp_image_spi_mode_t22ESP_IMAGE_SPI_MODE_DIOE">
<span id="_CPPv3N20esp_image_spi_mode_t22ESP_IMAGE_SPI_MODE_DIOE"></span><span id="_CPPv2N20esp_image_spi_mode_t22ESP_IMAGE_SPI_MODE_DIOE"></span><span class="target" id="esp__app__format_8h_1a91de9829bff47799f639a2a60e6256a0a978cd51e480967810164467663067a1c"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ESP_IMAGE_SPI_MODE_DIO</span></span></span><a class="headerlink" href="#_CPPv4N20esp_image_spi_mode_t22ESP_IMAGE_SPI_MODE_DIOE" title="Permalink to this definition"></a><br /></dt>
<dd><p>SPI mode DIO </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N20esp_image_spi_mode_t23ESP_IMAGE_SPI_MODE_DOUTE">
<span id="_CPPv3N20esp_image_spi_mode_t23ESP_IMAGE_SPI_MODE_DOUTE"></span><span id="_CPPv2N20esp_image_spi_mode_t23ESP_IMAGE_SPI_MODE_DOUTE"></span><span class="target" id="esp__app__format_8h_1a91de9829bff47799f639a2a60e6256a0a6cce09f9e30f0dfd6aaeb7a3058e8a49"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ESP_IMAGE_SPI_MODE_DOUT</span></span></span><a class="headerlink" href="#_CPPv4N20esp_image_spi_mode_t23ESP_IMAGE_SPI_MODE_DOUTE" title="Permalink to this definition"></a><br /></dt>
<dd><p>SPI mode DOUT </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N20esp_image_spi_mode_t28ESP_IMAGE_SPI_MODE_FAST_READE">
<span id="_CPPv3N20esp_image_spi_mode_t28ESP_IMAGE_SPI_MODE_FAST_READE"></span><span id="_CPPv2N20esp_image_spi_mode_t28ESP_IMAGE_SPI_MODE_FAST_READE"></span><span class="target" id="esp__app__format_8h_1a91de9829bff47799f639a2a60e6256a0a080704c7c0e9e8f2e2b5d4a1c3fc3e8f"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ESP_IMAGE_SPI_MODE_FAST_READ</span></span></span><a class="headerlink" href="#_CPPv4N20esp_image_spi_mode_t28ESP_IMAGE_SPI_MODE_FAST_READE" title="Permalink to this definition"></a><br /></dt>
<dd><p>SPI mode FAST_READ </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N20esp_image_spi_mode_t28ESP_IMAGE_SPI_MODE_SLOW_READE">
<span id="_CPPv3N20esp_image_spi_mode_t28ESP_IMAGE_SPI_MODE_SLOW_READE"></span><span id="_CPPv2N20esp_image_spi_mode_t28ESP_IMAGE_SPI_MODE_SLOW_READE"></span><span class="target" id="esp__app__format_8h_1a91de9829bff47799f639a2a60e6256a0adf37744c441efcd0ad59a2bfd6bf66d7"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ESP_IMAGE_SPI_MODE_SLOW_READ</span></span></span><a class="headerlink" href="#_CPPv4N20esp_image_spi_mode_t28ESP_IMAGE_SPI_MODE_SLOW_READE" title="Permalink to this definition"></a><br /></dt>
<dd><p>SPI mode SLOW_READ </p>
</dd></dl>

</dd></dl>

<dl class="cpp enum">
<dt class="sig sig-object cpp" id="_CPPv420esp_image_spi_freq_t">
<span id="_CPPv320esp_image_spi_freq_t"></span><span id="_CPPv220esp_image_spi_freq_t"></span><span class="target" id="esp__app__format_8h_1a9a4bb6a5ed31cd7e48e6ff956daca6b4"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_image_spi_freq_t</span></span></span><a class="headerlink" href="#_CPPv420esp_image_spi_freq_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>SPI flash clock division factor. </p>
<p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N20esp_image_spi_freq_t25ESP_IMAGE_SPI_SPEED_DIV_2E">
<span id="_CPPv3N20esp_image_spi_freq_t25ESP_IMAGE_SPI_SPEED_DIV_2E"></span><span id="_CPPv2N20esp_image_spi_freq_t25ESP_IMAGE_SPI_SPEED_DIV_2E"></span><span class="target" id="esp__app__format_8h_1a9a4bb6a5ed31cd7e48e6ff956daca6b4a232b7c8da4efc8b63e4b83260d780804"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ESP_IMAGE_SPI_SPEED_DIV_2</span></span></span><a class="headerlink" href="#_CPPv4N20esp_image_spi_freq_t25ESP_IMAGE_SPI_SPEED_DIV_2E" title="Permalink to this definition"></a><br /></dt>
<dd><p>The SPI flash clock frequency is divided by 2 of the clock source </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N20esp_image_spi_freq_t25ESP_IMAGE_SPI_SPEED_DIV_3E">
<span id="_CPPv3N20esp_image_spi_freq_t25ESP_IMAGE_SPI_SPEED_DIV_3E"></span><span id="_CPPv2N20esp_image_spi_freq_t25ESP_IMAGE_SPI_SPEED_DIV_3E"></span><span class="target" id="esp__app__format_8h_1a9a4bb6a5ed31cd7e48e6ff956daca6b4ae849afd65f36033076ae7b9636f1c552"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ESP_IMAGE_SPI_SPEED_DIV_3</span></span></span><a class="headerlink" href="#_CPPv4N20esp_image_spi_freq_t25ESP_IMAGE_SPI_SPEED_DIV_3E" title="Permalink to this definition"></a><br /></dt>
<dd><p>The SPI flash clock frequency is divided by 3 of the clock source </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N20esp_image_spi_freq_t25ESP_IMAGE_SPI_SPEED_DIV_4E">
<span id="_CPPv3N20esp_image_spi_freq_t25ESP_IMAGE_SPI_SPEED_DIV_4E"></span><span id="_CPPv2N20esp_image_spi_freq_t25ESP_IMAGE_SPI_SPEED_DIV_4E"></span><span class="target" id="esp__app__format_8h_1a9a4bb6a5ed31cd7e48e6ff956daca6b4a2830fab8d937e2aa5d07254972bd7a40"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ESP_IMAGE_SPI_SPEED_DIV_4</span></span></span><a class="headerlink" href="#_CPPv4N20esp_image_spi_freq_t25ESP_IMAGE_SPI_SPEED_DIV_4E" title="Permalink to this definition"></a><br /></dt>
<dd><p>The SPI flash clock frequency is divided by 4 of the clock source </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N20esp_image_spi_freq_t25ESP_IMAGE_SPI_SPEED_DIV_1E">
<span id="_CPPv3N20esp_image_spi_freq_t25ESP_IMAGE_SPI_SPEED_DIV_1E"></span><span id="_CPPv2N20esp_image_spi_freq_t25ESP_IMAGE_SPI_SPEED_DIV_1E"></span><span class="target" id="esp__app__format_8h_1a9a4bb6a5ed31cd7e48e6ff956daca6b4a5eb90aad360be6d73407e98172318efe"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ESP_IMAGE_SPI_SPEED_DIV_1</span></span></span><a class="headerlink" href="#_CPPv4N20esp_image_spi_freq_t25ESP_IMAGE_SPI_SPEED_DIV_1E" title="Permalink to this definition"></a><br /></dt>
<dd><p>The SPI flash clock frequency equals to the clock source </p>
</dd></dl>

</dd></dl>

<dl class="cpp enum">
<dt class="sig sig-object cpp" id="_CPPv422esp_image_flash_size_t">
<span id="_CPPv322esp_image_flash_size_t"></span><span id="_CPPv222esp_image_flash_size_t"></span><span class="target" id="esp__app__format_8h_1a513758795fde686eb25473bbc175c60a"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_image_flash_size_t</span></span></span><a class="headerlink" href="#_CPPv422esp_image_flash_size_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Supported SPI flash sizes. </p>
<p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N22esp_image_flash_size_t24ESP_IMAGE_FLASH_SIZE_1MBE">
<span id="_CPPv3N22esp_image_flash_size_t24ESP_IMAGE_FLASH_SIZE_1MBE"></span><span id="_CPPv2N22esp_image_flash_size_t24ESP_IMAGE_FLASH_SIZE_1MBE"></span><span class="target" id="esp__app__format_8h_1a513758795fde686eb25473bbc175c60aa2dbb85611f2ce9d30387f2006b84a3f7"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ESP_IMAGE_FLASH_SIZE_1MB</span></span></span><a class="headerlink" href="#_CPPv4N22esp_image_flash_size_t24ESP_IMAGE_FLASH_SIZE_1MBE" title="Permalink to this definition"></a><br /></dt>
<dd><p>SPI flash size 1 MB </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N22esp_image_flash_size_t24ESP_IMAGE_FLASH_SIZE_2MBE">
<span id="_CPPv3N22esp_image_flash_size_t24ESP_IMAGE_FLASH_SIZE_2MBE"></span><span id="_CPPv2N22esp_image_flash_size_t24ESP_IMAGE_FLASH_SIZE_2MBE"></span><span class="target" id="esp__app__format_8h_1a513758795fde686eb25473bbc175c60aa76d5708749c81bb30ac7bb382fc8bd2c"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ESP_IMAGE_FLASH_SIZE_2MB</span></span></span><a class="headerlink" href="#_CPPv4N22esp_image_flash_size_t24ESP_IMAGE_FLASH_SIZE_2MBE" title="Permalink to this definition"></a><br /></dt>
<dd><p>SPI flash size 2 MB </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N22esp_image_flash_size_t24ESP_IMAGE_FLASH_SIZE_4MBE">
<span id="_CPPv3N22esp_image_flash_size_t24ESP_IMAGE_FLASH_SIZE_4MBE"></span><span id="_CPPv2N22esp_image_flash_size_t24ESP_IMAGE_FLASH_SIZE_4MBE"></span><span class="target" id="esp__app__format_8h_1a513758795fde686eb25473bbc175c60aa7669145246c925eafaa96fbddd799093"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ESP_IMAGE_FLASH_SIZE_4MB</span></span></span><a class="headerlink" href="#_CPPv4N22esp_image_flash_size_t24ESP_IMAGE_FLASH_SIZE_4MBE" title="Permalink to this definition"></a><br /></dt>
<dd><p>SPI flash size 4 MB </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N22esp_image_flash_size_t24ESP_IMAGE_FLASH_SIZE_8MBE">
<span id="_CPPv3N22esp_image_flash_size_t24ESP_IMAGE_FLASH_SIZE_8MBE"></span><span id="_CPPv2N22esp_image_flash_size_t24ESP_IMAGE_FLASH_SIZE_8MBE"></span><span class="target" id="esp__app__format_8h_1a513758795fde686eb25473bbc175c60aa072f6a2c50121b763325650407f6eead"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ESP_IMAGE_FLASH_SIZE_8MB</span></span></span><a class="headerlink" href="#_CPPv4N22esp_image_flash_size_t24ESP_IMAGE_FLASH_SIZE_8MBE" title="Permalink to this definition"></a><br /></dt>
<dd><p>SPI flash size 8 MB </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N22esp_image_flash_size_t25ESP_IMAGE_FLASH_SIZE_16MBE">
<span id="_CPPv3N22esp_image_flash_size_t25ESP_IMAGE_FLASH_SIZE_16MBE"></span><span id="_CPPv2N22esp_image_flash_size_t25ESP_IMAGE_FLASH_SIZE_16MBE"></span><span class="target" id="esp__app__format_8h_1a513758795fde686eb25473bbc175c60aa8b127017b2777645ed538541cd248048"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ESP_IMAGE_FLASH_SIZE_16MB</span></span></span><a class="headerlink" href="#_CPPv4N22esp_image_flash_size_t25ESP_IMAGE_FLASH_SIZE_16MBE" title="Permalink to this definition"></a><br /></dt>
<dd><p>SPI flash size 16 MB </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N22esp_image_flash_size_t25ESP_IMAGE_FLASH_SIZE_32MBE">
<span id="_CPPv3N22esp_image_flash_size_t25ESP_IMAGE_FLASH_SIZE_32MBE"></span><span id="_CPPv2N22esp_image_flash_size_t25ESP_IMAGE_FLASH_SIZE_32MBE"></span><span class="target" id="esp__app__format_8h_1a513758795fde686eb25473bbc175c60aab6306ff0b6c07864591083eea026c6d1"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ESP_IMAGE_FLASH_SIZE_32MB</span></span></span><a class="headerlink" href="#_CPPv4N22esp_image_flash_size_t25ESP_IMAGE_FLASH_SIZE_32MBE" title="Permalink to this definition"></a><br /></dt>
<dd><p>SPI flash size 32 MB </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N22esp_image_flash_size_t25ESP_IMAGE_FLASH_SIZE_64MBE">
<span id="_CPPv3N22esp_image_flash_size_t25ESP_IMAGE_FLASH_SIZE_64MBE"></span><span id="_CPPv2N22esp_image_flash_size_t25ESP_IMAGE_FLASH_SIZE_64MBE"></span><span class="target" id="esp__app__format_8h_1a513758795fde686eb25473bbc175c60aa7c16a14ff9dc370ffba7418b91ed0ad1"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ESP_IMAGE_FLASH_SIZE_64MB</span></span></span><a class="headerlink" href="#_CPPv4N22esp_image_flash_size_t25ESP_IMAGE_FLASH_SIZE_64MBE" title="Permalink to this definition"></a><br /></dt>
<dd><p>SPI flash size 64 MB </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N22esp_image_flash_size_t26ESP_IMAGE_FLASH_SIZE_128MBE">
<span id="_CPPv3N22esp_image_flash_size_t26ESP_IMAGE_FLASH_SIZE_128MBE"></span><span id="_CPPv2N22esp_image_flash_size_t26ESP_IMAGE_FLASH_SIZE_128MBE"></span><span class="target" id="esp__app__format_8h_1a513758795fde686eb25473bbc175c60aa2d362566129989e371294db35ccf6d20"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ESP_IMAGE_FLASH_SIZE_128MB</span></span></span><a class="headerlink" href="#_CPPv4N22esp_image_flash_size_t26ESP_IMAGE_FLASH_SIZE_128MBE" title="Permalink to this definition"></a><br /></dt>
<dd><p>SPI flash size 128 MB </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N22esp_image_flash_size_t24ESP_IMAGE_FLASH_SIZE_MAXE">
<span id="_CPPv3N22esp_image_flash_size_t24ESP_IMAGE_FLASH_SIZE_MAXE"></span><span id="_CPPv2N22esp_image_flash_size_t24ESP_IMAGE_FLASH_SIZE_MAXE"></span><span class="target" id="esp__app__format_8h_1a513758795fde686eb25473bbc175c60aab26600350c054ea1a99e28dad57aa9d6"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ESP_IMAGE_FLASH_SIZE_MAX</span></span></span><a class="headerlink" href="#_CPPv4N22esp_image_flash_size_t24ESP_IMAGE_FLASH_SIZE_MAXE" title="Permalink to this definition"></a><br /></dt>
<dd><p>SPI flash size MAX </p>
</dd></dl>

</dd></dl>

</section>
</section>
</section>

    <script type="text/javascript">
        function init() {
            WaveDrom.ProcessAll();
        }
        window.onload = init;
    </script>

           </div>
             <div class="articleComments">

<style>
    .expand-feedback-content {
        display: none;
    }
    .click-like-or-dislike {
        background-color: #d3d3d3;
        pointer-events: none;
    }
</style>

<script>
    function submitFeedbackForm(user_likes_document) {
        // Send to GA4 the user reaction
        gtag('event', 'user_reaction', {
            'user_likes_document': user_likes_document
        });

        if (user_likes_document === 1) {
            document.querySelector('.like-btn').classList.add('click-like-or-dislike');
            document.getElementById("expandContentLike").style.display = 'block';
        } else {
            document.querySelector('.dislike-btn').classList.add('click-like-or-dislike');
            document.getElementById("expandContent").style.display = 'block';
        }

        document.querySelector('.like-btn').style.pointerEvents = 'none';
        document.querySelector('.dislike-btn').style.pointerEvents = 'none';
    }
</script>

<hr>

<p style="text-align:center"><strong>Was this page helpful?</strong></p>
<p style="text-align:center">
    <button class="like-btn" onclick="submitFeedbackForm(1)">
        <svg aria-hidden="true" focusable="false" class="color-fg-muted" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible">
            <path d="M8.834.066c.763.087 1.5.295 2.01.884.505.581.656 1.378.656 2.3 0 .467-.087 1.119-.157 1.637L11.328 5h1.422c.603 0 1.174.085 1.668.333.508.254.911.679 1.137 1.2.453.998.438 2.447.188 4.316l-.04.306c-.105.79-.195 1.473-.313 2.033-.131.63-.315 1.209-.668 1.672C13.97 15.847 12.706 16 11 16c-1.848 0-3.234-.333-4.388-.653-.165-.045-.323-.09-.475-.133-.658-.186-1.2-.34-1.725-.415A1.75 1.75 0 0 1 2.75 16h-1A1.75 1.75 0 0 1 0 14.25v-7.5C0 5.784.784 5 1.75 5h1a1.75 1.75 0 0 1 1.514.872c.258-.105.59-.268.918-.508C5.853 4.874 6.5 4.079 6.5 2.75v-.5c0-1.202.994-2.337 2.334-2.184ZM4.5 13.3c.705.088 1.39.284 2.072.478l.441.125c1.096.305 2.334.598 3.987.598 1.794 0 2.28-.223 2.528-.549.147-.193.276-.505.394-1.07.105-.502.188-1.124.295-1.93l.04-.3c.25-1.882.189-2.933-.068-3.497a.921.921 0 0 0-.442-.48c-.208-.104-.52-.174-.997-.174H11c-.686 0-1.295-.577-1.206-1.336.023-.192.05-.39.076-.586.065-.488.13-.97.13-1.328 0-.809-.144-1.15-.288-1.316-.137-.158-.402-.304-1.048-.378C8.357 1.521 8 1.793 8 2.25v.5c0 1.922-.978 3.128-1.933 3.825a5.831 5.831 0 0 1-1.567.81ZM2.75 6.5h-1a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h1a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
        </svg>
    </button>
    <button class="dislike-btn" onclick="submitFeedbackForm(0)">
        <svg aria-hidden="true" focusable="false" class="" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible">
            <path d="M7.083 15.986c-.763-.087-1.499-.295-2.011-.884-.504-.581-.655-1.378-.655-2.299 0-.468.087-1.12.157-1.638l.015-.112H3.167c-.603 0-1.174-.086-1.669-.334a2.415 2.415 0 0 1-1.136-1.2c-.454-.998-.438-2.447-.188-4.316l.04-.306C.32 4.108.41 3.424.526 2.864c.132-.63.316-1.209.669-1.672C1.947.205 3.211.053 4.917.053c1.848 0 3.234.332 4.388.652l.474.133c.658.187 1.201.341 1.726.415a1.75 1.75 0 0 1 1.662-1.2h1c.966 0 1.75.784 1.75 1.75v7.5a1.75 1.75 0 0 1-1.75 1.75h-1a1.75 1.75 0 0 1-1.514-.872c-.259.105-.59.268-.919.508-.671.491-1.317 1.285-1.317 2.614v.5c0 1.201-.994 2.336-2.334 2.183Zm4.334-13.232c-.706-.089-1.39-.284-2.072-.479l-.441-.125c-1.096-.304-2.335-.597-3.987-.597-1.794 0-2.28.222-2.529.548-.147.193-.275.505-.393 1.07-.105.502-.188 1.124-.295 1.93l-.04.3c-.25 1.882-.19 2.933.067 3.497a.923.923 0 0 0 .443.48c.208.104.52.175.997.175h1.75c.685 0 1.295.577 1.205 1.335-.022.192-.049.39-.075.586-.066.488-.13.97-.13 1.329 0 .808.144 1.15.288 1.316.137.157.401.303 1.048.377.307.035.664-.237.664-.693v-.5c0-1.922.978-3.127 1.932-3.825a5.878 5.878 0 0 1 1.568-.809Zm1.75 6.798h1a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25h-1a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25Z"></path>
        </svg>
    </button>
</p>

<div class="expand-feedback-content" id="expandContentLike">
    <ul style="text-align:center">
        <li>Thank you! We received your feedback.</li>
        <li>If you have any comments, fill in <a href='https://www.espressif.com/en/company/documents/documentation_feedback?docId=4287&sections=App Image Format (api-reference/system/app_image_format)&version=esp32 v5.4.2 (v5.4.2)'>Espressif Documentation Feedback Form</a>.</li>
    </ul>
</div>

<div class="expand-feedback-content" id="expandContent">
    <ul style="text-align:center">
        <li>We value your feedback.</li>
        <li>Let us know how we can improve this page by filling in <a href='https://www.espressif.com/en/company/documents/documentation_feedback?docId=4287&sections=App Image Format (api-reference/system/app_image_format)&version=esp32 v5.4.2 (v5.4.2)'>Espressif Documentation Feedback Form</a>.</li>
    </ul>
</div>

<br>


             </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="System API" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="bootloader_image_format.html" class="btn btn-neutral float-right" title="Bootloader Image Format" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2016 - 2025, Espressif Systems (Shanghai) Co., Ltd.</p>
  </div>

  <ul class="footer">
        <li>
	    
            
            Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/espressif/sphinx_idf_theme">theme</a>  based on <a href="https://github.com/readthedocs/sphinx_rtd_theme">Read the Docs Sphinx Theme</a>.
         </li>
    <li class="footer-aside">
        <a href="../../esp-idf-en-v5.4.2.zip"> Download HTML</a>
    </li>

  </ul> 

</footer>
        </div>
      </div>
    </section>
  </div>

  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>