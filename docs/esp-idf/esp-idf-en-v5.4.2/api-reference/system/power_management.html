<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" />
        <!-- Global site tag (gtag.js) - Google Analytics -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-73KGWFC8DM"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());

            gtag('config', 'G-73KGWFC8DM');
        </script><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Power Management - ESP32 -  &mdash; ESP-IDF Programming Guide v5.4.2 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=a60756f2" />
      <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=949a1ff5" />
      <link rel="stylesheet" type="text/css" href="../../_static/theme_overrides.css?v=851bd809" />

  
    <link rel="canonical" href="https://docs.espressif.com/projects/esp-idf/en/stable/esp32/api-reference/system/power_management.html" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js?v=c241bbaf"></script>
        <script src="../../_static/doctools.js?v=888ff710"></script>
        <script src="../../_static/sphinx_highlight.js?v=4825356b"></script>
        <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../../_static/copybutton.js?v=ff8fa330"></script>
        <script src="https://wavedrom.com/skins/default.js"></script>
        <script src="https://wavedrom.com/wavedrom.min.js"></script>
    <script src="../../_static/js/theme.js"></script>

    
        

    <script type="text/javascript">
        DOCUMENTATION_OPTIONS.PAGENAME = 'api-reference/system/power_management';
        DOCUMENTATION_OPTIONS.PROJECT_SLUG = 'esp-idf';
        DOCUMENTATION_OPTIONS.LATEST_BRANCH_NAME = 'master';
        DOCUMENTATION_OPTIONS.VERSIONS_URL = 'https://dl.espressif.com/dl/esp-idf/idf_versions.js';
        DOCUMENTATION_OPTIONS.LANGUAGES = ["en", "zh_CN"];
        DOCUMENTATION_OPTIONS.IDF_TARGET = 'esp32';
        DOCUMENTATION_OPTIONS.HAS_IDF_TARGETS = ["esp32", "esp32s2", "esp32s3", "esp32c3", "esp32c2", "esp32c5", "esp32c6", "esp32p4"]
        DOCUMENTATION_OPTIONS.RELEASE = 'v5.4.2';
        DOCUMENTATION_OPTIONS.LANGUAGE_URL = 'en';

    </script>

    <script type="text/javascript" src="https://dl.espressif.com/dl/esp-idf/idf_versions.js"></script>
    <link rel="author" title="About these documents" href="../../about.html" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="POSIX Support (Including POSIX Threads Support)" href="pthread.html" />
    <link rel="prev" title="Performance Monitor" href="perfmon.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            ESP-IDF Programming Guide
              <img src="../../_static/espressif-logo.svg" class="logo" alt="Logo"/>
          </a>

          
            <div class="selectors">
              <select id="target-select" style="width: 150px;" hidden>
                <option value="" disabled selected>Choose target...</option>
              </select>
            </div>
          

          <div class="selectors">
            <select id="version-select" style="width: 150px;" hidden>
              <option value="" disabled selected>Choose version...</option>
            </select>
          </div>

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../get-started/index.html">Get Started</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">API Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../api-conventions.html">API Conventions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../protocols/index.html">Application Protocols</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bluetooth/index.html">Bluetooth® API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../error-codes.html">Error Codes Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="../network/index.html">Networking APIs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../peripherals/index.html">Peripherals API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kconfig.html">Project Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../provisioning/index.html">Provisioning API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../storage/index.html">Storage API</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">System API</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="app_image_format.html">App Image Format</a></li>
<li class="toctree-l3"><a class="reference internal" href="bootloader_image_format.html">Bootloader Image Format</a></li>
<li class="toctree-l3"><a class="reference internal" href="app_trace.html">Application Level Tracing</a></li>
<li class="toctree-l3"><a class="reference internal" href="esp_function_with_shared_stack.html">Call Function with External Stack</a></li>
<li class="toctree-l3"><a class="reference internal" href="chip_revision.html">Chip Revision</a></li>
<li class="toctree-l3"><a class="reference internal" href="console.html">Console</a></li>
<li class="toctree-l3"><a class="reference internal" href="efuse.html">eFuse Manager</a></li>
<li class="toctree-l3"><a class="reference internal" href="esp_err.html">Error Code and Helper Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="esp_https_ota.html">ESP HTTPS OTA</a></li>
<li class="toctree-l3"><a class="reference internal" href="esp_event.html">Event Loop Library</a></li>
<li class="toctree-l3"><a class="reference internal" href="freertos.html">FreeRTOS Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="freertos_idf.html">FreeRTOS (IDF)</a></li>
<li class="toctree-l3"><a class="reference internal" href="freertos_additions.html">FreeRTOS (Supplemental Features)</a></li>
<li class="toctree-l3"><a class="reference internal" href="mem_alloc.html">Heap Memory Allocation</a></li>
<li class="toctree-l3"><a class="reference internal" href="mm.html">Memory Management for MMU Supported Memory</a></li>
<li class="toctree-l3"><a class="reference internal" href="heap_debug.html">Heap Memory Debugging</a></li>
<li class="toctree-l3"><a class="reference internal" href="esp_timer.html">ESP Timer (High Resolution Timer)</a></li>
<li class="toctree-l3"><a class="reference internal" href="internal-unstable.html">Internal and Unstable APIs</a></li>
<li class="toctree-l3"><a class="reference internal" href="ipc.html">Inter-Processor Call (IPC)</a></li>
<li class="toctree-l3"><a class="reference internal" href="intr_alloc.html">Interrupt Allocation</a></li>
<li class="toctree-l3"><a class="reference internal" href="log.html">Logging library</a></li>
<li class="toctree-l3"><a class="reference internal" href="misc_system_api.html">Miscellaneous System APIs</a></li>
<li class="toctree-l3"><a class="reference internal" href="ota.html">Over The Air Updates (OTA)</a></li>
<li class="toctree-l3"><a class="reference internal" href="perfmon.html">Performance Monitor</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Power Management</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="#configuration">Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#power-management-locks">Power Management Locks</a></li>
<li class="toctree-l4"><a class="reference internal" href="#esp32-power-management-algorithm">ESP32 Power Management Algorithm</a></li>
<li class="toctree-l4"><a class="reference internal" href="#dynamic-frequency-scaling-and-peripheral-drivers">Dynamic Frequency Scaling and Peripheral Drivers</a></li>
<li class="toctree-l4"><a class="reference internal" href="#api-reference">API Reference</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="pthread.html">POSIX Support (Including POSIX Threads Support)</a></li>
<li class="toctree-l3"><a class="reference internal" href="random.html">Random Number Generation</a></li>
<li class="toctree-l3"><a class="reference internal" href="sleep_modes.html">Sleep Modes</a></li>
<li class="toctree-l3"><a class="reference internal" href="soc_caps.html">SoC Capabilities</a></li>
<li class="toctree-l3"><a class="reference internal" href="system_time.html">System Time</a></li>
<li class="toctree-l3"><a class="reference internal" href="himem.html">Himem</a></li>
<li class="toctree-l3"><a class="reference internal" href="ulp.html">ULP Coprocessor Programming</a></li>
<li class="toctree-l3"><a class="reference internal" href="wdts.html">Watchdogs</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../hw-reference/index.html">Hardware Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api-guides/index.html">API Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../security/index.html">Security Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../migration-guides/index.html">Migration Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../libraries-and-frameworks/index.html">Libraries and Frameworks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contribute/index.html">Contributions Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../versions.html">ESP-IDF Versions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../resources.html">Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../COPYRIGHT.html">Copyrights and Licenses</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../about.html">About</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../languages.html">Switch Between Languages</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">ESP-IDF Programming Guide</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">API Reference</a></li>
          <li class="breadcrumb-item"><a href="index.html">System API</a></li>
      <li class="breadcrumb-item active">Power Management</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/espressif/esp-idf/blob/v5.4.2/docs/en/api-reference/system/power_management.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="power-management">
<h1>Power Management<a class="headerlink" href="#power-management" title="Permalink to this heading"></a></h1>
<p><a class="reference external" href="../../../../../zh_CN/v5.4.2/esp32/api-reference/system/power_management.html">[中文]</a></p>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this heading"></a></h2>
<p>Power management algorithm included in ESP-IDF can adjust the advanced peripheral bus (APB) frequency, CPU frequency, and put the chip into Light-sleep mode to run an application at smallest possible power consumption, given the requirements of application components.</p>
<p>Application components can express their requirements by creating and acquiring power management locks.</p>
<p>For example:</p>
<ul class="simple">
<li><p>Driver for a peripheral clocked from APB can request the APB frequency to be set to 80 MHz while the peripheral is used.</p></li>
<li><p>RTOS can request the CPU to run at the highest configured frequency while there are tasks ready to run.</p></li>
<li><p>A peripheral driver may need interrupts to be enabled, which means it has to request disabling Light-sleep.</p></li>
</ul>
<p>Since requesting higher APB or CPU frequencies or disabling Light-sleep causes higher current consumption, please keep the usage of power management locks by components to a minimum.</p>
</section>
<section id="configuration">
<h2>Configuration<a class="headerlink" href="#configuration" title="Permalink to this heading"></a></h2>
<p>Power management can be enabled at compile time, using the option <a class="reference internal" href="../kconfig.html#config-pm-enable"><span class="std std-ref">CONFIG_PM_ENABLE</span></a>.</p>
<p>Enabling power management features comes at the cost of increased interrupt latency. Extra latency depends on a number of factors, such as the CPU frequency, single/dual core mode, whether or not frequency switch needs to be done. Minimum extra latency is 0.2 us (when the CPU frequency is 240 MHz and frequency scaling is not enabled). Maximum extra latency is 40 us (when frequency scaling is enabled, and a switch from 40 MHz to 80 MHz is performed on interrupt entry).</p>
<p>Dynamic frequency scaling (DFS) and automatic Light-sleep can be enabled in an application by calling the function <a class="reference internal" href="#_CPPv416esp_pm_configurePKv" title="esp_pm_configure"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">esp_pm_configure()</span></code></a>. Its argument is a structure defining the frequency scaling settings, <a class="reference internal" href="#_CPPv415esp_pm_config_t" title="esp_pm_config_t"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">esp_pm_config_t</span></code></a>. In this structure, three fields need to be initialized:</p>
<p><blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">max_freq_mhz</span></code>: Maximum CPU frequency in MHz, i.e., the frequency used when the <code class="docutils literal notranslate"><span class="pre">ESP_PM_CPU_FREQ_MAX</span></code> lock is acquired. This field is usually set to the default CPU frequency.</p></li>
</ul>
</div></blockquote>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">min_freq_mhz</span></code>: Minimum CPU frequency in MHz, indicating the frequency used when not holding the power management lock. Note that 10 MHz is the minimum frequency required for generating a 1 MHz REF_TICK default clock.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">light_sleep_enable</span></code>: Whether the system should automatically enter Light-sleep when no locks are acquired (<code class="docutils literal notranslate"><span class="pre">true</span></code>/<code class="docutils literal notranslate"><span class="pre">false</span></code>).</p></li>
</ul>
</li>
</ul>
<p>Alternatively, if you enable the option <a class="reference internal" href="../kconfig.html#config-pm-dfs-init-auto"><span class="std std-ref">CONFIG_PM_DFS_INIT_AUTO</span></a> in menuconfig, the maximum CPU frequency will be determined by the <a class="reference internal" href="../kconfig.html#config-esp-default-cpu-freq-mhz"><span class="std std-ref">CONFIG_ESP_DEFAULT_CPU_FREQ_MHZ</span></a> setting, and the minimum CPU frequency will be locked to the XTAL frequency.</p>
</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Automatic Light-sleep is based on FreeRTOS Tickless Idle functionality. If automatic Light-sleep is requested while the option <a class="reference internal" href="../kconfig.html#config-freertos-use-tickless-idle"><span class="std std-ref">CONFIG_FREERTOS_USE_TICKLESS_IDLE</span></a> is not enabled in menuconfig, <a class="reference internal" href="#_CPPv416esp_pm_configurePKv" title="esp_pm_configure"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">esp_pm_configure()</span></code></a> will return the error <cite>ESP_ERR_NOT_SUPPORTED</cite>.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In Light-sleep, peripherals are clock gated, and interrupts (from GPIOs and internal peripherals) will not be generated. A wakeup source described in the <a class="reference internal" href="sleep_modes.html"><span class="doc">Sleep Modes</span></a> documentation can be used to trigger wakeup from the Light-sleep state.</p>
</div>
<p>For example, the EXT0 and EXT1 wakeup sources can be used to wake up the chip via a GPIO.</p>
</section>
<section id="power-management-locks">
<h2>Power Management Locks<a class="headerlink" href="#power-management-locks" title="Permalink to this heading"></a></h2>
<p>Applications have the ability to acquire/release locks in order to control the power management algorithm. When an application acquires a lock, the power management algorithm operation is restricted in a way described below. When the lock is released, such restrictions are removed.</p>
<p>Power management locks have acquire/release counters. If the lock has been acquired a number of times, it needs to be released the same number of times to remove associated restrictions.</p>
<p>ESP32 supports three types of locks described in the table below.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 29.4%" />
<col style="width: 70.6%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Lock</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ESP_PM_CPU_FREQ_MAX</span></code></p></td>
<td><p>Requests CPU frequency to be at the maximum value set with <a class="reference internal" href="#_CPPv416esp_pm_configurePKv" title="esp_pm_configure"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">esp_pm_configure()</span></code></a>. For ESP32, this value can be set to 80 MHz, 160 MHz, or 240 MHz.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ESP_PM_APB_FREQ_MAX</span></code></p></td>
<td><p>Requests the APB frequency to be at the maximum supported value. For ESP32, this is 80 MHz.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ESP_PM_NO_LIGHT_SLEEP</span></code></p></td>
<td><p>Disables automatic switching to Light-sleep.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="esp32-power-management-algorithm">
<h2>ESP32 Power Management Algorithm<a class="headerlink" href="#esp32-power-management-algorithm" title="Permalink to this heading"></a></h2>
<p>The table below shows how CPU and APB frequencies will be switched if dynamic frequency scaling is enabled. You can specify the maximum CPU frequency with either <a class="reference internal" href="#_CPPv416esp_pm_configurePKv" title="esp_pm_configure"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">esp_pm_configure()</span></code></a> or <a class="reference internal" href="../kconfig.html#config-esp-default-cpu-freq-mhz"><span class="std std-ref">CONFIG_ESP_DEFAULT_CPU_FREQ_MHZ</span></a>.</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>Max CPU Frequency Set</p></td>
<td><p>Lock Acquisition</p></td>
<td><p>CPU and APB Frequencies</p></td>
</tr>
<tr class="row-even"><td rowspan="2"><p> 240</p></td>
<td><p>Any of <code class="docutils literal notranslate"><span class="pre">ESP_PM_CPU_FREQ_MAX</span></code> or <code class="docutils literal notranslate"><span class="pre">ESP_PM_APB_FREQ_MAX</span></code> acquired</p></td>
<td><ul class="simple">
<li><p>CPU: 240 MHz</p></li>
<li><p>APB: 80 MHz</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>None</p></td>
<td><p>Min values for both frequencies set with <a class="reference internal" href="#_CPPv416esp_pm_configurePKv" title="esp_pm_configure"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">esp_pm_configure()</span></code></a></p></td>
</tr>
<tr class="row-even"><td rowspan="3"><p> 160</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ESP_PM_CPU_FREQ_MAX</span></code> acquired</p></td>
<td><ul class="simple">
<li><p>CPU: 160 MHz</p></li>
<li><p>APB: 80 MHz</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ESP_PM_APB_FREQ_MAX</span></code> acquired, <code class="docutils literal notranslate"><span class="pre">ESP_PM_CPU_FREQ_MAX</span></code> not acquired</p></td>
<td><ul class="simple">
<li><p>CPU: 80 MHz</p></li>
<li><p>APB: 80 MHz</p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td><p>None</p></td>
<td><p>Min values for both frequencies set with <a class="reference internal" href="#_CPPv416esp_pm_configurePKv" title="esp_pm_configure"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">esp_pm_configure()</span></code></a></p></td>
</tr>
<tr class="row-odd"><td rowspan="2"><p> 80</p></td>
<td><p>Any of <code class="docutils literal notranslate"><span class="pre">ESP_PM_CPU_FREQ_MAX</span></code> or <code class="docutils literal notranslate"><span class="pre">ESP_PM_APB_FREQ_MAX</span></code> acquired</p></td>
<td><ul class="simple">
<li><p>CPU: 80 MHz</p></li>
<li><p>APB: 80 MHz</p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td><p>None</p></td>
<td><p>Min values for both frequencies set with <a class="reference internal" href="#_CPPv416esp_pm_configurePKv" title="esp_pm_configure"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">esp_pm_configure()</span></code></a></p></td>
</tr>
</tbody>
</table>
<p>If none of the locks are acquired, and Light-sleep is enabled in a call to <a class="reference internal" href="#_CPPv416esp_pm_configurePKv" title="esp_pm_configure"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">esp_pm_configure()</span></code></a>, the system will go into Light-sleep mode. The duration of Light-sleep will be determined by:</p>
<ul class="simple">
<li><p>FreeRTOS tasks blocked with finite timeouts</p></li>
<li><p>Timers registered with <a class="reference internal" href="esp_timer.html"><span class="doc">High resolution timer</span></a> APIs</p></li>
</ul>
<p>Light-sleep duration is chosen to wake up the chip before the nearest event (task being unblocked, or timer elapses).</p>
<p>To skip unnecessary wake-up, you can consider initializing an <code class="docutils literal notranslate"><span class="pre">esp_timer</span></code> with the <code class="docutils literal notranslate"><span class="pre">skip_unhandled_events</span></code> option as <code class="docutils literal notranslate"><span class="pre">true</span></code>. Timers with this flag will not wake up the system and it helps to reduce consumption.</p>
</section>
<section id="dynamic-frequency-scaling-and-peripheral-drivers">
<h2>Dynamic Frequency Scaling and Peripheral Drivers<a class="headerlink" href="#dynamic-frequency-scaling-and-peripheral-drivers" title="Permalink to this heading"></a></h2>
<p>When DFS is enabled, the APB frequency can be changed multiple times within a single RTOS tick. The APB frequency change does not affect the operation of some peripherals, while other peripherals may have issues. For example, Timer Group peripheral timers keeps counting, however, the speed at which they count changes proportionally to the APB frequency.</p>
<p>Peripheral clock sources such as <code class="docutils literal notranslate"><span class="pre">REF_TICK</span></code>, <code class="docutils literal notranslate"><span class="pre">XTAL</span></code>, <code class="docutils literal notranslate"><span class="pre">RC_FAST</span></code> (i.e., <code class="docutils literal notranslate"><span class="pre">RTC_8M</span></code>), their frequencies will not be inflenced by APB frequency. And therefore, to ensure the peripheral behaves consistently during DFS, it is recommended to select one of these clocks as the peripheral clock source. For more specific guidelines, please refer to the &quot;Power Management&quot; section of each peripheral's &quot;API Reference &gt; Peripherals API&quot; page.</p>
<p>Currently, the following peripheral drivers are aware of DFS and use the <code class="docutils literal notranslate"><span class="pre">ESP_PM_APB_FREQ_MAX</span></code> lock for the duration of the transaction:</p>
<ul class="simple">
<li><p>SPI master</p></li>
<li><p>I2C</p></li>
<li><p>I2S (If the APLL clock is used, then it will use the <code class="docutils literal notranslate"><span class="pre">ESP_PM_NO_LIGHT_SLEEP</span></code> lock)</p></li>
<li><p>SDMMC</p></li>
</ul>
<p>The following drivers hold the <code class="docutils literal notranslate"><span class="pre">ESP_PM_APB_FREQ_MAX</span></code> lock while the driver is enabled:</p>
<p><ul class="simple">
<li><p><strong>SPI slave</strong>: between calls to <a class="reference internal" href="../peripherals/spi_slave.html#_CPPv420spi_slave_initialize17spi_host_device_tPK16spi_bus_config_tPK28spi_slave_interface_config_t14spi_dma_chan_t" title="spi_slave_initialize"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">spi_slave_initialize()</span></code></a> and <a class="reference internal" href="../peripherals/spi_slave.html#_CPPv414spi_slave_free17spi_host_device_t" title="spi_slave_free"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">spi_slave_free()</span></code></a>.</p></li>
<li><p><strong>GPTimer</strong>: between calls to <a class="reference internal" href="../peripherals/gptimer.html#_CPPv414gptimer_enable16gptimer_handle_t" title="gptimer_enable"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">gptimer_enable()</span></code></a> and <a class="reference internal" href="../peripherals/gptimer.html#_CPPv415gptimer_disable16gptimer_handle_t" title="gptimer_disable"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">gptimer_disable()</span></code></a>.</p></li>
<li><p><strong>Ethernet</strong>: between calls to <a class="reference internal" href="../network/esp_eth.html#_CPPv422esp_eth_driver_installPK16esp_eth_config_tP16esp_eth_handle_t" title="esp_eth_driver_install"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">esp_eth_driver_install()</span></code></a> and <a class="reference internal" href="../network/esp_eth.html#_CPPv424esp_eth_driver_uninstall16esp_eth_handle_t" title="esp_eth_driver_uninstall"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">esp_eth_driver_uninstall()</span></code></a>.</p></li>
<li><p><strong>WiFi</strong>: between calls to <a class="reference internal" href="../network/esp_wifi.html#_CPPv414esp_wifi_startv" title="esp_wifi_start"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">esp_wifi_start()</span></code></a> and <a class="reference internal" href="../network/esp_wifi.html#_CPPv413esp_wifi_stopv" title="esp_wifi_stop"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">esp_wifi_stop()</span></code></a>. If modem sleep is enabled, the lock will be released for the periods of time when radio is disabled.</p></li>
<li><p><strong>TWAI</strong>: between calls to <a class="reference internal" href="../peripherals/twai.html#_CPPv419twai_driver_installPK21twai_general_config_tPK20twai_timing_config_tPK20twai_filter_config_t" title="twai_driver_install"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">twai_driver_install()</span></code></a> and <a class="reference internal" href="../peripherals/twai.html#_CPPv421twai_driver_uninstallv" title="twai_driver_uninstall"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">twai_driver_uninstall()</span></code></a> (only when the clock source is set to <a class="reference internal" href="../peripherals/clk_tree.html#_CPPv4N25soc_periph_twai_clk_src_t16TWAI_CLK_SRC_APBE" title="TWAI_CLK_SRC_APB"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">TWAI_CLK_SRC_APB</span></code></a>).</p></li>
<li><p><strong>Bluetooth</strong>: between calls to <a class="reference internal" href="../bluetooth/controller_vhci.html#_CPPv424esp_bt_controller_enable13esp_bt_mode_t" title="esp_bt_controller_enable"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">esp_bt_controller_enable()</span></code></a> and <a class="reference internal" href="../bluetooth/controller_vhci.html#_CPPv425esp_bt_controller_disablev" title="esp_bt_controller_disable"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">esp_bt_controller_disable()</span></code></a>. If Bluetooth Modem-sleep is enabled, the <code class="docutils literal notranslate"><span class="pre">ESP_PM_APB_FREQ_MAX</span></code> lock will be released for the periods of time when radio is disabled. However the <code class="docutils literal notranslate"><span class="pre">ESP_PM_NO_LIGHT_SLEEP</span></code> lock will still be held, unless <a class="reference internal" href="../kconfig.html#config-btdm-ctrl-low-power-clock"><span class="std std-ref">CONFIG_BTDM_CTRL_LOW_POWER_CLOCK</span></a> option is set to &quot;External 32kHz crystal&quot;.</p></li>
<li><p><strong>PCNT</strong>: between calls to <a class="reference internal" href="../peripherals/pcnt.html#_CPPv416pcnt_unit_enable18pcnt_unit_handle_t" title="pcnt_unit_enable"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">pcnt_unit_enable()</span></code></a> and <a class="reference internal" href="../peripherals/pcnt.html#_CPPv417pcnt_unit_disable18pcnt_unit_handle_t" title="pcnt_unit_disable"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">pcnt_unit_disable()</span></code></a>.</p></li>
<li><p><strong>Sigma-delta</strong>: between calls to <a class="reference internal" href="../peripherals/sdm.html#_CPPv418sdm_channel_enable20sdm_channel_handle_t" title="sdm_channel_enable"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">sdm_channel_enable()</span></code></a> and <a class="reference internal" href="../peripherals/sdm.html#_CPPv419sdm_channel_disable20sdm_channel_handle_t" title="sdm_channel_disable"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">sdm_channel_disable()</span></code></a>.</p></li>
<li><p><strong>MCPWM</strong>: between calls to <a class="reference internal" href="../peripherals/mcpwm.html#_CPPv418mcpwm_timer_enable20mcpwm_timer_handle_t" title="mcpwm_timer_enable"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_timer_enable()</span></code></a> and <a class="reference internal" href="../peripherals/mcpwm.html#_CPPv419mcpwm_timer_disable20mcpwm_timer_handle_t" title="mcpwm_timer_disable"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_timer_disable()</span></code></a>, as well as <a class="reference internal" href="../peripherals/mcpwm.html#_CPPv426mcpwm_capture_timer_enable24mcpwm_cap_timer_handle_t" title="mcpwm_capture_timer_enable"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_capture_timer_enable()</span></code></a> and <a class="reference internal" href="../peripherals/mcpwm.html#_CPPv427mcpwm_capture_timer_disable24mcpwm_cap_timer_handle_t" title="mcpwm_capture_timer_disable"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">mcpwm_capture_timer_disable()</span></code></a>.</p></li>
</ul>
</p>
<p>The following peripheral drivers are not aware of DFS yet. Applications need to acquire/release locks themselves, when necessary:</p>
<p><ul class="simple">
<li><p>The legacy PCNT driver</p></li>
<li><p>The legacy Sigma-delta driver</p></li>
<li><p>The legacy timer group driver</p></li>
<li><p>The legacy MCPWM driver</p></li>
</ul>
</p>
</section>
<section id="api-reference">
<h2>API Reference<a class="headerlink" href="#api-reference" title="Permalink to this heading"></a></h2>
<section id="header-file">
<h3>Header File<a class="headerlink" href="#header-file" title="Permalink to this heading"></a></h3>
<ul>
<li><p><a class="reference external" href="https://github.com/espressif/esp-idf/blob/v5.4.2/components/esp_pm/include/esp_pm.h">components/esp_pm/include/esp_pm.h</a></p></li>
<li><p>This header file can be included with:</p>
<blockquote>
<div><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;esp_pm.h&quot;</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>This header file is a part of the API provided by the <code class="docutils literal notranslate"><span class="pre">esp_pm</span></code> component. To declare that your component depends on <code class="docutils literal notranslate"><span class="pre">esp_pm</span></code>, add the following to your CMakeLists.txt:</p>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>REQUIRES esp_pm
</pre></div>
</div>
<p>or</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>PRIV_REQUIRES esp_pm
</pre></div>
</div>
</div></blockquote>
</li>
</ul>
</section>
<section id="functions">
<h3>Functions<a class="headerlink" href="#functions" title="Permalink to this heading"></a></h3>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv416esp_pm_configurePKv">
<span id="_CPPv316esp_pm_configurePKv"></span><span id="_CPPv216esp_pm_configurePKv"></span><span id="esp_pm_configure__voidCP"></span><span class="target" id="esp__pm_8h_1a44155b70884b6475fc0c43db7f140095"></span><a class="reference internal" href="esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_pm_configure</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">config</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv416esp_pm_configurePKv" title="Permalink to this definition"></a><br /></dt>
<dd><p>Set implementation-specific power management configuration. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>config</strong> -- pointer to implementation-specific configuration structure (e.g. esp_pm_config_esp32) </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK on success</p></li>
<li><p>ESP_ERR_INVALID_ARG if the configuration values are not correct</p></li>
<li><p>ESP_ERR_NOT_SUPPORTED if certain combination of values is not supported, or if CONFIG_PM_ENABLE is not enabled in sdkconfig </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv424esp_pm_get_configurationPv">
<span id="_CPPv324esp_pm_get_configurationPv"></span><span id="_CPPv224esp_pm_get_configurationPv"></span><span id="esp_pm_get_configuration__voidP"></span><span class="target" id="esp__pm_8h_1ac1899204aba0ea874b7ad86ddd705333"></span><a class="reference internal" href="esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_pm_get_configuration</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">config</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv424esp_pm_get_configurationPv" title="Permalink to this definition"></a><br /></dt>
<dd><p>Get implementation-specific power management configuration. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>config</strong> -- pointer to implementation-specific configuration structure (e.g. esp_pm_config_esp32) </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK on success</p></li>
<li><p>ESP_ERR_INVALID_ARG if the pointer is null </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv418esp_pm_lock_create18esp_pm_lock_type_tiPKcP20esp_pm_lock_handle_t">
<span id="_CPPv318esp_pm_lock_create18esp_pm_lock_type_tiPKcP20esp_pm_lock_handle_t"></span><span id="_CPPv218esp_pm_lock_create18esp_pm_lock_type_tiPKcP20esp_pm_lock_handle_t"></span><span id="esp_pm_lock_create__esp_pm_lock_type_t.i.cCP.esp_pm_lock_handle_tP"></span><span class="target" id="esp__pm_8h_1ae42237e0138a098f7c7159c28ee3cdd5"></span><a class="reference internal" href="esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_pm_lock_create</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv418esp_pm_lock_type_t" title="esp_pm_lock_type_t"><span class="n"><span class="pre">esp_pm_lock_type_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">lock_type</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">arg</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">name</span></span>, <a class="reference internal" href="#_CPPv420esp_pm_lock_handle_t" title="esp_pm_lock_handle_t"><span class="n"><span class="pre">esp_pm_lock_handle_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">out_handle</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv418esp_pm_lock_create18esp_pm_lock_type_tiPKcP20esp_pm_lock_handle_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Initialize a lock handle for certain power management parameter. </p>
<p>When lock is created, initially it is not taken. Call esp_pm_lock_acquire to take the lock.</p>
<p>This function must not be called from an ISR.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the lock_type argument is not valid, it will cause an abort.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lock_type</strong> -- Power management constraint which the lock should control </p></li>
<li><p><strong>arg</strong> -- argument, value depends on lock_type, see esp_pm_lock_type_t </p></li>
<li><p><strong>name</strong> -- arbitrary string identifying the lock (e.g. &quot;wifi&quot; or &quot;spi&quot;). Used by the esp_pm_dump_locks function to list existing locks. May be set to NULL. If not set to NULL, must point to a string which is valid for the lifetime of the lock. </p></li>
<li><p><strong>out_handle</strong> -- <strong>[out]</strong> handle returned from this function. Use this handle when calling esp_pm_lock_delete, esp_pm_lock_acquire, esp_pm_lock_release. Must not be NULL.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK on success</p></li>
<li><p>ESP_ERR_NO_MEM if the lock structure can not be allocated</p></li>
<li><p>ESP_ERR_INVALID_ARG if out_handle is NULL</p></li>
<li><p>ESP_ERR_NOT_SUPPORTED if CONFIG_PM_ENABLE is not enabled in sdkconfig </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv419esp_pm_lock_acquire20esp_pm_lock_handle_t">
<span id="_CPPv319esp_pm_lock_acquire20esp_pm_lock_handle_t"></span><span id="_CPPv219esp_pm_lock_acquire20esp_pm_lock_handle_t"></span><span id="esp_pm_lock_acquire__esp_pm_lock_handle_t"></span><span class="target" id="esp__pm_8h_1af232756882d8732a73b88f40e0ab4572"></span><a class="reference internal" href="esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_pm_lock_acquire</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv420esp_pm_lock_handle_t" title="esp_pm_lock_handle_t"><span class="n"><span class="pre">esp_pm_lock_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">handle</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv419esp_pm_lock_acquire20esp_pm_lock_handle_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Take a power management lock. </p>
<p>Once the lock is taken, power management algorithm will not switch to the mode specified in a call to esp_pm_lock_create, or any of the lower power modes (higher numeric values of 'mode').</p>
<p>The lock is recursive, in the sense that if esp_pm_lock_acquire is called a number of times, esp_pm_lock_release has to be called the same number of times in order to release the lock.</p>
<p>This function may be called from an ISR.</p>
<p>This function is not thread-safe w.r.t. calls to other esp_pm_lock_* functions for the same handle.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>handle</strong> -- handle obtained from esp_pm_lock_create function </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK on success</p></li>
<li><p>ESP_ERR_INVALID_ARG if the handle is invalid</p></li>
<li><p>ESP_ERR_NOT_SUPPORTED if CONFIG_PM_ENABLE is not enabled in sdkconfig </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv419esp_pm_lock_release20esp_pm_lock_handle_t">
<span id="_CPPv319esp_pm_lock_release20esp_pm_lock_handle_t"></span><span id="_CPPv219esp_pm_lock_release20esp_pm_lock_handle_t"></span><span id="esp_pm_lock_release__esp_pm_lock_handle_t"></span><span class="target" id="esp__pm_8h_1a822861449d5fda28c2dd47d4efb0902f"></span><a class="reference internal" href="esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_pm_lock_release</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv420esp_pm_lock_handle_t" title="esp_pm_lock_handle_t"><span class="n"><span class="pre">esp_pm_lock_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">handle</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv419esp_pm_lock_release20esp_pm_lock_handle_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Release the lock taken using esp_pm_lock_acquire. </p>
<p>Call to this functions removes power management restrictions placed when taking the lock.</p>
<p>Locks are recursive, so if esp_pm_lock_acquire is called a number of times, esp_pm_lock_release has to be called the same number of times in order to actually release the lock.</p>
<p>This function may be called from an ISR.</p>
<p>This function is not thread-safe w.r.t. calls to other esp_pm_lock_* functions for the same handle.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>handle</strong> -- handle obtained from esp_pm_lock_create function </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK on success</p></li>
<li><p>ESP_ERR_INVALID_ARG if the handle is invalid</p></li>
<li><p>ESP_ERR_INVALID_STATE if lock is not acquired</p></li>
<li><p>ESP_ERR_NOT_SUPPORTED if CONFIG_PM_ENABLE is not enabled in sdkconfig </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv418esp_pm_lock_delete20esp_pm_lock_handle_t">
<span id="_CPPv318esp_pm_lock_delete20esp_pm_lock_handle_t"></span><span id="_CPPv218esp_pm_lock_delete20esp_pm_lock_handle_t"></span><span id="esp_pm_lock_delete__esp_pm_lock_handle_t"></span><span class="target" id="esp__pm_8h_1a4c24f2a8ee647d6ec51faf38a83b62d0"></span><a class="reference internal" href="esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_pm_lock_delete</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv420esp_pm_lock_handle_t" title="esp_pm_lock_handle_t"><span class="n"><span class="pre">esp_pm_lock_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">handle</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv418esp_pm_lock_delete20esp_pm_lock_handle_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Delete a lock created using esp_pm_lock. </p>
<p>The lock must be released before calling this function.</p>
<p>This function must not be called from an ISR.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>handle</strong> -- handle obtained from esp_pm_lock_create function </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK on success</p></li>
<li><p>ESP_ERR_INVALID_ARG if the handle argument is NULL</p></li>
<li><p>ESP_ERR_INVALID_STATE if the lock is still acquired</p></li>
<li><p>ESP_ERR_NOT_SUPPORTED if CONFIG_PM_ENABLE is not enabled in sdkconfig </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv417esp_pm_dump_locksP4FILE">
<span id="_CPPv317esp_pm_dump_locksP4FILE"></span><span id="_CPPv217esp_pm_dump_locksP4FILE"></span><span id="esp_pm_dump_locks__FILEP"></span><span class="target" id="esp__pm_8h_1a833eb396e9e828a769ed891d058d5913"></span><a class="reference internal" href="esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_pm_dump_locks</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">FILE</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">stream</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv417esp_pm_dump_locksP4FILE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Dump the list of all locks to stderr</p>
<p>This function dumps debugging information about locks created using esp_pm_lock_create to an output stream.</p>
<p>This function must not be called from an ISR. If esp_pm_lock_acquire/release are called while this function is running, inconsistent results may be reported.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>stream</strong> -- stream to print information to; use stdout or stderr to print to the console; use fmemopen/open_memstream to print to a string buffer. </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK on success</p></li>
<li><p>ESP_ERR_NOT_SUPPORTED if CONFIG_PM_ENABLE is not enabled in sdkconfig </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="structures">
<h3>Structures<a class="headerlink" href="#structures" title="Permalink to this heading"></a></h3>
<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv415esp_pm_config_t">
<span id="_CPPv315esp_pm_config_t"></span><span id="_CPPv215esp_pm_config_t"></span><span id="esp_pm_config_t"></span><span class="target" id="structesp__pm__config__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_pm_config_t</span></span></span><a class="headerlink" href="#_CPPv415esp_pm_config_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Power management config. </p>
<p>Pass a pointer to this structure as an argument to esp_pm_configure function. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N15esp_pm_config_t12max_freq_mhzE">
<span id="_CPPv3N15esp_pm_config_t12max_freq_mhzE"></span><span id="_CPPv2N15esp_pm_config_t12max_freq_mhzE"></span><span id="esp_pm_config_t::max_freq_mhz__i"></span><span class="target" id="structesp__pm__config__t_1aa000b9fca67b942dbf808b1b44e8b21e"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">max_freq_mhz</span></span></span><a class="headerlink" href="#_CPPv4N15esp_pm_config_t12max_freq_mhzE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Maximum CPU frequency, in MHz </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N15esp_pm_config_t12min_freq_mhzE">
<span id="_CPPv3N15esp_pm_config_t12min_freq_mhzE"></span><span id="_CPPv2N15esp_pm_config_t12min_freq_mhzE"></span><span id="esp_pm_config_t::min_freq_mhz__i"></span><span class="target" id="structesp__pm__config__t_1a0de47b58a05f5e99fd06fef998256c9b"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">min_freq_mhz</span></span></span><a class="headerlink" href="#_CPPv4N15esp_pm_config_t12min_freq_mhzE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Minimum CPU frequency to use when no locks are taken, in MHz </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N15esp_pm_config_t18light_sleep_enableE">
<span id="_CPPv3N15esp_pm_config_t18light_sleep_enableE"></span><span id="_CPPv2N15esp_pm_config_t18light_sleep_enableE"></span><span id="esp_pm_config_t::light_sleep_enable__b"></span><span class="target" id="structesp__pm__config__t_1a0526bf898f56daafd9a5fe7453974860"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">light_sleep_enable</span></span></span><a class="headerlink" href="#_CPPv4N15esp_pm_config_t18light_sleep_enableE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Enter light sleep when no locks are taken </p>
</dd></dl>

</div>
</dd></dl>

</section>
<section id="type-definitions">
<h3>Type Definitions<a class="headerlink" href="#type-definitions" title="Permalink to this heading"></a></h3>
<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv421esp_pm_config_esp32_t">
<span id="_CPPv321esp_pm_config_esp32_t"></span><span id="_CPPv221esp_pm_config_esp32_t"></span><span id="esp_pm_config_esp32_t"></span><span class="target" id="esp__pm_8h_1aec8659eec7bf6b2609b2254b47fe50f9"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv415esp_pm_config_t" title="esp_pm_config_t"><span class="n"><span class="pre">esp_pm_config_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_pm_config_esp32_t</span></span></span><a class="headerlink" href="#_CPPv421esp_pm_config_esp32_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>backward compatibility newer chips no longer require this typedef </p>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv423esp_pm_config_esp32s2_t">
<span id="_CPPv323esp_pm_config_esp32s2_t"></span><span id="_CPPv223esp_pm_config_esp32s2_t"></span><span id="esp_pm_config_esp32s2_t"></span><span class="target" id="esp__pm_8h_1a626112ef07dc8721de83526b6fe733fb"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv415esp_pm_config_t" title="esp_pm_config_t"><span class="n"><span class="pre">esp_pm_config_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_pm_config_esp32s2_t</span></span></span><a class="headerlink" href="#_CPPv423esp_pm_config_esp32s2_t" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv423esp_pm_config_esp32s3_t">
<span id="_CPPv323esp_pm_config_esp32s3_t"></span><span id="_CPPv223esp_pm_config_esp32s3_t"></span><span id="esp_pm_config_esp32s3_t"></span><span class="target" id="esp__pm_8h_1a207986fd04ee6ae8cd09859cf7341454"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv415esp_pm_config_t" title="esp_pm_config_t"><span class="n"><span class="pre">esp_pm_config_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_pm_config_esp32s3_t</span></span></span><a class="headerlink" href="#_CPPv423esp_pm_config_esp32s3_t" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv423esp_pm_config_esp32c3_t">
<span id="_CPPv323esp_pm_config_esp32c3_t"></span><span id="_CPPv223esp_pm_config_esp32c3_t"></span><span id="esp_pm_config_esp32c3_t"></span><span class="target" id="esp__pm_8h_1a8a16b097698b2878fa90534246eb0534"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv415esp_pm_config_t" title="esp_pm_config_t"><span class="n"><span class="pre">esp_pm_config_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_pm_config_esp32c3_t</span></span></span><a class="headerlink" href="#_CPPv423esp_pm_config_esp32c3_t" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv423esp_pm_config_esp32c2_t">
<span id="_CPPv323esp_pm_config_esp32c2_t"></span><span id="_CPPv223esp_pm_config_esp32c2_t"></span><span id="esp_pm_config_esp32c2_t"></span><span class="target" id="esp__pm_8h_1ad8d763786a4a459b4cc1f261cb0e2d8b"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv415esp_pm_config_t" title="esp_pm_config_t"><span class="n"><span class="pre">esp_pm_config_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_pm_config_esp32c2_t</span></span></span><a class="headerlink" href="#_CPPv423esp_pm_config_esp32c2_t" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv423esp_pm_config_esp32c6_t">
<span id="_CPPv323esp_pm_config_esp32c6_t"></span><span id="_CPPv223esp_pm_config_esp32c6_t"></span><span id="esp_pm_config_esp32c6_t"></span><span class="target" id="esp__pm_8h_1a807820d694c22f298629a4aff4080b35"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv415esp_pm_config_t" title="esp_pm_config_t"><span class="n"><span class="pre">esp_pm_config_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_pm_config_esp32c6_t</span></span></span><a class="headerlink" href="#_CPPv423esp_pm_config_esp32c6_t" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv420esp_pm_lock_handle_t">
<span id="_CPPv320esp_pm_lock_handle_t"></span><span id="_CPPv220esp_pm_lock_handle_t"></span><span id="esp_pm_lock_handle_t"></span><span class="target" id="esp__pm_8h_1a21da52d75f3be5398817602b196b6a63"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">esp_pm_lock</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">esp_pm_lock_handle_t</span></span></span><a class="headerlink" href="#_CPPv420esp_pm_lock_handle_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Opaque handle to the power management lock. </p>
</dd></dl>

</section>
<section id="enumerations">
<h3>Enumerations<a class="headerlink" href="#enumerations" title="Permalink to this heading"></a></h3>
<dl class="cpp enum">
<dt class="sig sig-object cpp" id="_CPPv418esp_pm_lock_type_t">
<span id="_CPPv318esp_pm_lock_type_t"></span><span id="_CPPv218esp_pm_lock_type_t"></span><span class="target" id="esp__pm_8h_1afbfc19b34963b4af9bd297511e395a65"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_pm_lock_type_t</span></span></span><a class="headerlink" href="#_CPPv418esp_pm_lock_type_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Power management constraints. </p>
<p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N18esp_pm_lock_type_t19ESP_PM_CPU_FREQ_MAXE">
<span id="_CPPv3N18esp_pm_lock_type_t19ESP_PM_CPU_FREQ_MAXE"></span><span id="_CPPv2N18esp_pm_lock_type_t19ESP_PM_CPU_FREQ_MAXE"></span><span class="target" id="esp__pm_8h_1afbfc19b34963b4af9bd297511e395a65a11bc9d01585a00c073bdf74905a398aa"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ESP_PM_CPU_FREQ_MAX</span></span></span><a class="headerlink" href="#_CPPv4N18esp_pm_lock_type_t19ESP_PM_CPU_FREQ_MAXE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Require CPU frequency to be at the maximum value set via esp_pm_configure. Argument is unused and should be set to 0. </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N18esp_pm_lock_type_t19ESP_PM_APB_FREQ_MAXE">
<span id="_CPPv3N18esp_pm_lock_type_t19ESP_PM_APB_FREQ_MAXE"></span><span id="_CPPv2N18esp_pm_lock_type_t19ESP_PM_APB_FREQ_MAXE"></span><span class="target" id="esp__pm_8h_1afbfc19b34963b4af9bd297511e395a65a589cd59500c1e2360fbe174c9c183fde"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ESP_PM_APB_FREQ_MAX</span></span></span><a class="headerlink" href="#_CPPv4N18esp_pm_lock_type_t19ESP_PM_APB_FREQ_MAXE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Require APB frequency to be at the maximum value supported by the chip. Argument is unused and should be set to 0. </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N18esp_pm_lock_type_t21ESP_PM_NO_LIGHT_SLEEPE">
<span id="_CPPv3N18esp_pm_lock_type_t21ESP_PM_NO_LIGHT_SLEEPE"></span><span id="_CPPv2N18esp_pm_lock_type_t21ESP_PM_NO_LIGHT_SLEEPE"></span><span class="target" id="esp__pm_8h_1afbfc19b34963b4af9bd297511e395a65a1f0a8265811148c862a987eb32330ac4"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ESP_PM_NO_LIGHT_SLEEP</span></span></span><a class="headerlink" href="#_CPPv4N18esp_pm_lock_type_t21ESP_PM_NO_LIGHT_SLEEPE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Prevent the system from going into light sleep. Argument is unused and should be set to 0. </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N18esp_pm_lock_type_t15ESP_PM_LOCK_MAXE">
<span id="_CPPv3N18esp_pm_lock_type_t15ESP_PM_LOCK_MAXE"></span><span id="_CPPv2N18esp_pm_lock_type_t15ESP_PM_LOCK_MAXE"></span><span class="target" id="esp__pm_8h_1afbfc19b34963b4af9bd297511e395a65ab86e8ed0274a64ee24cf67e2cfdbcca7"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ESP_PM_LOCK_MAX</span></span></span><a class="headerlink" href="#_CPPv4N18esp_pm_lock_type_t15ESP_PM_LOCK_MAXE" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

</dd></dl>

</section>
</section>
</section>

    <script type="text/javascript">
        function init() {
            WaveDrom.ProcessAll();
        }
        window.onload = init;
    </script>

           </div>
             <div class="articleComments">

<style>
    .expand-feedback-content {
        display: none;
    }
    .click-like-or-dislike {
        background-color: #d3d3d3;
        pointer-events: none;
    }
</style>

<script>
    function submitFeedbackForm(user_likes_document) {
        // Send to GA4 the user reaction
        gtag('event', 'user_reaction', {
            'user_likes_document': user_likes_document
        });

        if (user_likes_document === 1) {
            document.querySelector('.like-btn').classList.add('click-like-or-dislike');
            document.getElementById("expandContentLike").style.display = 'block';
        } else {
            document.querySelector('.dislike-btn').classList.add('click-like-or-dislike');
            document.getElementById("expandContent").style.display = 'block';
        }

        document.querySelector('.like-btn').style.pointerEvents = 'none';
        document.querySelector('.dislike-btn').style.pointerEvents = 'none';
    }
</script>

<hr>

<p style="text-align:center"><strong>Was this page helpful?</strong></p>
<p style="text-align:center">
    <button class="like-btn" onclick="submitFeedbackForm(1)">
        <svg aria-hidden="true" focusable="false" class="color-fg-muted" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible">
            <path d="M8.834.066c.763.087 1.5.295 2.01.884.505.581.656 1.378.656 2.3 0 .467-.087 1.119-.157 1.637L11.328 5h1.422c.603 0 1.174.085 1.668.333.508.254.911.679 1.137 1.2.453.998.438 2.447.188 4.316l-.04.306c-.105.79-.195 1.473-.313 2.033-.131.63-.315 1.209-.668 1.672C13.97 15.847 12.706 16 11 16c-1.848 0-3.234-.333-4.388-.653-.165-.045-.323-.09-.475-.133-.658-.186-1.2-.34-1.725-.415A1.75 1.75 0 0 1 2.75 16h-1A1.75 1.75 0 0 1 0 14.25v-7.5C0 5.784.784 5 1.75 5h1a1.75 1.75 0 0 1 1.514.872c.258-.105.59-.268.918-.508C5.853 4.874 6.5 4.079 6.5 2.75v-.5c0-1.202.994-2.337 2.334-2.184ZM4.5 13.3c.705.088 1.39.284 2.072.478l.441.125c1.096.305 2.334.598 3.987.598 1.794 0 2.28-.223 2.528-.549.147-.193.276-.505.394-1.07.105-.502.188-1.124.295-1.93l.04-.3c.25-1.882.189-2.933-.068-3.497a.921.921 0 0 0-.442-.48c-.208-.104-.52-.174-.997-.174H11c-.686 0-1.295-.577-1.206-1.336.023-.192.05-.39.076-.586.065-.488.13-.97.13-1.328 0-.809-.144-1.15-.288-1.316-.137-.158-.402-.304-1.048-.378C8.357 1.521 8 1.793 8 2.25v.5c0 1.922-.978 3.128-1.933 3.825a5.831 5.831 0 0 1-1.567.81ZM2.75 6.5h-1a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h1a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
        </svg>
    </button>
    <button class="dislike-btn" onclick="submitFeedbackForm(0)">
        <svg aria-hidden="true" focusable="false" class="" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible">
            <path d="M7.083 15.986c-.763-.087-1.499-.295-2.011-.884-.504-.581-.655-1.378-.655-2.299 0-.468.087-1.12.157-1.638l.015-.112H3.167c-.603 0-1.174-.086-1.669-.334a2.415 2.415 0 0 1-1.136-1.2c-.454-.998-.438-2.447-.188-4.316l.04-.306C.32 4.108.41 3.424.526 2.864c.132-.63.316-1.209.669-1.672C1.947.205 3.211.053 4.917.053c1.848 0 3.234.332 4.388.652l.474.133c.658.187 1.201.341 1.726.415a1.75 1.75 0 0 1 1.662-1.2h1c.966 0 1.75.784 1.75 1.75v7.5a1.75 1.75 0 0 1-1.75 1.75h-1a1.75 1.75 0 0 1-1.514-.872c-.259.105-.59.268-.919.508-.671.491-1.317 1.285-1.317 2.614v.5c0 1.201-.994 2.336-2.334 2.183Zm4.334-13.232c-.706-.089-1.39-.284-2.072-.479l-.441-.125c-1.096-.304-2.335-.597-3.987-.597-1.794 0-2.28.222-2.529.548-.147.193-.275.505-.393 1.07-.105.502-.188 1.124-.295 1.93l-.04.3c-.25 1.882-.19 2.933.067 3.497a.923.923 0 0 0 .443.48c.208.104.52.175.997.175h1.75c.685 0 1.295.577 1.205 1.335-.022.192-.049.39-.075.586-.066.488-.13.97-.13 1.329 0 .808.144 1.15.288 1.316.137.157.401.303 1.048.377.307.035.664-.237.664-.693v-.5c0-1.922.978-3.127 1.932-3.825a5.878 5.878 0 0 1 1.568-.809Zm1.75 6.798h1a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25h-1a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25Z"></path>
        </svg>
    </button>
</p>

<div class="expand-feedback-content" id="expandContentLike">
    <ul style="text-align:center">
        <li>Thank you! We received your feedback.</li>
        <li>If you have any comments, fill in <a href='https://www.espressif.com/en/company/documents/documentation_feedback?docId=4287&sections=Power Management (api-reference/system/power_management)&version=esp32 v5.4.2 (v5.4.2)'>Espressif Documentation Feedback Form</a>.</li>
    </ul>
</div>

<div class="expand-feedback-content" id="expandContent">
    <ul style="text-align:center">
        <li>We value your feedback.</li>
        <li>Let us know how we can improve this page by filling in <a href='https://www.espressif.com/en/company/documents/documentation_feedback?docId=4287&sections=Power Management (api-reference/system/power_management)&version=esp32 v5.4.2 (v5.4.2)'>Espressif Documentation Feedback Form</a>.</li>
    </ul>
</div>

<br>


             </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="perfmon.html" class="btn btn-neutral float-left" title="Performance Monitor" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="pthread.html" class="btn btn-neutral float-right" title="POSIX Support (Including POSIX Threads Support)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2016 - 2025, Espressif Systems (Shanghai) Co., Ltd.</p>
  </div>

  <ul class="footer">
        <li>
	    
            
            Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/espressif/sphinx_idf_theme">theme</a>  based on <a href="https://github.com/readthedocs/sphinx_rtd_theme">Read the Docs Sphinx Theme</a>.
         </li>
    <li class="footer-aside">
        <a href="../../esp-idf-en-v5.4.2.zip"> Download HTML</a>
    </li>

  </ul> 

</footer>
        </div>
      </div>
    </section>
  </div>

  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>