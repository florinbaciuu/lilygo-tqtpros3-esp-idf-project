<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" />
        <!-- Global site tag (gtag.js) - Google Analytics -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-73KGWFC8DM"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());

            gtag('config', 'G-73KGWFC8DM');
        </script><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ESP HTTPS OTA - ESP32 -  &mdash; ESP-IDF Programming Guide v5.4.2 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=a60756f2" />
      <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=949a1ff5" />
      <link rel="stylesheet" type="text/css" href="../../_static/theme_overrides.css?v=851bd809" />

  
    <link rel="canonical" href="https://docs.espressif.com/projects/esp-idf/en/stable/esp32/api-reference/system/esp_https_ota.html" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js?v=c241bbaf"></script>
        <script src="../../_static/doctools.js?v=888ff710"></script>
        <script src="../../_static/sphinx_highlight.js?v=4825356b"></script>
        <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../../_static/copybutton.js?v=ff8fa330"></script>
        <script src="https://wavedrom.com/skins/default.js"></script>
        <script src="https://wavedrom.com/wavedrom.min.js"></script>
    <script src="../../_static/js/theme.js"></script>

    
        

    <script type="text/javascript">
        DOCUMENTATION_OPTIONS.PAGENAME = 'api-reference/system/esp_https_ota';
        DOCUMENTATION_OPTIONS.PROJECT_SLUG = 'esp-idf';
        DOCUMENTATION_OPTIONS.LATEST_BRANCH_NAME = 'master';
        DOCUMENTATION_OPTIONS.VERSIONS_URL = 'https://dl.espressif.com/dl/esp-idf/idf_versions.js';
        DOCUMENTATION_OPTIONS.LANGUAGES = ["en", "zh_CN"];
        DOCUMENTATION_OPTIONS.IDF_TARGET = 'esp32';
        DOCUMENTATION_OPTIONS.HAS_IDF_TARGETS = ["esp32", "esp32s2", "esp32s3", "esp32c3", "esp32c2", "esp32c5", "esp32c6", "esp32p4"]
        DOCUMENTATION_OPTIONS.RELEASE = 'v5.4.2';
        DOCUMENTATION_OPTIONS.LANGUAGE_URL = 'en';

    </script>

    <script type="text/javascript" src="https://dl.espressif.com/dl/esp-idf/idf_versions.js"></script>
    <link rel="author" title="About these documents" href="../../about.html" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Event Loop Library" href="esp_event.html" />
    <link rel="prev" title="Error Code and Helper Functions" href="esp_err.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            ESP-IDF Programming Guide
              <img src="../../_static/espressif-logo.svg" class="logo" alt="Logo"/>
          </a>

          
            <div class="selectors">
              <select id="target-select" style="width: 150px;" hidden>
                <option value="" disabled selected>Choose target...</option>
              </select>
            </div>
          

          <div class="selectors">
            <select id="version-select" style="width: 150px;" hidden>
              <option value="" disabled selected>Choose version...</option>
            </select>
          </div>

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../get-started/index.html">Get Started</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">API Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../api-conventions.html">API Conventions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../protocols/index.html">Application Protocols</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bluetooth/index.html">Bluetooth® API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../error-codes.html">Error Codes Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="../network/index.html">Networking APIs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../peripherals/index.html">Peripherals API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kconfig.html">Project Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../provisioning/index.html">Provisioning API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../storage/index.html">Storage API</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">System API</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="app_image_format.html">App Image Format</a></li>
<li class="toctree-l3"><a class="reference internal" href="bootloader_image_format.html">Bootloader Image Format</a></li>
<li class="toctree-l3"><a class="reference internal" href="app_trace.html">Application Level Tracing</a></li>
<li class="toctree-l3"><a class="reference internal" href="esp_function_with_shared_stack.html">Call Function with External Stack</a></li>
<li class="toctree-l3"><a class="reference internal" href="chip_revision.html">Chip Revision</a></li>
<li class="toctree-l3"><a class="reference internal" href="console.html">Console</a></li>
<li class="toctree-l3"><a class="reference internal" href="efuse.html">eFuse Manager</a></li>
<li class="toctree-l3"><a class="reference internal" href="esp_err.html">Error Code and Helper Functions</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">ESP HTTPS OTA</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="#server-verification">Server Verification</a></li>
<li class="toctree-l4"><a class="reference internal" href="#partial-image-download-over-https">Partial Image Download over HTTPS</a></li>
<li class="toctree-l4"><a class="reference internal" href="#signature-verification">Signature Verification</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ota-upgrades-with-pre-encrypted-firmware">OTA Upgrades with Pre-Encrypted Firmware</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ota-system-events">OTA System Events</a></li>
<li class="toctree-l4"><a class="reference internal" href="#application-examples">Application Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="#api-reference">API Reference</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="esp_event.html">Event Loop Library</a></li>
<li class="toctree-l3"><a class="reference internal" href="freertos.html">FreeRTOS Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="freertos_idf.html">FreeRTOS (IDF)</a></li>
<li class="toctree-l3"><a class="reference internal" href="freertos_additions.html">FreeRTOS (Supplemental Features)</a></li>
<li class="toctree-l3"><a class="reference internal" href="mem_alloc.html">Heap Memory Allocation</a></li>
<li class="toctree-l3"><a class="reference internal" href="mm.html">Memory Management for MMU Supported Memory</a></li>
<li class="toctree-l3"><a class="reference internal" href="heap_debug.html">Heap Memory Debugging</a></li>
<li class="toctree-l3"><a class="reference internal" href="esp_timer.html">ESP Timer (High Resolution Timer)</a></li>
<li class="toctree-l3"><a class="reference internal" href="internal-unstable.html">Internal and Unstable APIs</a></li>
<li class="toctree-l3"><a class="reference internal" href="ipc.html">Inter-Processor Call (IPC)</a></li>
<li class="toctree-l3"><a class="reference internal" href="intr_alloc.html">Interrupt Allocation</a></li>
<li class="toctree-l3"><a class="reference internal" href="log.html">Logging library</a></li>
<li class="toctree-l3"><a class="reference internal" href="misc_system_api.html">Miscellaneous System APIs</a></li>
<li class="toctree-l3"><a class="reference internal" href="ota.html">Over The Air Updates (OTA)</a></li>
<li class="toctree-l3"><a class="reference internal" href="perfmon.html">Performance Monitor</a></li>
<li class="toctree-l3"><a class="reference internal" href="power_management.html">Power Management</a></li>
<li class="toctree-l3"><a class="reference internal" href="pthread.html">POSIX Support (Including POSIX Threads Support)</a></li>
<li class="toctree-l3"><a class="reference internal" href="random.html">Random Number Generation</a></li>
<li class="toctree-l3"><a class="reference internal" href="sleep_modes.html">Sleep Modes</a></li>
<li class="toctree-l3"><a class="reference internal" href="soc_caps.html">SoC Capabilities</a></li>
<li class="toctree-l3"><a class="reference internal" href="system_time.html">System Time</a></li>
<li class="toctree-l3"><a class="reference internal" href="himem.html">Himem</a></li>
<li class="toctree-l3"><a class="reference internal" href="ulp.html">ULP Coprocessor Programming</a></li>
<li class="toctree-l3"><a class="reference internal" href="wdts.html">Watchdogs</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../hw-reference/index.html">Hardware Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api-guides/index.html">API Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../security/index.html">Security Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../migration-guides/index.html">Migration Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../libraries-and-frameworks/index.html">Libraries and Frameworks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contribute/index.html">Contributions Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../versions.html">ESP-IDF Versions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../resources.html">Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../COPYRIGHT.html">Copyrights and Licenses</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../about.html">About</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../languages.html">Switch Between Languages</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">ESP-IDF Programming Guide</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">API Reference</a></li>
          <li class="breadcrumb-item"><a href="index.html">System API</a></li>
      <li class="breadcrumb-item active">ESP HTTPS OTA</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/espressif/esp-idf/blob/v5.4.2/docs/en/api-reference/system/esp_https_ota.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="esp-https-ota">
<h1>ESP HTTPS OTA<a class="headerlink" href="#esp-https-ota" title="Permalink to this heading"></a></h1>
<p><a class="reference external" href="../../../../../zh_CN/v5.4.2/esp32/api-reference/system/esp_https_ota.html">[中文]</a></p>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this heading"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">esp_https_ota</span></code> provides simplified APIs to perform firmware upgrades over HTTPS. It is an abstraction layer over the existing OTA APIs.</p>
<blockquote>
<div><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">esp_err_t</span><span class="w"> </span><span class="nf">do_firmware_upgrade</span><span class="p">()</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">esp_http_client_config_t</span><span class="w"> </span><span class="n">config</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="p">.</span><span class="n">url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CONFIG_FIRMWARE_UPGRADE_URL</span><span class="p">,</span>
<span class="w">        </span><span class="p">.</span><span class="n">cert_pem</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="n">server_cert_pem_start</span><span class="p">,</span>
<span class="w">    </span><span class="p">};</span>
<span class="w">    </span><span class="n">esp_https_ota_config_t</span><span class="w"> </span><span class="n">ota_config</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="p">.</span><span class="n">http_config</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="n">config</span><span class="p">,</span>
<span class="w">    </span><span class="p">};</span>
<span class="w">    </span><span class="n">esp_err_t</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">esp_https_ota</span><span class="p">(</span><span class="o">&amp;</span><span class="n">ota_config</span><span class="p">);</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ret</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">ESP_OK</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">esp_restart</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">ESP_FAIL</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ESP_OK</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
</section>
<section id="server-verification">
<h2>Server Verification<a class="headerlink" href="#server-verification" title="Permalink to this heading"></a></h2>
<p>Please refer to <a class="reference internal" href="../protocols/esp_tls.html#esp-tls-server-verification"><span class="std std-ref">ESP-TLS: TLS Server Verification</span></a> for more information on server verification. The root certificate in PEM format needs to be provided to the <a class="reference internal" href="../protocols/esp_http_client.html#_CPPv4N24esp_http_client_config_t8cert_pemE" title="esp_http_client_config_t::cert_pem"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">esp_http_client_config_t::cert_pem</span></code></a> member.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The server-endpoint <strong>root</strong> certificate should be used for verification instead of any intermediate ones from the certificate chain. The reason is that the root certificate has the maximum validity and usually remains the same for a long period of time. Users can also use the <a class="reference internal" href="../protocols/esp_http_client.html#_CPPv4N24esp_http_client_config_t17crt_bundle_attachE" title="esp_http_client_config_t::crt_bundle_attach"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">esp_http_client_config_t::crt_bundle_attach</span></code></a> member for verification by the <code class="docutils literal notranslate"><span class="pre">ESP</span> <span class="pre">x509</span> <span class="pre">Certificate</span> <span class="pre">Bundle</span></code> feature, which covers most of the trusted root certificates.</p>
</div>
</section>
<section id="partial-image-download-over-https">
<h2>Partial Image Download over HTTPS<a class="headerlink" href="#partial-image-download-over-https" title="Permalink to this heading"></a></h2>
<p>To use the partial image download feature, enable <code class="docutils literal notranslate"><span class="pre">partial_http_download</span></code> configuration in <code class="docutils literal notranslate"><span class="pre">esp_https_ota_config_t</span></code>. When this configuration is enabled, firmware image will be downloaded in multiple HTTP requests of specified sizes. Maximum content length of each request can be specified by setting <code class="docutils literal notranslate"><span class="pre">max_http_request_size</span></code> to the required value.</p>
<p>This option is useful while fetching image from a service like AWS S3, where mbedTLS Rx buffer size (<a class="reference internal" href="../kconfig.html#config-mbedtls-ssl-in-content-len"><span class="std std-ref">CONFIG_MBEDTLS_SSL_IN_CONTENT_LEN</span></a>) can be set to a lower value which is not possible without enabling this configuration.</p>
<p>Default value of mbedTLS Rx buffer size is set to 16 KB. By using <code class="docutils literal notranslate"><span class="pre">partial_http_download</span></code> with <code class="docutils literal notranslate"><span class="pre">max_http_request_size</span></code> of 4 KB, size of mbedTLS Rx buffer can be reduced to 4 KB. With this configuration, memory saving of around 12 KB is expected.</p>
</section>
<section id="signature-verification">
<h2>Signature Verification<a class="headerlink" href="#signature-verification" title="Permalink to this heading"></a></h2>
<p>For additional security, signature of OTA firmware images can be verified. For more information， please refer to <a class="reference internal" href="ota.html#secure-ota-updates"><span class="std std-ref">Secure OTA Updates Without Secure Boot</span></a>.</p>
</section>
<section id="ota-upgrades-with-pre-encrypted-firmware">
<span id="ota-updates-pre-encrypted-firmware"></span><h2>OTA Upgrades with Pre-Encrypted Firmware<a class="headerlink" href="#ota-upgrades-with-pre-encrypted-firmware" title="Permalink to this heading"></a></h2>
<p>Pre-encrypted firmware is a completely independent scheme from <a class="reference internal" href="../../security/flash-encryption.html"><span class="doc">Flash Encryption</span></a>. Primary reasons for this are as follows:</p>
<blockquote>
<div><ul class="simple">
<li><p>Flash encryption scheme recommends using per-device unique encryption key that is internally generated. This makes pre-encryption of the firmware on OTA update server infeasible.</p></li>
<li><p>Flash encryption scheme depends on the flash offset and generates different ciphertext for different flash offset. And hence it becomes difficult to manage different OTA update images based on the partition slots like <code class="docutils literal notranslate"><span class="pre">ota_0</span></code>, <code class="docutils literal notranslate"><span class="pre">ota_1</span></code> etc.</p></li>
<li><p>Even for devices where flash encryption is not enabled, it could be requirement that firmware image over OTA is still encrypted in nature.</p></li>
</ul>
</div></blockquote>
<p>Pre-encrypted firmware distribution ensures that the firmware image stays encrypted <strong>in transit</strong> from the server to the device (irrespective of the underlying transport security). First the pre-encrypted software layer will decrypt the firmware (received over network) on device and then re-encrypt the contents using platform flash encryption (if enabled) before writing to flash.</p>
<section id="design">
<h3>Design<a class="headerlink" href="#design" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p>This scheme requires a unique RSA-3072 public-private key pair to be generated first. The public key stays on the OTA update server for encryption purpose and the private key is part of the device (e.g., embedded in firmware) for decryption purpose.</p></li>
<li><p>Pre-encrypted firmware is encrypted using AES-GCM key which is then appended to the image as header (along with config parameters).</p></li>
<li><p>Further the AES-GCM key gets encrypted using RSA public key and the resultant image gets hosted on the OTA update server.</p></li>
<li><p>On the device side, first the AES-GCM key is retrieved by decrypting the image header using RSA private key available to the device.</p></li>
<li><p>Finally, the contents of the image are decrypted using AES-GCM key (and config parameters) and written to the flash storage.</p></li>
</ul>
<p>This whole workflow is managed by an external component <a class="reference external" href="https://github.com/espressif/idf-extra-components/blob/master/esp_encrypted_img">esp_encrypted_image</a> and it gets plugged into the OTA update framework through decryption callback (<a class="reference internal" href="#_CPPv4N22esp_https_ota_config_t10decrypt_cbE" title="esp_https_ota_config_t::decrypt_cb"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">esp_https_ota_config_t::decrypt_cb</span></code></a>) mechanism.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The supported scheme is based on RSA-3072 and the private key on device side must be protected using platform security features.</p>
</div>
</section>
</section>
<section id="ota-system-events">
<h2>OTA System Events<a class="headerlink" href="#ota-system-events" title="Permalink to this heading"></a></h2>
<p>ESP HTTPS OTA has various events for which a handler can be triggered by the <a class="reference internal" href="esp_event.html"><span class="doc">Event Loop Library</span></a> when the particular event occurs. The handler has to be registered using <a class="reference internal" href="esp_event.html#_CPPv426esp_event_handler_register16esp_event_base_t7int32_t19esp_event_handler_tPv" title="esp_event_handler_register"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">esp_event_handler_register()</span></code></a>. This helps the event handling for ESP HTTPS OTA.</p>
<p><a class="reference internal" href="#_CPPv421esp_https_ota_event_t" title="esp_https_ota_event_t"><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">esp_https_ota_event_t</span></code></a> has all the events which can happen when performing OTA upgrade using ESP HTTPS OTA.</p>
<section id="event-handler-example">
<h3>Event Handler Example<a class="headerlink" href="#event-handler-example" title="Permalink to this heading"></a></h3>
<blockquote>
<div><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cm">/* Event handler for catching system events */</span>
<span class="k">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">event_handler</span><span class="p">(</span><span class="kt">void</span><span class="o">*</span><span class="w"> </span><span class="n">arg</span><span class="p">,</span><span class="w"> </span><span class="n">esp_event_base_t</span><span class="w"> </span><span class="n">event_base</span><span class="p">,</span>
<span class="w">                        </span><span class="kt">int32_t</span><span class="w"> </span><span class="n">event_id</span><span class="p">,</span><span class="w"> </span><span class="kt">void</span><span class="o">*</span><span class="w"> </span><span class="n">event_data</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">event_base</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">ESP_HTTPS_OTA_EVENT</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">event_id</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">case</span><span class="w"> </span><span class="no">ESP_HTTPS_OTA_START</span><span class="p">:</span>
<span class="w">                </span><span class="n">ESP_LOGI</span><span class="p">(</span><span class="n">TAG</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;OTA started&quot;</span><span class="p">);</span>
<span class="w">                </span><span class="k">break</span><span class="p">;</span>
<span class="w">            </span><span class="k">case</span><span class="w"> </span><span class="no">ESP_HTTPS_OTA_CONNECTED</span><span class="p">:</span>
<span class="w">                </span><span class="n">ESP_LOGI</span><span class="p">(</span><span class="n">TAG</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Connected to server&quot;</span><span class="p">);</span>
<span class="w">                </span><span class="k">break</span><span class="p">;</span>
<span class="w">            </span><span class="k">case</span><span class="w"> </span><span class="no">ESP_HTTPS_OTA_GET_IMG_DESC</span><span class="p">:</span>
<span class="w">                </span><span class="n">ESP_LOGI</span><span class="p">(</span><span class="n">TAG</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Reading Image Description&quot;</span><span class="p">);</span>
<span class="w">                </span><span class="k">break</span><span class="p">;</span>
<span class="w">            </span><span class="k">case</span><span class="w"> </span><span class="no">ESP_HTTPS_OTA_VERIFY_CHIP_ID</span><span class="p">:</span>
<span class="w">                </span><span class="n">ESP_LOGI</span><span class="p">(</span><span class="n">TAG</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Verifying chip id of new image: %d&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">*</span><span class="p">(</span><span class="n">esp_chip_id_t</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="n">event_data</span><span class="p">);</span>
<span class="w">                </span><span class="k">break</span><span class="p">;</span>
<span class="w">            </span><span class="k">case</span><span class="w"> </span><span class="no">ESP_HTTPS_OTA_DECRYPT_CB</span><span class="p">:</span>
<span class="w">                </span><span class="n">ESP_LOGI</span><span class="p">(</span><span class="n">TAG</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Callback to decrypt function&quot;</span><span class="p">);</span>
<span class="w">                </span><span class="k">break</span><span class="p">;</span>
<span class="w">            </span><span class="k">case</span><span class="w"> </span><span class="no">ESP_HTTPS_OTA_WRITE_FLASH</span><span class="p">:</span>
<span class="w">                </span><span class="n">ESP_LOGD</span><span class="p">(</span><span class="n">TAG</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Writing to flash: %d written&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">*</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="n">event_data</span><span class="p">);</span>
<span class="w">                </span><span class="k">break</span><span class="p">;</span>
<span class="w">            </span><span class="k">case</span><span class="w"> </span><span class="no">ESP_HTTPS_OTA_UPDATE_BOOT_PARTITION</span><span class="p">:</span>
<span class="w">                </span><span class="n">ESP_LOGI</span><span class="p">(</span><span class="n">TAG</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Boot partition updated. Next Partition: %d&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">*</span><span class="p">(</span><span class="n">esp_partition_subtype_t</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="n">event_data</span><span class="p">);</span>
<span class="w">                </span><span class="k">break</span><span class="p">;</span>
<span class="w">            </span><span class="k">case</span><span class="w"> </span><span class="no">ESP_HTTPS_OTA_FINISH</span><span class="p">:</span>
<span class="w">                </span><span class="n">ESP_LOGI</span><span class="p">(</span><span class="n">TAG</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;OTA finish&quot;</span><span class="p">);</span>
<span class="w">                </span><span class="k">break</span><span class="p">;</span>
<span class="w">            </span><span class="k">case</span><span class="w"> </span><span class="no">ESP_HTTPS_OTA_ABORT</span><span class="p">:</span>
<span class="w">                </span><span class="n">ESP_LOGI</span><span class="p">(</span><span class="n">TAG</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;OTA abort&quot;</span><span class="p">);</span>
<span class="w">                </span><span class="k">break</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
<p>Expected data type for different ESP HTTPS OTA events in the system event loop:</p>
<blockquote>
<div><ul class="simple">
<li><p>ESP_HTTPS_OTA_START                     : <code class="docutils literal notranslate"><span class="pre">NULL</span></code></p></li>
<li><p>ESP_HTTPS_OTA_CONNECTED                 : <code class="docutils literal notranslate"><span class="pre">NULL</span></code></p></li>
<li><p>ESP_HTTPS_OTA_GET_IMG_DESC              : <code class="docutils literal notranslate"><span class="pre">NULL</span></code></p></li>
<li><p>ESP_HTTPS_OTA_VERIFY_CHIP_ID            : <code class="docutils literal notranslate"><span class="pre">esp_chip_id_t</span></code></p></li>
<li><p>ESP_HTTPS_OTA_DECRYPT_CB                : <code class="docutils literal notranslate"><span class="pre">NULL</span></code></p></li>
<li><p>ESP_HTTPS_OTA_WRITE_FLASH               : <code class="docutils literal notranslate"><span class="pre">int</span></code></p></li>
<li><p>ESP_HTTPS_OTA_UPDATE_BOOT_PARTITION     : <code class="docutils literal notranslate"><span class="pre">esp_partition_subtype_t</span></code></p></li>
<li><p>ESP_HTTPS_OTA_FINISH                    : <code class="docutils literal notranslate"><span class="pre">NULL</span></code></p></li>
<li><p>ESP_HTTPS_OTA_ABORT                     : <code class="docutils literal notranslate"><span class="pre">NULL</span></code></p></li>
</ul>
</div></blockquote>
</section>
</section>
<section id="application-examples">
<h2>Application Examples<a class="headerlink" href="#application-examples" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/espressif/esp-idf/tree/v5.4.2/examples/system/ota/pre_encrypted_ota">system/ota/pre_encrypted_ota</a> demonstrates how to perform OTA updates with pre-encrypted binary using the <cite>esp_encrypted_img</cite> component's APIs and tool, ensuring the confidentiality of the firmware on the network channel, but not its authenticity. To perform OTA upgrades with pre-encrypted firmware, please enable <a class="reference internal" href="../kconfig.html#config-esp-https-ota-decrypt-cb"><span class="std std-ref">CONFIG_ESP_HTTPS_OTA_DECRYPT_CB</span></a> in component <cite>menuconfig</cite>.</p></li>
<li><p><a class="reference external" href="https://github.com/espressif/esp-idf/tree/v5.4.2/examples/system/ota/advanced_https_ota">system/ota/advanced_https_ota</a> demonstrates how to use the Advanced HTTPS OTA update functionality on ESP32 using the <cite>esp_https_ota</cite> component's APIs. For the applicable SoCs, please refer to <a class="reference external" href="https://github.com/espressif/esp-idf/blob/v5.4.2/examples/system/ota/advanced_https_ota/README.md">system/ota/advanced_https_ota/README.md</a>.</p></li>
<li><p><a class="reference external" href="https://github.com/espressif/esp-idf/tree/v5.4.2/examples/system/ota/simple_ota_example">system/ota/simple_ota_example</a> demonstrates how to use the <cite>esp_https_ota</cite> component's APIs to support firmware upgrades through specific networking interfaces such as Ethernet or Wi-Fi Station on ESP32. For the applicable SoCs, please refer to <a class="reference external" href="https://github.com/espressif/esp-idf/blob/v5.4.2/examples/system/ota/simple_ota_example/README.md">system/ota/simple_ota_example/README.md</a>.</p></li>
</ul>
</section>
<section id="api-reference">
<h2>API Reference<a class="headerlink" href="#api-reference" title="Permalink to this heading"></a></h2>
<section id="header-file">
<h3>Header File<a class="headerlink" href="#header-file" title="Permalink to this heading"></a></h3>
<ul>
<li><p><a class="reference external" href="https://github.com/espressif/esp-idf/blob/v5.4.2/components/esp_https_ota/include/esp_https_ota.h">components/esp_https_ota/include/esp_https_ota.h</a></p></li>
<li><p>This header file can be included with:</p>
<blockquote>
<div><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;esp_https_ota.h&quot;</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>This header file is a part of the API provided by the <code class="docutils literal notranslate"><span class="pre">esp_https_ota</span></code> component. To declare that your component depends on <code class="docutils literal notranslate"><span class="pre">esp_https_ota</span></code>, add the following to your CMakeLists.txt:</p>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>REQUIRES esp_https_ota
</pre></div>
</div>
<p>or</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>PRIV_REQUIRES esp_https_ota
</pre></div>
</div>
</div></blockquote>
</li>
</ul>
</section>
<section id="functions">
<h3>Functions<a class="headerlink" href="#functions" title="Permalink to this heading"></a></h3>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv413esp_https_otaPK22esp_https_ota_config_t">
<span id="_CPPv313esp_https_otaPK22esp_https_ota_config_t"></span><span id="_CPPv213esp_https_otaPK22esp_https_ota_config_t"></span><span id="esp_https_ota__esp_https_ota_config_tCP"></span><span class="target" id="esp__https__ota_8h_1af39e26f4146621827d26c8d3bacdf99f"></span><a class="reference internal" href="esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_https_ota</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv422esp_https_ota_config_t" title="esp_https_ota_config_t"><span class="n"><span class="pre">esp_https_ota_config_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ota_config</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv413esp_https_otaPK22esp_https_ota_config_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>HTTPS OTA Firmware upgrade. </p>
<p>This function allocates HTTPS OTA Firmware upgrade context, establishes HTTPS connection, reads image data from HTTP stream and writes it to OTA partition and finishes HTTPS OTA Firmware upgrade operation. This API supports URL redirection, but if CA cert of URLs differ then it should be appended to <code class="docutils literal notranslate"><span class="pre">cert_pem</span></code> member of <code class="docutils literal notranslate"><span class="pre">ota_config-&gt;http_config</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This API handles the entire OTA operation, so if this API is being used then no other APIs from <code class="docutils literal notranslate"><span class="pre">esp_https_ota</span></code> component should be called. If more information and control is needed during the HTTPS OTA process, then one can use <code class="docutils literal notranslate"><span class="pre">esp_https_ota_begin</span></code> and subsequent APIs. If this API returns successfully, esp_restart() must be called to boot from the new firmware image.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ota_config</strong> -- <strong>[in]</strong> pointer to <a class="reference internal" href="#structesp__https__ota__config__t"><span class="std std-ref">esp_https_ota_config_t</span></a> structure.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK: OTA data updated, next reboot will use specified partition.</p></li>
<li><p>ESP_FAIL: For generic failure.</p></li>
<li><p>ESP_ERR_INVALID_ARG: Invalid argument</p></li>
<li><p>ESP_ERR_OTA_VALIDATE_FAILED: Invalid app image</p></li>
<li><p>ESP_ERR_NO_MEM: Cannot allocate memory for OTA operation.</p></li>
<li><p>ESP_ERR_FLASH_OP_TIMEOUT or ESP_ERR_FLASH_OP_FAIL: Flash write failed.</p></li>
<li><p>For other return codes, refer OTA documentation in esp-idf's app_update component. </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv419esp_https_ota_beginPK22esp_https_ota_config_tP22esp_https_ota_handle_t">
<span id="_CPPv319esp_https_ota_beginPK22esp_https_ota_config_tP22esp_https_ota_handle_t"></span><span id="_CPPv219esp_https_ota_beginPK22esp_https_ota_config_tP22esp_https_ota_handle_t"></span><span id="esp_https_ota_begin__esp_https_ota_config_tCP.esp_https_ota_handle_tP"></span><span class="target" id="esp__https__ota_8h_1a521f6208426cffcd8c00b0a1f9b7ddbc"></span><a class="reference internal" href="esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_https_ota_begin</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv422esp_https_ota_config_t" title="esp_https_ota_config_t"><span class="n"><span class="pre">esp_https_ota_config_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ota_config</span></span>, <a class="reference internal" href="#_CPPv422esp_https_ota_handle_t" title="esp_https_ota_handle_t"><span class="n"><span class="pre">esp_https_ota_handle_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">handle</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv419esp_https_ota_beginPK22esp_https_ota_config_tP22esp_https_ota_handle_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Start HTTPS OTA Firmware upgrade. </p>
<p>This function initializes ESP HTTPS OTA context and establishes HTTPS connection. This function must be invoked first. If this function returns successfully, then <code class="docutils literal notranslate"><span class="pre">esp_https_ota_perform</span></code> should be called to continue with the OTA process and there should be a call to <code class="docutils literal notranslate"><span class="pre">esp_https_ota_finish</span></code> on completion of OTA operation or on failure in subsequent operations. This API supports URL redirection, but if CA cert of URLs differ then it should be appended to <code class="docutils literal notranslate"><span class="pre">cert_pem</span></code> member of <code class="docutils literal notranslate"><span class="pre">http_config</span></code>, which is a part of <code class="docutils literal notranslate"><span class="pre">ota_config</span></code>. In case of error, this API explicitly sets <code class="docutils literal notranslate"><span class="pre">handle</span></code> to NULL.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This API is blocking, so setting <code class="docutils literal notranslate"><span class="pre">is_async</span></code> member of <code class="docutils literal notranslate"><span class="pre">http_config</span></code> structure will result in an error.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ota_config</strong> -- <strong>[in]</strong> pointer to <a class="reference internal" href="#structesp__https__ota__config__t"><span class="std std-ref">esp_https_ota_config_t</span></a> structure </p></li>
<li><p><strong>handle</strong> -- <strong>[out]</strong> pointer to an allocated data of type <code class="docutils literal notranslate"><span class="pre">esp_https_ota_handle_t</span></code> which will be initialised in this function</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK: HTTPS OTA Firmware upgrade context initialised and HTTPS connection established</p></li>
<li><p>ESP_FAIL: For generic failure.</p></li>
<li><p>ESP_ERR_INVALID_ARG: Invalid argument (missing/incorrect config, certificate, etc.)</p></li>
<li><p>For other return codes, refer documentation in app_update component and esp_http_client component in esp-idf. </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv421esp_https_ota_perform22esp_https_ota_handle_t">
<span id="_CPPv321esp_https_ota_perform22esp_https_ota_handle_t"></span><span id="_CPPv221esp_https_ota_perform22esp_https_ota_handle_t"></span><span id="esp_https_ota_perform__esp_https_ota_handle_t"></span><span class="target" id="esp__https__ota_8h_1a4918c83bae2b48b2a5b4c76d935032d9"></span><a class="reference internal" href="esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_https_ota_perform</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv422esp_https_ota_handle_t" title="esp_https_ota_handle_t"><span class="n"><span class="pre">esp_https_ota_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">https_ota_handle</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv421esp_https_ota_perform22esp_https_ota_handle_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Read image data from HTTP stream and write it to OTA partition. </p>
<p>This function reads image data from HTTP stream and writes it to OTA partition. This function must be called only if esp_https_ota_begin() returns successfully. This function must be called in a loop since it returns after every HTTP read operation thus giving you the flexibility to stop OTA operation midway.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>https_ota_handle</strong> -- <strong>[in]</strong> pointer to esp_https_ota_handle_t structure</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_ERR_HTTPS_OTA_IN_PROGRESS: OTA update is in progress, call this API again to continue.</p></li>
<li><p>ESP_OK: OTA update was successful</p></li>
<li><p>ESP_FAIL: OTA update failed</p></li>
<li><p>ESP_ERR_INVALID_ARG: Invalid argument</p></li>
<li><p>ESP_ERR_INVALID_VERSION: Invalid chip revision in image header</p></li>
<li><p>ESP_ERR_OTA_VALIDATE_FAILED: Invalid app image</p></li>
<li><p>ESP_ERR_NO_MEM: Cannot allocate memory for OTA operation.</p></li>
<li><p>ESP_ERR_FLASH_OP_TIMEOUT or ESP_ERR_FLASH_OP_FAIL: Flash write failed.</p></li>
<li><p>For other return codes, refer OTA documentation in esp-idf's app_update component. </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv439esp_https_ota_is_complete_data_received22esp_https_ota_handle_t">
<span id="_CPPv339esp_https_ota_is_complete_data_received22esp_https_ota_handle_t"></span><span id="_CPPv239esp_https_ota_is_complete_data_received22esp_https_ota_handle_t"></span><span id="esp_https_ota_is_complete_data_received__esp_https_ota_handle_t"></span><span class="target" id="esp__https__ota_8h_1ac61902c89799531bb9bcb015f7985a4a"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_https_ota_is_complete_data_received</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv422esp_https_ota_handle_t" title="esp_https_ota_handle_t"><span class="n"><span class="pre">esp_https_ota_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">https_ota_handle</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv439esp_https_ota_is_complete_data_received22esp_https_ota_handle_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Checks if complete data was received or not. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This API can be called just before esp_https_ota_finish() to validate if the complete image was indeed received.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>https_ota_handle</strong> -- <strong>[in]</strong> pointer to esp_https_ota_handle_t structure</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>false</p></li>
<li><p>true </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv420esp_https_ota_finish22esp_https_ota_handle_t">
<span id="_CPPv320esp_https_ota_finish22esp_https_ota_handle_t"></span><span id="_CPPv220esp_https_ota_finish22esp_https_ota_handle_t"></span><span id="esp_https_ota_finish__esp_https_ota_handle_t"></span><span class="target" id="esp__https__ota_8h_1a9b7340a4701dc24262f4ecc027c5f210"></span><a class="reference internal" href="esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_https_ota_finish</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv422esp_https_ota_handle_t" title="esp_https_ota_handle_t"><span class="n"><span class="pre">esp_https_ota_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">https_ota_handle</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv420esp_https_ota_finish22esp_https_ota_handle_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Clean-up HTTPS OTA Firmware upgrade and close HTTPS connection. </p>
<p>This function closes the HTTP connection and frees the ESP HTTPS OTA context. This function switches the boot partition to the OTA partition containing the new firmware image.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If this API returns successfully, esp_restart() must be called to boot from the new firmware image esp_https_ota_finish should not be called after calling esp_https_ota_abort</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>https_ota_handle</strong> -- <strong>[in]</strong> pointer to esp_https_ota_handle_t structure</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK: Clean-up successful</p></li>
<li><p>ESP_ERR_INVALID_STATE</p></li>
<li><p>ESP_ERR_INVALID_ARG: Invalid argument</p></li>
<li><p>ESP_ERR_OTA_VALIDATE_FAILED: Invalid app image </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv419esp_https_ota_abort22esp_https_ota_handle_t">
<span id="_CPPv319esp_https_ota_abort22esp_https_ota_handle_t"></span><span id="_CPPv219esp_https_ota_abort22esp_https_ota_handle_t"></span><span id="esp_https_ota_abort__esp_https_ota_handle_t"></span><span class="target" id="esp__https__ota_8h_1a890b213fa689bf41a9acc2178b286cab"></span><a class="reference internal" href="esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_https_ota_abort</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv422esp_https_ota_handle_t" title="esp_https_ota_handle_t"><span class="n"><span class="pre">esp_https_ota_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">https_ota_handle</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv419esp_https_ota_abort22esp_https_ota_handle_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Clean-up HTTPS OTA Firmware upgrade and close HTTPS connection. </p>
<p>This function closes the HTTP connection and frees the ESP HTTPS OTA context.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>esp_https_ota_abort should not be called after calling esp_https_ota_finish</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>https_ota_handle</strong> -- <strong>[in]</strong> pointer to esp_https_ota_handle_t structure</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK: Clean-up successful</p></li>
<li><p>ESP_ERR_INVALID_STATE: Invalid ESP HTTPS OTA state</p></li>
<li><p>ESP_FAIL: OTA not started</p></li>
<li><p>ESP_ERR_NOT_FOUND: OTA handle not found</p></li>
<li><p>ESP_ERR_INVALID_ARG: Invalid argument </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv426esp_https_ota_get_img_desc22esp_https_ota_handle_tP14esp_app_desc_t">
<span id="_CPPv326esp_https_ota_get_img_desc22esp_https_ota_handle_tP14esp_app_desc_t"></span><span id="_CPPv226esp_https_ota_get_img_desc22esp_https_ota_handle_tP14esp_app_desc_t"></span><span id="esp_https_ota_get_img_desc__esp_https_ota_handle_t.esp_app_desc_tP"></span><span class="target" id="esp__https__ota_8h_1a73384ac51bdbc13caa32d82e7e0734f8"></span><a class="reference internal" href="esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_https_ota_get_img_desc</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv422esp_https_ota_handle_t" title="esp_https_ota_handle_t"><span class="n"><span class="pre">esp_https_ota_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">https_ota_handle</span></span>, <a class="reference internal" href="misc_system_api.html#_CPPv414esp_app_desc_t" title="esp_app_desc_t"><span class="n"><span class="pre">esp_app_desc_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">new_app_info</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv426esp_https_ota_get_img_desc22esp_https_ota_handle_tP14esp_app_desc_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Reads app description from image header. The app description provides information like the &quot;Firmware version&quot; of the image. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This API can be called only after esp_https_ota_begin() and before esp_https_ota_perform(). Calling this API is not mandatory.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>https_ota_handle</strong> -- <strong>[in]</strong> pointer to esp_https_ota_handle_t structure </p></li>
<li><p><strong>new_app_info</strong> -- <strong>[out]</strong> pointer to an allocated <a class="reference internal" href="misc_system_api.html#structesp__app__desc__t"><span class="std std-ref">esp_app_desc_t</span></a> structure</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_ERR_INVALID_ARG: Invalid arguments</p></li>
<li><p>ESP_ERR_INVALID_STATE: Invalid state to call this API. esp_https_ota_begin() not called yet.</p></li>
<li><p>ESP_FAIL: Failed to read image descriptor</p></li>
<li><p>ESP_OK: Successfully read image descriptor </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv432esp_https_ota_get_image_len_read22esp_https_ota_handle_t">
<span id="_CPPv332esp_https_ota_get_image_len_read22esp_https_ota_handle_t"></span><span id="_CPPv232esp_https_ota_get_image_len_read22esp_https_ota_handle_t"></span><span id="esp_https_ota_get_image_len_read__esp_https_ota_handle_t"></span><span class="target" id="esp__https__ota_8h_1af099c5e6a7d3017defeeeb8508ffa8aa"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_https_ota_get_image_len_read</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv422esp_https_ota_handle_t" title="esp_https_ota_handle_t"><span class="n"><span class="pre">esp_https_ota_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">https_ota_handle</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv432esp_https_ota_get_image_len_read22esp_https_ota_handle_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>This function returns OTA image data read so far. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This API should be called only if <code class="docutils literal notranslate"><span class="pre">esp_https_ota_perform()</span></code> has been called at least once or if <code class="docutils literal notranslate"><span class="pre">esp_https_ota_get_img_desc</span></code> has been called before.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>https_ota_handle</strong> -- <strong>[in]</strong> pointer to esp_https_ota_handle_t structure</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>-1 On failure</p></li>
<li><p>total bytes read so far </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv429esp_https_ota_get_status_code22esp_https_ota_handle_t">
<span id="_CPPv329esp_https_ota_get_status_code22esp_https_ota_handle_t"></span><span id="_CPPv229esp_https_ota_get_status_code22esp_https_ota_handle_t"></span><span id="esp_https_ota_get_status_code__esp_https_ota_handle_t"></span><span class="target" id="esp__https__ota_8h_1a424f155680ddcfab4e7a0af072cae2fb"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_https_ota_get_status_code</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv422esp_https_ota_handle_t" title="esp_https_ota_handle_t"><span class="n"><span class="pre">esp_https_ota_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">https_ota_handle</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv429esp_https_ota_get_status_code22esp_https_ota_handle_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>This function returns the HTTP status code of the last HTTP response. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This API should be called only after esp_https_ota_begin() has been called. This can be used to check the HTTP status code of the OTA download process.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>https_ota_handle</strong> -- <strong>[in]</strong> pointer to esp_https_ota_handle_t structure</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>-1 On failure</p></li>
<li><p>HTTP status code </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv428esp_https_ota_get_image_size22esp_https_ota_handle_t">
<span id="_CPPv328esp_https_ota_get_image_size22esp_https_ota_handle_t"></span><span id="_CPPv228esp_https_ota_get_image_size22esp_https_ota_handle_t"></span><span id="esp_https_ota_get_image_size__esp_https_ota_handle_t"></span><span class="target" id="esp__https__ota_8h_1afe48462b2fd81420e4f2660b200fce94"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_https_ota_get_image_size</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv422esp_https_ota_handle_t" title="esp_https_ota_handle_t"><span class="n"><span class="pre">esp_https_ota_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">https_ota_handle</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv428esp_https_ota_get_image_size22esp_https_ota_handle_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>This function returns OTA image total size. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This API should be called after esp_https_ota_begin() has been already called. This can be used to create some sort of progress indication (in combination with esp_https_ota_get_image_len_read())</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>https_ota_handle</strong> -- <strong>[in]</strong> pointer to esp_https_ota_handle_t structure</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>-1 On failure or chunked encoding</p></li>
<li><p>total bytes of image </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="structures">
<h3>Structures<a class="headerlink" href="#structures" title="Permalink to this heading"></a></h3>
<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv416decrypt_cb_arg_t">
<span id="_CPPv316decrypt_cb_arg_t"></span><span id="_CPPv216decrypt_cb_arg_t"></span><span id="decrypt_cb_arg_t"></span><span class="target" id="structdecrypt__cb__arg__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">decrypt_cb_arg_t</span></span></span><a class="headerlink" href="#_CPPv416decrypt_cb_arg_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>ESP HTTPS OTA decrypt callback args. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N16decrypt_cb_arg_t7data_inE">
<span id="_CPPv3N16decrypt_cb_arg_t7data_inE"></span><span id="_CPPv2N16decrypt_cb_arg_t7data_inE"></span><span id="decrypt_cb_arg_t::data_in__cCP"></span><span class="target" id="structdecrypt__cb__arg__t_1acd8903d6bdfef95182f8330727d6a68b"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">data_in</span></span></span><a class="headerlink" href="#_CPPv4N16decrypt_cb_arg_t7data_inE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Pointer to data to be decrypted </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N16decrypt_cb_arg_t11data_in_lenE">
<span id="_CPPv3N16decrypt_cb_arg_t11data_in_lenE"></span><span id="_CPPv2N16decrypt_cb_arg_t11data_in_lenE"></span><span id="decrypt_cb_arg_t::data_in_len__s"></span><span class="target" id="structdecrypt__cb__arg__t_1a50674b2d717b3e5b35c96e3cb593b665"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">data_in_len</span></span></span><a class="headerlink" href="#_CPPv4N16decrypt_cb_arg_t11data_in_lenE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Input data length </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N16decrypt_cb_arg_t8data_outE">
<span id="_CPPv3N16decrypt_cb_arg_t8data_outE"></span><span id="_CPPv2N16decrypt_cb_arg_t8data_outE"></span><span id="decrypt_cb_arg_t::data_out__cP"></span><span class="target" id="structdecrypt__cb__arg__t_1a4bf79f8a2818e1875291c03a9e5faea9"></span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">data_out</span></span></span><a class="headerlink" href="#_CPPv4N16decrypt_cb_arg_t8data_outE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Pointer to data decrypted using callback, this will be freed after data is written to flash </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N16decrypt_cb_arg_t12data_out_lenE">
<span id="_CPPv3N16decrypt_cb_arg_t12data_out_lenE"></span><span id="_CPPv2N16decrypt_cb_arg_t12data_out_lenE"></span><span id="decrypt_cb_arg_t::data_out_len__s"></span><span class="target" id="structdecrypt__cb__arg__t_1a7d596860c607aae11c0ad3e89f3201b0"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">data_out_len</span></span></span><a class="headerlink" href="#_CPPv4N16decrypt_cb_arg_t12data_out_lenE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Output data length </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv422esp_https_ota_config_t">
<span id="_CPPv322esp_https_ota_config_t"></span><span id="_CPPv222esp_https_ota_config_t"></span><span id="esp_https_ota_config_t"></span><span class="target" id="structesp__https__ota__config__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_https_ota_config_t</span></span></span><a class="headerlink" href="#_CPPv422esp_https_ota_config_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>ESP HTTPS OTA configuration. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N22esp_https_ota_config_t11http_configE">
<span id="_CPPv3N22esp_https_ota_config_t11http_configE"></span><span id="_CPPv2N22esp_https_ota_config_t11http_configE"></span><span id="esp_https_ota_config_t::http_config__esp_http_client_config_tCP"></span><span class="target" id="structesp__https__ota__config__t_1a90401d24e37b4a691c4eba05577f7a99"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../protocols/esp_http_client.html#_CPPv424esp_http_client_config_t" title="esp_http_client_config_t"><span class="n"><span class="pre">esp_http_client_config_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">http_config</span></span></span><a class="headerlink" href="#_CPPv4N22esp_https_ota_config_t11http_configE" title="Permalink to this definition"></a><br /></dt>
<dd><p>ESP HTTP client configuration </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N22esp_https_ota_config_t19http_client_init_cbE">
<span id="_CPPv3N22esp_https_ota_config_t19http_client_init_cbE"></span><span id="_CPPv2N22esp_https_ota_config_t19http_client_init_cbE"></span><span id="esp_https_ota_config_t::http_client_init_cb__http_client_init_cb_t"></span><span class="target" id="structesp__https__ota__config__t_1a83dba0e77a1009f51e26546d949aba9d"></span><a class="reference internal" href="#_CPPv421http_client_init_cb_t" title="http_client_init_cb_t"><span class="n"><span class="pre">http_client_init_cb_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">http_client_init_cb</span></span></span><a class="headerlink" href="#_CPPv4N22esp_https_ota_config_t19http_client_init_cbE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Callback after ESP HTTP client is initialised </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N22esp_https_ota_config_t16bulk_flash_eraseE">
<span id="_CPPv3N22esp_https_ota_config_t16bulk_flash_eraseE"></span><span id="_CPPv2N22esp_https_ota_config_t16bulk_flash_eraseE"></span><span id="esp_https_ota_config_t::bulk_flash_erase__b"></span><span class="target" id="structesp__https__ota__config__t_1acbce4edd988b0d7807bef5de716a5e80"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">bulk_flash_erase</span></span></span><a class="headerlink" href="#_CPPv4N22esp_https_ota_config_t16bulk_flash_eraseE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Erase entire flash partition during initialization. By default flash partition is erased during write operation and in chunk of 4K sector size </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N22esp_https_ota_config_t21partial_http_downloadE">
<span id="_CPPv3N22esp_https_ota_config_t21partial_http_downloadE"></span><span id="_CPPv2N22esp_https_ota_config_t21partial_http_downloadE"></span><span id="esp_https_ota_config_t::partial_http_download__b"></span><span class="target" id="structesp__https__ota__config__t_1a8b7461a8565140e956aa24c24c0ce17e"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">partial_http_download</span></span></span><a class="headerlink" href="#_CPPv4N22esp_https_ota_config_t21partial_http_downloadE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Enable Firmware image to be downloaded over multiple HTTP requests </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N22esp_https_ota_config_t21max_http_request_sizeE">
<span id="_CPPv3N22esp_https_ota_config_t21max_http_request_sizeE"></span><span id="_CPPv2N22esp_https_ota_config_t21max_http_request_sizeE"></span><span id="esp_https_ota_config_t::max_http_request_size__i"></span><span class="target" id="structesp__https__ota__config__t_1a979c5ff32f23c1ac97e867365175e878"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">max_http_request_size</span></span></span><a class="headerlink" href="#_CPPv4N22esp_https_ota_config_t21max_http_request_sizeE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Maximum request size for partial HTTP download </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N22esp_https_ota_config_t11buffer_capsE">
<span id="_CPPv3N22esp_https_ota_config_t11buffer_capsE"></span><span id="_CPPv2N22esp_https_ota_config_t11buffer_capsE"></span><span id="esp_https_ota_config_t::buffer_caps__uint32_t"></span><span class="target" id="structesp__https__ota__config__t_1a65c1e067fa7e35200222cde41cfac585"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">buffer_caps</span></span></span><a class="headerlink" href="#_CPPv4N22esp_https_ota_config_t11buffer_capsE" title="Permalink to this definition"></a><br /></dt>
<dd><p>The memory capability to use when allocating the buffer for OTA update. Default capability is MALLOC_CAP_DEFAULT </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N22esp_https_ota_config_t10decrypt_cbE">
<span id="_CPPv3N22esp_https_ota_config_t10decrypt_cbE"></span><span id="_CPPv2N22esp_https_ota_config_t10decrypt_cbE"></span><span id="esp_https_ota_config_t::decrypt_cb__decrypt_cb_t"></span><span class="target" id="structesp__https__ota__config__t_1afd2a8f0c2ee4ef70d4c895db9afbb3b1"></span><a class="reference internal" href="#_CPPv412decrypt_cb_t" title="decrypt_cb_t"><span class="n"><span class="pre">decrypt_cb_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">decrypt_cb</span></span></span><a class="headerlink" href="#_CPPv4N22esp_https_ota_config_t10decrypt_cbE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Callback for external decryption layer </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N22esp_https_ota_config_t16decrypt_user_ctxE">
<span id="_CPPv3N22esp_https_ota_config_t16decrypt_user_ctxE"></span><span id="_CPPv2N22esp_https_ota_config_t16decrypt_user_ctxE"></span><span id="esp_https_ota_config_t::decrypt_user_ctx__voidP"></span><span class="target" id="structesp__https__ota__config__t_1a3b7ad284b966153816217b5daa95d459"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">decrypt_user_ctx</span></span></span><a class="headerlink" href="#_CPPv4N22esp_https_ota_config_t16decrypt_user_ctxE" title="Permalink to this definition"></a><br /></dt>
<dd><p>User context for external decryption layer </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N22esp_https_ota_config_t19enc_img_header_sizeE">
<span id="_CPPv3N22esp_https_ota_config_t19enc_img_header_sizeE"></span><span id="_CPPv2N22esp_https_ota_config_t19enc_img_header_sizeE"></span><span id="esp_https_ota_config_t::enc_img_header_size__uint16_t"></span><span class="target" id="structesp__https__ota__config__t_1a0b7d2f37c4eb681ae11637c215ad1c68"></span><span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">enc_img_header_size</span></span></span><a class="headerlink" href="#_CPPv4N22esp_https_ota_config_t19enc_img_header_sizeE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Header size of pre-encrypted ota image header </p>
</dd></dl>

</div>
</dd></dl>

</section>
<section id="macros">
<h3>Macros<a class="headerlink" href="#macros" title="Permalink to this heading"></a></h3>
<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.ESP_ERR_HTTPS_OTA_BASE">
<span class="target" id="esp__https__ota_8h_1a01fd923457f18428c256ed1c9d3b890d"></span><span class="sig-name descname"><span class="n"><span class="pre">ESP_ERR_HTTPS_OTA_BASE</span></span></span><a class="headerlink" href="#c.ESP_ERR_HTTPS_OTA_BASE" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.ESP_ERR_HTTPS_OTA_IN_PROGRESS">
<span class="target" id="esp__https__ota_8h_1affb6f146b88b0fc844ad3e00d83a88ec"></span><span class="sig-name descname"><span class="n"><span class="pre">ESP_ERR_HTTPS_OTA_IN_PROGRESS</span></span></span><a class="headerlink" href="#c.ESP_ERR_HTTPS_OTA_IN_PROGRESS" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

</section>
<section id="type-definitions">
<h3>Type Definitions<a class="headerlink" href="#type-definitions" title="Permalink to this heading"></a></h3>
<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv422esp_https_ota_handle_t">
<span id="_CPPv322esp_https_ota_handle_t"></span><span id="_CPPv222esp_https_ota_handle_t"></span><span id="esp_https_ota_handle_t"></span><span class="target" id="esp__https__ota_8h_1a0b4099cc4ff2c5befa0db723ad01237c"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">esp_https_ota_handle_t</span></span></span><a class="headerlink" href="#_CPPv422esp_https_ota_handle_t" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv421http_client_init_cb_t">
<span id="_CPPv321http_client_init_cb_t"></span><span id="_CPPv221http_client_init_cb_t"></span><span id="http_client_init_cb_t"></span><span class="target" id="esp__https__ota_8h_1a5d9be4db9f456afbae0e6735436b4cdf"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><a class="reference internal" href="esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">http_client_init_cb_t</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><a class="reference internal" href="../protocols/esp_http_client.html#_CPPv424esp_http_client_handle_t" title="esp_http_client_handle_t"><span class="n"><span class="pre">esp_http_client_handle_t</span></span></a><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#_CPPv421http_client_init_cb_t" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv412decrypt_cb_t">
<span id="_CPPv312decrypt_cb_t"></span><span id="_CPPv212decrypt_cb_t"></span><span id="decrypt_cb_t"></span><span class="target" id="esp__https__ota_8h_1a4fe123dbf828b57eaac627a324b85d45"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><a class="reference internal" href="esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">decrypt_cb_t</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><a class="reference internal" href="#_CPPv416decrypt_cb_arg_t" title="decrypt_cb_arg_t"><span class="n"><span class="pre">decrypt_cb_arg_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">user_ctx</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#_CPPv412decrypt_cb_t" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

</section>
<section id="enumerations">
<h3>Enumerations<a class="headerlink" href="#enumerations" title="Permalink to this heading"></a></h3>
<dl class="cpp enum">
<dt class="sig sig-object cpp" id="_CPPv421esp_https_ota_event_t">
<span id="_CPPv321esp_https_ota_event_t"></span><span id="_CPPv221esp_https_ota_event_t"></span><span class="target" id="esp__https__ota_8h_1add7e934cb4d01412c08835f02ccb8b97"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_https_ota_event_t</span></span></span><a class="headerlink" href="#_CPPv421esp_https_ota_event_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Events generated by OTA process. </p>
<p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N21esp_https_ota_event_t19ESP_HTTPS_OTA_STARTE">
<span id="_CPPv3N21esp_https_ota_event_t19ESP_HTTPS_OTA_STARTE"></span><span id="_CPPv2N21esp_https_ota_event_t19ESP_HTTPS_OTA_STARTE"></span><span class="target" id="esp__https__ota_8h_1add7e934cb4d01412c08835f02ccb8b97a3447731a7d9d44966a1309c5990f0d05"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ESP_HTTPS_OTA_START</span></span></span><a class="headerlink" href="#_CPPv4N21esp_https_ota_event_t19ESP_HTTPS_OTA_STARTE" title="Permalink to this definition"></a><br /></dt>
<dd><p>OTA started </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N21esp_https_ota_event_t23ESP_HTTPS_OTA_CONNECTEDE">
<span id="_CPPv3N21esp_https_ota_event_t23ESP_HTTPS_OTA_CONNECTEDE"></span><span id="_CPPv2N21esp_https_ota_event_t23ESP_HTTPS_OTA_CONNECTEDE"></span><span class="target" id="esp__https__ota_8h_1add7e934cb4d01412c08835f02ccb8b97a4e019d53f24cf632d0755e011ff660e8"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ESP_HTTPS_OTA_CONNECTED</span></span></span><a class="headerlink" href="#_CPPv4N21esp_https_ota_event_t23ESP_HTTPS_OTA_CONNECTEDE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Connected to server </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N21esp_https_ota_event_t26ESP_HTTPS_OTA_GET_IMG_DESCE">
<span id="_CPPv3N21esp_https_ota_event_t26ESP_HTTPS_OTA_GET_IMG_DESCE"></span><span id="_CPPv2N21esp_https_ota_event_t26ESP_HTTPS_OTA_GET_IMG_DESCE"></span><span class="target" id="esp__https__ota_8h_1add7e934cb4d01412c08835f02ccb8b97a7bbb30dba04fdb1b5e6cd7a0b267de88"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ESP_HTTPS_OTA_GET_IMG_DESC</span></span></span><a class="headerlink" href="#_CPPv4N21esp_https_ota_event_t26ESP_HTTPS_OTA_GET_IMG_DESCE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Read app description from image header </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N21esp_https_ota_event_t28ESP_HTTPS_OTA_VERIFY_CHIP_IDE">
<span id="_CPPv3N21esp_https_ota_event_t28ESP_HTTPS_OTA_VERIFY_CHIP_IDE"></span><span id="_CPPv2N21esp_https_ota_event_t28ESP_HTTPS_OTA_VERIFY_CHIP_IDE"></span><span class="target" id="esp__https__ota_8h_1add7e934cb4d01412c08835f02ccb8b97a560db54b2a8542ea0d1cd7bb58ba13ce"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ESP_HTTPS_OTA_VERIFY_CHIP_ID</span></span></span><a class="headerlink" href="#_CPPv4N21esp_https_ota_event_t28ESP_HTTPS_OTA_VERIFY_CHIP_IDE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Verify chip id of new image </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N21esp_https_ota_event_t24ESP_HTTPS_OTA_DECRYPT_CBE">
<span id="_CPPv3N21esp_https_ota_event_t24ESP_HTTPS_OTA_DECRYPT_CBE"></span><span id="_CPPv2N21esp_https_ota_event_t24ESP_HTTPS_OTA_DECRYPT_CBE"></span><span class="target" id="esp__https__ota_8h_1add7e934cb4d01412c08835f02ccb8b97ae49204609715f856a20251a66b38cccc"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ESP_HTTPS_OTA_DECRYPT_CB</span></span></span><a class="headerlink" href="#_CPPv4N21esp_https_ota_event_t24ESP_HTTPS_OTA_DECRYPT_CBE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Callback to decrypt function </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N21esp_https_ota_event_t25ESP_HTTPS_OTA_WRITE_FLASHE">
<span id="_CPPv3N21esp_https_ota_event_t25ESP_HTTPS_OTA_WRITE_FLASHE"></span><span id="_CPPv2N21esp_https_ota_event_t25ESP_HTTPS_OTA_WRITE_FLASHE"></span><span class="target" id="esp__https__ota_8h_1add7e934cb4d01412c08835f02ccb8b97a2661bf06dad14096565fac319f17a7d9"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ESP_HTTPS_OTA_WRITE_FLASH</span></span></span><a class="headerlink" href="#_CPPv4N21esp_https_ota_event_t25ESP_HTTPS_OTA_WRITE_FLASHE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Flash write operation </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N21esp_https_ota_event_t35ESP_HTTPS_OTA_UPDATE_BOOT_PARTITIONE">
<span id="_CPPv3N21esp_https_ota_event_t35ESP_HTTPS_OTA_UPDATE_BOOT_PARTITIONE"></span><span id="_CPPv2N21esp_https_ota_event_t35ESP_HTTPS_OTA_UPDATE_BOOT_PARTITIONE"></span><span class="target" id="esp__https__ota_8h_1add7e934cb4d01412c08835f02ccb8b97ac8558550f9d0ceff1956ed125d3ee47b"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ESP_HTTPS_OTA_UPDATE_BOOT_PARTITION</span></span></span><a class="headerlink" href="#_CPPv4N21esp_https_ota_event_t35ESP_HTTPS_OTA_UPDATE_BOOT_PARTITIONE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Boot partition update after successful ota update </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N21esp_https_ota_event_t20ESP_HTTPS_OTA_FINISHE">
<span id="_CPPv3N21esp_https_ota_event_t20ESP_HTTPS_OTA_FINISHE"></span><span id="_CPPv2N21esp_https_ota_event_t20ESP_HTTPS_OTA_FINISHE"></span><span class="target" id="esp__https__ota_8h_1add7e934cb4d01412c08835f02ccb8b97af98e9034a7a91e51f7666cf75d8299c9"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ESP_HTTPS_OTA_FINISH</span></span></span><a class="headerlink" href="#_CPPv4N21esp_https_ota_event_t20ESP_HTTPS_OTA_FINISHE" title="Permalink to this definition"></a><br /></dt>
<dd><p>OTA finished </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N21esp_https_ota_event_t19ESP_HTTPS_OTA_ABORTE">
<span id="_CPPv3N21esp_https_ota_event_t19ESP_HTTPS_OTA_ABORTE"></span><span id="_CPPv2N21esp_https_ota_event_t19ESP_HTTPS_OTA_ABORTE"></span><span class="target" id="esp__https__ota_8h_1add7e934cb4d01412c08835f02ccb8b97af5e7e31d246d52216e5ccdcb4d2f1059"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ESP_HTTPS_OTA_ABORT</span></span></span><a class="headerlink" href="#_CPPv4N21esp_https_ota_event_t19ESP_HTTPS_OTA_ABORTE" title="Permalink to this definition"></a><br /></dt>
<dd><p>OTA aborted </p>
</dd></dl>

</dd></dl>

</section>
</section>
</section>

    <script type="text/javascript">
        function init() {
            WaveDrom.ProcessAll();
        }
        window.onload = init;
    </script>

           </div>
             <div class="articleComments">

<style>
    .expand-feedback-content {
        display: none;
    }
    .click-like-or-dislike {
        background-color: #d3d3d3;
        pointer-events: none;
    }
</style>

<script>
    function submitFeedbackForm(user_likes_document) {
        // Send to GA4 the user reaction
        gtag('event', 'user_reaction', {
            'user_likes_document': user_likes_document
        });

        if (user_likes_document === 1) {
            document.querySelector('.like-btn').classList.add('click-like-or-dislike');
            document.getElementById("expandContentLike").style.display = 'block';
        } else {
            document.querySelector('.dislike-btn').classList.add('click-like-or-dislike');
            document.getElementById("expandContent").style.display = 'block';
        }

        document.querySelector('.like-btn').style.pointerEvents = 'none';
        document.querySelector('.dislike-btn').style.pointerEvents = 'none';
    }
</script>

<hr>

<p style="text-align:center"><strong>Was this page helpful?</strong></p>
<p style="text-align:center">
    <button class="like-btn" onclick="submitFeedbackForm(1)">
        <svg aria-hidden="true" focusable="false" class="color-fg-muted" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible">
            <path d="M8.834.066c.763.087 1.5.295 2.01.884.505.581.656 1.378.656 2.3 0 .467-.087 1.119-.157 1.637L11.328 5h1.422c.603 0 1.174.085 1.668.333.508.254.911.679 1.137 1.2.453.998.438 2.447.188 4.316l-.04.306c-.105.79-.195 1.473-.313 2.033-.131.63-.315 1.209-.668 1.672C13.97 15.847 12.706 16 11 16c-1.848 0-3.234-.333-4.388-.653-.165-.045-.323-.09-.475-.133-.658-.186-1.2-.34-1.725-.415A1.75 1.75 0 0 1 2.75 16h-1A1.75 1.75 0 0 1 0 14.25v-7.5C0 5.784.784 5 1.75 5h1a1.75 1.75 0 0 1 1.514.872c.258-.105.59-.268.918-.508C5.853 4.874 6.5 4.079 6.5 2.75v-.5c0-1.202.994-2.337 2.334-2.184ZM4.5 13.3c.705.088 1.39.284 2.072.478l.441.125c1.096.305 2.334.598 3.987.598 1.794 0 2.28-.223 2.528-.549.147-.193.276-.505.394-1.07.105-.502.188-1.124.295-1.93l.04-.3c.25-1.882.189-2.933-.068-3.497a.921.921 0 0 0-.442-.48c-.208-.104-.52-.174-.997-.174H11c-.686 0-1.295-.577-1.206-1.336.023-.192.05-.39.076-.586.065-.488.13-.97.13-1.328 0-.809-.144-1.15-.288-1.316-.137-.158-.402-.304-1.048-.378C8.357 1.521 8 1.793 8 2.25v.5c0 1.922-.978 3.128-1.933 3.825a5.831 5.831 0 0 1-1.567.81ZM2.75 6.5h-1a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h1a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
        </svg>
    </button>
    <button class="dislike-btn" onclick="submitFeedbackForm(0)">
        <svg aria-hidden="true" focusable="false" class="" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible">
            <path d="M7.083 15.986c-.763-.087-1.499-.295-2.011-.884-.504-.581-.655-1.378-.655-2.299 0-.468.087-1.12.157-1.638l.015-.112H3.167c-.603 0-1.174-.086-1.669-.334a2.415 2.415 0 0 1-1.136-1.2c-.454-.998-.438-2.447-.188-4.316l.04-.306C.32 4.108.41 3.424.526 2.864c.132-.63.316-1.209.669-1.672C1.947.205 3.211.053 4.917.053c1.848 0 3.234.332 4.388.652l.474.133c.658.187 1.201.341 1.726.415a1.75 1.75 0 0 1 1.662-1.2h1c.966 0 1.75.784 1.75 1.75v7.5a1.75 1.75 0 0 1-1.75 1.75h-1a1.75 1.75 0 0 1-1.514-.872c-.259.105-.59.268-.919.508-.671.491-1.317 1.285-1.317 2.614v.5c0 1.201-.994 2.336-2.334 2.183Zm4.334-13.232c-.706-.089-1.39-.284-2.072-.479l-.441-.125c-1.096-.304-2.335-.597-3.987-.597-1.794 0-2.28.222-2.529.548-.147.193-.275.505-.393 1.07-.105.502-.188 1.124-.295 1.93l-.04.3c-.25 1.882-.19 2.933.067 3.497a.923.923 0 0 0 .443.48c.208.104.52.175.997.175h1.75c.685 0 1.295.577 1.205 1.335-.022.192-.049.39-.075.586-.066.488-.13.97-.13 1.329 0 .808.144 1.15.288 1.316.137.157.401.303 1.048.377.307.035.664-.237.664-.693v-.5c0-1.922.978-3.127 1.932-3.825a5.878 5.878 0 0 1 1.568-.809Zm1.75 6.798h1a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25h-1a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25Z"></path>
        </svg>
    </button>
</p>

<div class="expand-feedback-content" id="expandContentLike">
    <ul style="text-align:center">
        <li>Thank you! We received your feedback.</li>
        <li>If you have any comments, fill in <a href='https://www.espressif.com/en/company/documents/documentation_feedback?docId=4287&sections=ESP HTTPS OTA (api-reference/system/esp_https_ota)&version=esp32 v5.4.2 (v5.4.2)'>Espressif Documentation Feedback Form</a>.</li>
    </ul>
</div>

<div class="expand-feedback-content" id="expandContent">
    <ul style="text-align:center">
        <li>We value your feedback.</li>
        <li>Let us know how we can improve this page by filling in <a href='https://www.espressif.com/en/company/documents/documentation_feedback?docId=4287&sections=ESP HTTPS OTA (api-reference/system/esp_https_ota)&version=esp32 v5.4.2 (v5.4.2)'>Espressif Documentation Feedback Form</a>.</li>
    </ul>
</div>

<br>


             </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="esp_err.html" class="btn btn-neutral float-left" title="Error Code and Helper Functions" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="esp_event.html" class="btn btn-neutral float-right" title="Event Loop Library" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2016 - 2025, Espressif Systems (Shanghai) Co., Ltd.</p>
  </div>

  <ul class="footer">
        <li>
	    
            
            Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/espressif/sphinx_idf_theme">theme</a>  based on <a href="https://github.com/readthedocs/sphinx_rtd_theme">Read the Docs Sphinx Theme</a>.
         </li>
    <li class="footer-aside">
        <a href="../../esp-idf-en-v5.4.2.zip"> Download HTML</a>
    </li>

  </ul> 

</footer>
        </div>
      </div>
    </section>
  </div>

  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>