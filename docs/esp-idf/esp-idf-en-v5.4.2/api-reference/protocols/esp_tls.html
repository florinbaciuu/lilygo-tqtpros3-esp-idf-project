<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" />
        <!-- Global site tag (gtag.js) - Google Analytics -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-73KGWFC8DM"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());

            gtag('config', 'G-73KGWFC8DM');
        </script><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ESP-TLS - ESP32 -  &mdash; ESP-IDF Programming Guide v5.4.2 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=a60756f2" />
      <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=949a1ff5" />
      <link rel="stylesheet" type="text/css" href="../../_static/theme_overrides.css?v=851bd809" />

  
    <link rel="canonical" href="https://docs.espressif.com/projects/esp-idf/en/stable/esp32/api-reference/protocols/esp_tls.html" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js?v=c241bbaf"></script>
        <script src="../../_static/doctools.js?v=888ff710"></script>
        <script src="../../_static/sphinx_highlight.js?v=4825356b"></script>
        <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../../_static/copybutton.js?v=ff8fa330"></script>
        <script src="https://wavedrom.com/skins/default.js"></script>
        <script src="https://wavedrom.com/wavedrom.min.js"></script>
    <script src="../../_static/js/theme.js"></script>

    
        

    <script type="text/javascript">
        DOCUMENTATION_OPTIONS.PAGENAME = 'api-reference/protocols/esp_tls';
        DOCUMENTATION_OPTIONS.PROJECT_SLUG = 'esp-idf';
        DOCUMENTATION_OPTIONS.LATEST_BRANCH_NAME = 'master';
        DOCUMENTATION_OPTIONS.VERSIONS_URL = 'https://dl.espressif.com/dl/esp-idf/idf_versions.js';
        DOCUMENTATION_OPTIONS.LANGUAGES = ["en", "zh_CN"];
        DOCUMENTATION_OPTIONS.IDF_TARGET = 'esp32';
        DOCUMENTATION_OPTIONS.HAS_IDF_TARGETS = ["esp32", "esp32s2", "esp32s3", "esp32c3", "esp32c2", "esp32c5", "esp32c6", "esp32p4"]
        DOCUMENTATION_OPTIONS.RELEASE = 'v5.4.2';
        DOCUMENTATION_OPTIONS.LANGUAGE_URL = 'en';

    </script>

    <script type="text/javascript" src="https://dl.espressif.com/dl/esp-idf/idf_versions.js"></script>
    <link rel="author" title="About these documents" href="../../about.html" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="ESP HTTP Client" href="esp_http_client.html" />
    <link rel="prev" title="ESP-MQTT" href="mqtt.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            ESP-IDF Programming Guide
              <img src="../../_static/espressif-logo.svg" class="logo" alt="Logo"/>
          </a>

          
            <div class="selectors">
              <select id="target-select" style="width: 150px;" hidden>
                <option value="" disabled selected>Choose target...</option>
              </select>
            </div>
          

          <div class="selectors">
            <select id="version-select" style="width: 150px;" hidden>
              <option value="" disabled selected>Choose version...</option>
            </select>
          </div>

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../get-started/index.html">Get Started</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">API Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../api-conventions.html">API Conventions</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Application Protocols</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="asio.html">ASIO Port</a></li>
<li class="toctree-l3"><a class="reference internal" href="modbus.html">ESP-Modbus</a></li>
<li class="toctree-l3"><a class="reference internal" href="mqtt.html">ESP-MQTT</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">ESP-TLS</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="#application-example">Application Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="#tree-structure-for-esp-tls-component">Tree Structure for ESP-TLS Component</a></li>
<li class="toctree-l4"><a class="reference internal" href="#tls-server-verification">TLS Server Verification</a></li>
<li class="toctree-l4"><a class="reference internal" href="#esp-tls-server-cert-selection-hook">ESP-TLS Server Cert Selection Hook</a></li>
<li class="toctree-l4"><a class="reference internal" href="#underlying-ssl-tls-library-options">Underlying SSL/TLS Library Options</a></li>
<li class="toctree-l4"><a class="reference internal" href="#how-to-use-wolfssl-with-esp-idf">How to Use WolfSSL with ESP-IDF</a></li>
<li class="toctree-l4"><a class="reference internal" href="#comparison-between-mbedtls-and-wolfssl">Comparison Between MbedTLS and WolfSSL</a></li>
<li class="toctree-l4"><a class="reference internal" href="#atecc608a-secure-element-with-esp-tls">ATECC608A (Secure Element) with ESP-TLS</a></li>
<li class="toctree-l4"><a class="reference internal" href="#tls-ciphersuites">TLS Ciphersuites</a></li>
<li class="toctree-l4"><a class="reference internal" href="#tls-protocol-version">TLS Protocol Version</a></li>
<li class="toctree-l4"><a class="reference internal" href="#api-reference">API Reference</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="esp_http_client.html">ESP HTTP Client</a></li>
<li class="toctree-l3"><a class="reference internal" href="esp_local_ctrl.html">ESP Local Control</a></li>
<li class="toctree-l3"><a class="reference internal" href="esp_serial_slave_link.html">ESP Serial Slave Link</a></li>
<li class="toctree-l3"><a class="reference internal" href="esp_crt_bundle.html">ESP x509 Certificate Bundle</a></li>
<li class="toctree-l3"><a class="reference internal" href="esp_http_server.html">HTTP Server</a></li>
<li class="toctree-l3"><a class="reference internal" href="esp_https_server.html">HTTPS Server</a></li>
<li class="toctree-l3"><a class="reference internal" href="icmp_echo.html">ICMP Echo</a></li>
<li class="toctree-l3"><a class="reference internal" href="mdns.html">mDNS Service</a></li>
<li class="toctree-l3"><a class="reference internal" href="mbedtls.html">Mbed TLS</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#ip-network-layer">IP Network Layer</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../bluetooth/index.html">BluetoothÂ® API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../error-codes.html">Error Codes Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="../network/index.html">Networking APIs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../peripherals/index.html">Peripherals API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kconfig.html">Project Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../provisioning/index.html">Provisioning API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../storage/index.html">Storage API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../system/index.html">System API</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../hw-reference/index.html">Hardware Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api-guides/index.html">API Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../security/index.html">Security Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../migration-guides/index.html">Migration Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../libraries-and-frameworks/index.html">Libraries and Frameworks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contribute/index.html">Contributions Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../versions.html">ESP-IDF Versions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../resources.html">Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../COPYRIGHT.html">Copyrights and Licenses</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../about.html">About</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../languages.html">Switch Between Languages</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">ESP-IDF Programming Guide</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">API Reference</a></li>
          <li class="breadcrumb-item"><a href="index.html">Application Protocols</a></li>
      <li class="breadcrumb-item active">ESP-TLS</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/espressif/esp-idf/blob/v5.4.2/docs/en/api-reference/protocols/esp_tls.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="esp-tls">
<h1>ESP-TLS<a class="headerlink" href="#esp-tls" title="Permalink to this heading">ï</a></h1>
<p><a class="reference external" href="../../../../../zh_CN/v5.4.2/esp32/api-reference/protocols/esp_tls.html">[ä¸­æ]</a></p>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this heading">ï</a></h2>
<p>The ESP-TLS component provides a simplified API interface for accessing the commonly used TLS functions. It supports common scenarios like CA certification validation, SNI, ALPN negotiation, and non-blocking connection among others. All the configurations can be specified in the <code class="docutils literal notranslate"><span class="pre">esp_tls_cfg_t</span></code> data structure. Once done, TLS communication can be conducted using the following APIs:</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="#_CPPv412esp_tls_initv" title="esp_tls_init"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">esp_tls_init()</span></code></a>: for initializing the TLS connection handle.</p></li>
<li><p><a class="reference internal" href="#_CPPv421esp_tls_conn_new_syncPKciiPK13esp_tls_cfg_tP9esp_tls_t" title="esp_tls_conn_new_sync"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">esp_tls_conn_new_sync()</span></code></a>: for opening a new blocking TLS connection.</p></li>
<li><p><a class="reference internal" href="#_CPPv422esp_tls_conn_new_asyncPKciiPK13esp_tls_cfg_tP9esp_tls_t" title="esp_tls_conn_new_async"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">esp_tls_conn_new_async()</span></code></a>: for opening a new non-blocking TLS connection.</p></li>
<li><p><a class="reference internal" href="#_CPPv417esp_tls_conn_readP9esp_tls_tPv6size_t" title="esp_tls_conn_read"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">esp_tls_conn_read()</span></code></a>: for reading from the connection.</p></li>
<li><p><a class="reference internal" href="#_CPPv418esp_tls_conn_writeP9esp_tls_tPKv6size_t" title="esp_tls_conn_write"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">esp_tls_conn_write()</span></code></a>: for writing into the connection.</p></li>
<li><p><a class="reference internal" href="#_CPPv420esp_tls_conn_destroyP9esp_tls_t" title="esp_tls_conn_destroy"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">esp_tls_conn_destroy()</span></code></a>: for freeing up the connection.</p></li>
</ul>
</div></blockquote>
<p>Any application layer protocol like HTTP1, HTTP2, etc can be executed on top of this layer.</p>
</section>
<section id="application-example">
<h2>Application Example<a class="headerlink" href="#application-example" title="Permalink to this heading">ï</a></h2>
<p>Simple HTTPS example that uses ESP-TLS to establish a secure socket connection: <a class="reference external" href="https://github.com/espressif/esp-idf/tree/v5.4.2/examples/protocols/https_request">protocols/https_request</a>.</p>
</section>
<section id="tree-structure-for-esp-tls-component">
<h2>Tree Structure for ESP-TLS Component<a class="headerlink" href="#tree-structure-for-esp-tls-component" title="Permalink to this heading">ï</a></h2>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>âââ esp_tls.c
âââ esp_tls.h
âââ esp_tls_mbedtls.c
âââ esp_tls_wolfssl.c
âââ private_include
    âââ esp_tls_mbedtls.h
    âââ esp_tls_wolfssl.h
</pre></div>
</div>
</div></blockquote>
<p>The ESP-TLS component has a file <a class="reference external" href="https://github.com/espressif/esp-idf/blob/v5.4.2/components/esp-tls/esp_tls.h">esp-tls/esp_tls.h</a> which contains the public API headers for the component. Internally, the ESP-TLS component operates using either MbedTLS or WolfSSL, which are SSL/TLS libraries. APIs specific to MbedTLS are present in <a class="reference external" href="https://github.com/espressif/esp-idf/blob/v5.4.2/components/esp-tls/private_include/esp_tls_mbedtls.h">esp-tls/private_include/esp_tls_mbedtls.h</a> and APIs specific to WolfSSL are present in <a class="reference external" href="https://github.com/espressif/esp-idf/blob/v5.4.2/components/esp-tls/private_include/esp_tls_wolfssl.h">esp-tls/private_include/esp_tls_wolfssl.h</a>.</p>
</section>
<section id="tls-server-verification">
<span id="esp-tls-server-verification"></span><h2>TLS Server Verification<a class="headerlink" href="#tls-server-verification" title="Permalink to this heading">ï</a></h2>
<p>ESP-TLS provides multiple options for TLS server verification on the client side. The ESP-TLS client can verify the server by validating the peer's server certificate or with the help of pre-shared keys. The user should select only one of the following options in the <a class="reference internal" href="#_CPPv413esp_tls_cfg_t" title="esp_tls_cfg_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">esp_tls_cfg_t</span></code></a> structure for TLS server verification. If no option is selected, the client will return a fatal error by default during the TLS connection setup.</p>
<blockquote>
<div><ul>
<li><p><strong>cacert_buf</strong> and <strong>cacert_bytes</strong>: The CA certificate can be provided in a buffer to the <a class="reference internal" href="#_CPPv413esp_tls_cfg_t" title="esp_tls_cfg_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">esp_tls_cfg_t</span></code></a> structure. The ESP-TLS uses the CA certificate present in the buffer to verify the server. The following variables in the <a class="reference internal" href="#_CPPv413esp_tls_cfg_t" title="esp_tls_cfg_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">esp_tls_cfg_t</span></code></a> structure must be set.</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">cacert_buf</span></code> - pointer to the buffer which contains the CA certification.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cacert_bytes</span></code> - the size of the CA certificate in bytes.</p></li>
</ul>
</div></blockquote>
</li>
<li><p><strong>use_global_ca_store</strong>: The <code class="docutils literal notranslate"><span class="pre">global_ca_store</span></code> can be initialized and set at once. Then it can be used to verify the server for all the ESP-TLS connections which have set <code class="docutils literal notranslate"><span class="pre">use_global_ca_store</span> <span class="pre">=</span> <span class="pre">true</span></code> in their respective <a class="reference internal" href="#_CPPv413esp_tls_cfg_t" title="esp_tls_cfg_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">esp_tls_cfg_t</span></code></a> structure. See the API Reference section below for information regarding different APIs used for initializing and setting up the <code class="docutils literal notranslate"><span class="pre">global_ca_store</span></code>.</p></li>
<li><p><strong>crt_bundle_attach</strong>: The ESP x509 Certificate Bundle API provides an easy way to include a bundle of custom x509 root certificates for TLS server verification. More details can be found at <a class="reference internal" href="esp_crt_bundle.html"><span class="doc">ESP x509 Certificate Bundle</span></a>.</p></li>
<li><p><strong>psk_hint_key</strong>: To use pre-shared keys for server verification, <a class="reference internal" href="../kconfig.html#config-esp-tls-psk-verification"><span class="std std-ref">CONFIG_ESP_TLS_PSK_VERIFICATION</span></a> should be enabled in the ESP-TLS menuconfig. Then the pointer to the PSK hint and key should be provided to the <a class="reference internal" href="#_CPPv413esp_tls_cfg_t" title="esp_tls_cfg_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">esp_tls_cfg_t</span></code></a> structure. The ESP-TLS will use the PSK for server verification only when no other option regarding server verification is selected.</p></li>
<li><p><strong>skip server verification</strong>: This is an insecure option provided in the ESP-TLS for testing purposes. The option can be set by enabling <a class="reference internal" href="../kconfig.html#config-esp-tls-insecure"><span class="std std-ref">CONFIG_ESP_TLS_INSECURE</span></a> and <a class="reference internal" href="../kconfig.html#config-esp-tls-skip-server-cert-verify"><span class="std std-ref">CONFIG_ESP_TLS_SKIP_SERVER_CERT_VERIFY</span></a> in the ESP-TLS menuconfig. When this option is enabled the ESP-TLS will skip server verification by default when no other options for server verification are selected in the <a class="reference internal" href="#_CPPv413esp_tls_cfg_t" title="esp_tls_cfg_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">esp_tls_cfg_t</span></code></a> structure.</p></li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Enabling this option comes with a potential risk of establishing a TLS connection with a server that has a fake identity, provided that the server certificate is not provided either through API or other mechanisms like ca_store etc.</p>
</div>
</div></blockquote>
</section>
<section id="esp-tls-server-cert-selection-hook">
<h2>ESP-TLS Server Cert Selection Hook<a class="headerlink" href="#esp-tls-server-cert-selection-hook" title="Permalink to this heading">ï</a></h2>
<p>The ESP-TLS component provides an option to set the server certification selection hook when using the MbedTLS stack. This provides an ability to configure and use a certificate selection callback during server handshake. The callback helps to select a certificate to present to the client based on the TLS extensions supplied in the client hello message, such as ALPN and SNI. To enable this feature, please enable  <a class="reference internal" href="../kconfig.html#config-esp-tls-server-cert-select-hook"><span class="std std-ref">CONFIG_ESP_TLS_SERVER_CERT_SELECT_HOOK</span></a> in the ESP-TLS menuconfig.</p>
<p>The certificate selection callback can be configured in the <a class="reference internal" href="#_CPPv413esp_tls_cfg_t" title="esp_tls_cfg_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">esp_tls_cfg_t</span></code></a> structure as follows:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="nf">cert_selection_callback</span><span class="p">(</span><span class="n">mbedtls_ssl_context</span><span class="w"> </span><span class="o">*</span><span class="n">ssl</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="cm">/* Code that the callback should execute */</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">esp_tls_cfg_t</span><span class="w"> </span><span class="n">cfg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">cert_select_cb</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cert_section_callback</span><span class="p">,</span>
<span class="p">};</span>
</pre></div>
</div>
</section>
<section id="underlying-ssl-tls-library-options">
<span id="esp-tls-wolfssl"></span><h2>Underlying SSL/TLS Library Options<a class="headerlink" href="#underlying-ssl-tls-library-options" title="Permalink to this heading">ï</a></h2>
<p>The ESP-TLS component offers the option to use MbedTLS or WolfSSL as its underlying SSL/TLS library. By default, only MbedTLS is available and used, WolfSSL SSL/TLS library is also available publicly at <a class="reference external" href="https://github.com/espressif/esp-wolfssl">https://github.com/espressif/esp-wolfssl</a>. The repository provides the WolfSSL component in binary format, and it also provides a few examples that are useful for understanding the API. Please refer to the repository <code class="docutils literal notranslate"><span class="pre">README.md</span></code> for information on licensing and other options. Please see the below section for instructions on how to use WolfSSL in your project.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>As the library options are internal to ESP-TLS, switching the libraries will not change ESP-TLS specific code for a project.</p>
</div>
</section>
<section id="how-to-use-wolfssl-with-esp-idf">
<h2>How to Use WolfSSL with ESP-IDF<a class="headerlink" href="#how-to-use-wolfssl-with-esp-idf" title="Permalink to this heading">ï</a></h2>
<p>There are two ways to use WolfSSL in your project:</p>
<ol class="arabic">
<li><p>Directly add WolfSSL as a component in your project with the following three commands:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">First</span><span class="p">,</span> <span class="n">change</span> <span class="n">the</span> <span class="n">directory</span> <span class="p">(</span><span class="n">cd</span><span class="p">)</span> <span class="n">to</span> <span class="n">your</span> <span class="n">project</span> <span class="n">directory</span><span class="p">)</span>
<span class="n">mkdir</span> <span class="n">components</span>
<span class="n">cd</span> <span class="n">components</span>
<span class="n">git</span> <span class="n">clone</span> <span class="o">--</span><span class="n">recursive</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">espressif</span><span class="o">/</span><span class="n">esp</span><span class="o">-</span><span class="n">wolfssl</span><span class="o">.</span><span class="n">git</span>
</pre></div>
</div>
</li>
<li><p>Add WolfSSL as an extra component in your project.</p></li>
</ol>
<ul>
<li><p>Download WolfSSL with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="o">--</span><span class="n">recursive</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">espressif</span><span class="o">/</span><span class="n">esp</span><span class="o">-</span><span class="n">wolfssl</span><span class="o">.</span><span class="n">git</span>
</pre></div>
</div>
</li>
<li><p>Include ESP-WolfSSL in ESP-IDF with setting <code class="docutils literal notranslate"><span class="pre">EXTRA_COMPONENT_DIRS</span></code> in <code class="docutils literal notranslate"><span class="pre">CMakeLists.txt</span></code> of your project as done in <a class="reference external" href="https://github.com/espressif/esp-wolfssl/tree/master/examples">wolfssl/examples</a>. For reference see <a class="reference internal" href="../../api-guides/build-system.html#optional-project-variable"><span class="std std-ref">Optional Project Variables</span></a> in <a class="reference internal" href="../../api-guides/build-system.html"><span class="doc">build-system.</span></a>.</p></li>
</ul>
<p>After the above steps, you will have the option to choose WolfSSL as the underlying SSL/TLS library in the configuration menu of your project as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">idf</span><span class="o">.</span><span class="n">py</span> <span class="n">menuconfig</span> <span class="o">&gt;</span> <span class="n">ESP</span><span class="o">-</span><span class="n">TLS</span> <span class="o">&gt;</span> <span class="n">SSL</span><span class="o">/</span><span class="n">TLS</span> <span class="n">Library</span> <span class="o">&gt;</span> <span class="n">Mbedtls</span><span class="o">/</span><span class="n">Wolfssl</span>
</pre></div>
</div>
</section>
<section id="comparison-between-mbedtls-and-wolfssl">
<h2>Comparison Between MbedTLS and WolfSSL<a class="headerlink" href="#comparison-between-mbedtls-and-wolfssl" title="Permalink to this heading">ï</a></h2>
<p>The following table shows a typical comparison between WolfSSL and MbedTLS when the <a class="reference external" href="https://github.com/espressif/esp-idf/tree/v5.4.2/examples/protocols/https_request">protocols/https_request</a> example (which includes server authentication) is running with both SSL/TLS libraries and with all respective configurations set to default. For MbedTLS, the IN_CONTENT length and OUT_CONTENT length are set to 16384 bytes and 4096 bytes respectively.</p>
<table class="docutils align-center">
<colgroup>
<col style="width: 40.0%" />
<col style="width: 30.0%" />
<col style="width: 30.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Property</p></th>
<th class="head"><p>WolfSSL</p></th>
<th class="head"><p>MbedTLS</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Total Heap Consumed</p></td>
<td><p>~ 19 KB</p></td>
<td><p>~ 37 KB</p></td>
</tr>
<tr class="row-odd"><td><p>Task Stack Used</p></td>
<td><p>~ 2.2 KB</p></td>
<td><p>~ 3.6 KB</p></td>
</tr>
<tr class="row-even"><td><p>Bin size</p></td>
<td><p>~ 858 KB</p></td>
<td><p>~ 736 KB</p></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>These values can vary based on configuration options and version of respective libraries.</p>
</div>
</section>
<section id="atecc608a-secure-element-with-esp-tls">
<h2>ATECC608A (Secure Element) with ESP-TLS<a class="headerlink" href="#atecc608a-secure-element-with-esp-tls" title="Permalink to this heading">ï</a></h2>
<p>ESP-TLS provides support for using ATECC608A cryptoauth chip with ESP32 series of SoCs. The use of ATECC608A is supported only when ESP-TLS is used with MbedTLS as its underlying SSL/TLS stack. ESP-TLS uses MbedTLS as its underlying TLS/SSL stack by default unless changed manually.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>ATECC608A chip interfaced to ESP32 must be already configured. For details, please refer to <a class="reference external" href="https://github.com/espressif/esp-cryptoauthlib/blob/master/esp_cryptoauth_utility/README.md#esp_cryptoauth_utility">esp_cryptoauth_utility</a>.</p>
</div>
<p>To enable the secure element support, and use it in your project for TLS connection, you have to follow the below steps:</p>
<ol class="arabic">
<li><p>Add <a class="reference external" href="https://github.com/espressif/esp-cryptoauthlib">esp-cryptoauthlib</a> in your project, for details please refer <a class="reference external" href="https://github.com/espressif/esp-cryptoauthlib#how-to-use-esp-cryptoauthlib-with-esp-idf">how to use esp-cryptoauthlib with ESP-IDF</a>.</p></li>
<li><p>Enable the following menuconfig option:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">menuconfig</span> <span class="o">&gt;</span> <span class="n">Component</span> <span class="n">config</span> <span class="o">&gt;</span> <span class="n">ESP</span><span class="o">-</span><span class="n">TLS</span> <span class="o">&gt;</span> <span class="n">Use</span> <span class="n">Secure</span> <span class="n">Element</span> <span class="p">(</span><span class="n">ATECC608A</span><span class="p">)</span> <span class="k">with</span> <span class="n">ESP</span><span class="o">-</span><span class="n">TLS</span>
</pre></div>
</div>
</li>
<li><p>Select type of ATECC608A chip with following option:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">menuconfig</span> <span class="o">&gt;</span> <span class="n">Component</span> <span class="n">config</span> <span class="o">&gt;</span> <span class="n">esp</span><span class="o">-</span><span class="n">cryptoauthlib</span> <span class="o">&gt;</span> <span class="n">Choose</span> <span class="n">Type</span> <span class="n">of</span> <span class="n">ATECC608A</span> <span class="n">chip</span>
</pre></div>
</div>
</li>
</ol>
<p>To know more about different types of ATECC608A chips and how to obtain the type of ATECC608A connected to your ESP module, please visit <a class="reference external" href="https://github.com/espressif/esp-cryptoauthlib/blob/master/esp_cryptoauth_utility/README.md#find-type-of-atecc608a-chip-connected-to-esp32-wroom32-se">ATECC608A chip type</a>.</p>
<ol class="arabic simple" start="4">
<li><p>Enable the use of ATECC608A in ESP-TLS by providing the following config option in <a class="reference internal" href="#_CPPv413esp_tls_cfg_t" title="esp_tls_cfg_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">esp_tls_cfg_t</span></code></a>.</p></li>
</ol>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">esp_tls_cfg_t</span><span class="w"> </span><span class="n">cfg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="cm">/* other configurations options */</span>
<span class="w">    </span><span class="p">.</span><span class="n">use_secure_element</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">,</span>
<span class="p">};</span>
</pre></div>
</div>
</section>
<section id="tls-ciphersuites">
<h2>TLS Ciphersuites<a class="headerlink" href="#tls-ciphersuites" title="Permalink to this heading">ï</a></h2>
<p>ESP-TLS provides the ability to set a ciphersuites list in client mode. The TLS ciphersuites list informs the server about the supported ciphersuites for the specific TLS connection regardless of the TLS stack configuration. If the server supports any ciphersuite from this list, then the TLS connection will succeed; otherwise, it will fail.</p>
<p>You can set <code class="docutils literal notranslate"><span class="pre">ciphersuites_list</span></code> in the <a class="reference internal" href="#_CPPv413esp_tls_cfg_t" title="esp_tls_cfg_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">esp_tls_cfg_t</span></code></a> structure during client connection as follows:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cm">/* ciphersuites_list must end with 0 and must be available in the memory scope active during the entire TLS connection */</span>
<span class="k">static</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">ciphersuites_list</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="n">MBEDTLS_TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384</span><span class="p">,</span><span class="w"> </span><span class="n">MBEDTLS_TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">};</span>
<span class="n">esp_tls_cfg_t</span><span class="w"> </span><span class="n">cfg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="p">.</span><span class="n">ciphersuites_list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ciphersuites_list</span><span class="p">,</span>
<span class="p">};</span>
</pre></div>
</div>
<p>ESP-TLS will not check the validity of <code class="docutils literal notranslate"><span class="pre">ciphersuites_list</span></code> that was set, you should call <a class="reference internal" href="#_CPPv429esp_tls_get_ciphersuites_listv" title="esp_tls_get_ciphersuites_list"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">esp_tls_get_ciphersuites_list()</span></code></a> to get ciphersuites list supported in the TLS stack and cross-check it against the supplied list.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This feature is supported only in the MbedTLS stack.</p>
</div>
</section>
<section id="tls-protocol-version">
<h2>TLS Protocol Version<a class="headerlink" href="#tls-protocol-version" title="Permalink to this heading">ï</a></h2>
<p>ESP-TLS provides the ability to set the TLS protocol version for the respective TLS connection. Once the version is specified, it should be exclusively used to establish the TLS connection. This provides an ability to route different TLS connections to different protocol versions like TLS 1.2 and TLS 1.3 at runtime.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>At the moment, the feature is supported only when ESP-TLS is used with MbedTLS as its underlying SSL/TLS stack.</p>
</div>
<p>To set TLS protocol version with ESP-TLS, set <code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">esp_tls_cfg_t::tls_version</span></code> to the required protocol version from <a class="reference internal" href="#_CPPv419esp_tls_proto_ver_t" title="esp_tls_proto_ver_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">esp_tls_proto_ver_t</span></code></a>. If the protocol version field is not set, then the default policy is to allow TLS connection based on the server requirement.</p>
<p>The ESP-TLS connection can be configured to use the specified protocol version as follows:</p>
<blockquote>
<div><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;esp_tls.h&quot;</span>
<span class="n">esp_tls_cfg_t</span><span class="w"> </span><span class="n">cfg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="p">.</span><span class="n">tls_version</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ESP_TLS_VER_TLS_1_2</span><span class="p">,</span>
<span class="p">};</span>
</pre></div>
</div>
</div></blockquote>
</section>
<section id="api-reference">
<h2>API Reference<a class="headerlink" href="#api-reference" title="Permalink to this heading">ï</a></h2>
<section id="header-file">
<h3>Header File<a class="headerlink" href="#header-file" title="Permalink to this heading">ï</a></h3>
<ul>
<li><p><a class="reference external" href="https://github.com/espressif/esp-idf/blob/v5.4.2/components/esp-tls/esp_tls.h">components/esp-tls/esp_tls.h</a></p></li>
<li><p>This header file can be included with:</p>
<blockquote>
<div><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;esp_tls.h&quot;</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>This header file is a part of the API provided by the <code class="docutils literal notranslate"><span class="pre">esp-tls</span></code> component. To declare that your component depends on <code class="docutils literal notranslate"><span class="pre">esp-tls</span></code>, add the following to your CMakeLists.txt:</p>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>REQUIRES esp-tls
</pre></div>
</div>
<p>or</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>PRIV_REQUIRES esp-tls
</pre></div>
</div>
</div></blockquote>
</li>
</ul>
</section>
<section id="functions">
<h3>Functions<a class="headerlink" href="#functions" title="Permalink to this heading">ï</a></h3>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv439esp_tls_cfg_server_session_tickets_initP20esp_tls_cfg_server_t">
<span id="_CPPv339esp_tls_cfg_server_session_tickets_initP20esp_tls_cfg_server_t"></span><span id="_CPPv239esp_tls_cfg_server_session_tickets_initP20esp_tls_cfg_server_t"></span><span id="esp_tls_cfg_server_session_tickets_init__esp_tls_cfg_server_tP"></span><span class="target" id="esp__tls_8h_1a423d0294ec5f07de5d7f513ecacca7bf"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_tls_cfg_server_session_tickets_init</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv420esp_tls_cfg_server_t" title="esp_tls_cfg_server_t"><span class="n"><span class="pre">esp_tls_cfg_server_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">cfg</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv439esp_tls_cfg_server_session_tickets_initP20esp_tls_cfg_server_t" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>Initialize the server side TLS session ticket context. </p>
<p>This function initializes the server side tls session ticket context which holds all necessary data structures to enable tls session tickets according to RFC5077. Use esp_tls_cfg_server_session_tickets_free to free the data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>cfg</strong> -- <strong>[in]</strong> server configuration as esp_tls_cfg_server_t </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>ESP_OK if setup succeeded ESP_ERR_INVALID_ARG if context is already initialized ESP_ERR_NO_MEM if memory allocation failed ESP_ERR_NOT_SUPPORTED if session tickets are not available due to build configuration ESP_FAIL if setup failed </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv439esp_tls_cfg_server_session_tickets_freeP20esp_tls_cfg_server_t">
<span id="_CPPv339esp_tls_cfg_server_session_tickets_freeP20esp_tls_cfg_server_t"></span><span id="_CPPv239esp_tls_cfg_server_session_tickets_freeP20esp_tls_cfg_server_t"></span><span id="esp_tls_cfg_server_session_tickets_free__esp_tls_cfg_server_tP"></span><span class="target" id="esp__tls_8h_1abc061c0ff0581f85fc38544b911e93fd"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_tls_cfg_server_session_tickets_free</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv420esp_tls_cfg_server_t" title="esp_tls_cfg_server_t"><span class="n"><span class="pre">esp_tls_cfg_server_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">cfg</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv439esp_tls_cfg_server_session_tickets_freeP20esp_tls_cfg_server_t" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>Free the server side TLS session ticket context. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>cfg</strong> -- server configuration as esp_tls_cfg_server_t </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv412esp_tls_initv">
<span id="_CPPv312esp_tls_initv"></span><span id="_CPPv212esp_tls_initv"></span><span id="esp_tls_init__void"></span><span class="target" id="esp__tls_8h_1a170e8b7a469e5126147f57e203908362"></span><a class="reference internal" href="#_CPPv49esp_tls_t" title="esp_tls_t"><span class="n"><span class="pre">esp_tls_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">esp_tls_init</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv412esp_tls_initv" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>Create TLS connection. </p>
<p>This function allocates and initializes esp-tls structure handle.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>tls Pointer to esp-tls as esp-tls handle if successfully initialized, NULL if allocation error </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv421esp_tls_conn_http_newPKcPK13esp_tls_cfg_t">
<span id="_CPPv321esp_tls_conn_http_newPKcPK13esp_tls_cfg_t"></span><span id="_CPPv221esp_tls_conn_http_newPKcPK13esp_tls_cfg_t"></span><span id="esp_tls_conn_http_new__cCP.esp_tls_cfg_tCP"></span><span class="target" id="esp__tls_8h_1a9115950093db97de6b4527bab52f5a28"></span><a class="reference internal" href="#_CPPv49esp_tls_t" title="esp_tls_t"><span class="n"><span class="pre">esp_tls_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">esp_tls_conn_http_new</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">url</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv413esp_tls_cfg_t" title="esp_tls_cfg_t"><span class="n"><span class="pre">esp_tls_cfg_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">cfg</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv421esp_tls_conn_http_newPKcPK13esp_tls_cfg_t" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>Create a new blocking TLS/SSL connection with a given &quot;HTTP&quot; url. </p>
<p>Note: This API is present for backward compatibility reasons. Alternative function with the same functionality is <code class="docutils literal notranslate"><span class="pre">esp_tls_conn_http_new_sync</span></code> (and its asynchronous version <code class="docutils literal notranslate"><span class="pre">esp_tls_conn_http_new_async</span></code>)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>url</strong> -- <strong>[in]</strong> url of host. </p></li>
<li><p><strong>cfg</strong> -- <strong>[in]</strong> TLS configuration as esp_tls_cfg_t. If you wish to open non-TLS connection, keep this NULL. For TLS connection, a pass pointer to 'esp_tls_cfg_t'. At a minimum, this structure should be zero-initialized. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>pointer to esp_tls_t, or NULL if connection couldn't be opened. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv421esp_tls_conn_new_syncPKciiPK13esp_tls_cfg_tP9esp_tls_t">
<span id="_CPPv321esp_tls_conn_new_syncPKciiPK13esp_tls_cfg_tP9esp_tls_t"></span><span id="_CPPv221esp_tls_conn_new_syncPKciiPK13esp_tls_cfg_tP9esp_tls_t"></span><span id="esp_tls_conn_new_sync__cCP.i.i.esp_tls_cfg_tCP.esp_tls_tP"></span><span class="target" id="esp__tls_8h_1a6f572d3c019993073f7c2a7457a2590d"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_tls_conn_new_sync</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">hostname</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">hostlen</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">port</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv413esp_tls_cfg_t" title="esp_tls_cfg_t"><span class="n"><span class="pre">esp_tls_cfg_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">cfg</span></span>, <a class="reference internal" href="#_CPPv49esp_tls_t" title="esp_tls_t"><span class="n"><span class="pre">esp_tls_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">tls</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv421esp_tls_conn_new_syncPKciiPK13esp_tls_cfg_tP9esp_tls_t" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>Create a new blocking TLS/SSL connection. </p>
<p>This function establishes a TLS/SSL connection with the specified host in blocking manner.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>hostname</strong> -- <strong>[in]</strong> Hostname of the host. </p></li>
<li><p><strong>hostlen</strong> -- <strong>[in]</strong> Length of hostname. </p></li>
<li><p><strong>port</strong> -- <strong>[in]</strong> Port number of the host. </p></li>
<li><p><strong>cfg</strong> -- <strong>[in]</strong> TLS configuration as esp_tls_cfg_t. If you wish to open non-TLS connection, keep this NULL. For TLS connection, a pass pointer to esp_tls_cfg_t. At a minimum, this structure should be zero-initialized. </p></li>
<li><p><strong>tls</strong> -- <strong>[in]</strong> Pointer to esp-tls as esp-tls handle.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>-1 If connection establishment fails.</p></li>
<li><p>1 If connection establishment is successful.</p></li>
<li><p>0 If connection state is in progress. </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv426esp_tls_conn_http_new_syncPKcPK13esp_tls_cfg_tP9esp_tls_t">
<span id="_CPPv326esp_tls_conn_http_new_syncPKcPK13esp_tls_cfg_tP9esp_tls_t"></span><span id="_CPPv226esp_tls_conn_http_new_syncPKcPK13esp_tls_cfg_tP9esp_tls_t"></span><span id="esp_tls_conn_http_new_sync__cCP.esp_tls_cfg_tCP.esp_tls_tP"></span><span class="target" id="esp__tls_8h_1a72238d4fdda450e59767508fb5d8d42d"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_tls_conn_http_new_sync</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">url</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv413esp_tls_cfg_t" title="esp_tls_cfg_t"><span class="n"><span class="pre">esp_tls_cfg_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">cfg</span></span>, <a class="reference internal" href="#_CPPv49esp_tls_t" title="esp_tls_t"><span class="n"><span class="pre">esp_tls_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">tls</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv426esp_tls_conn_http_new_syncPKcPK13esp_tls_cfg_tP9esp_tls_t" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>Create a new blocking TLS/SSL connection with a given &quot;HTTP&quot; url. </p>
<p>The behaviour is same as esp_tls_conn_new_sync() API. However this API accepts host's url.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>url</strong> -- <strong>[in]</strong> url of host. </p></li>
<li><p><strong>cfg</strong> -- <strong>[in]</strong> TLS configuration as esp_tls_cfg_t. If you wish to open non-TLS connection, keep this NULL. For TLS connection, a pass pointer to 'esp_tls_cfg_t'. At a minimum, this structure should be zero-initialized. </p></li>
<li><p><strong>tls</strong> -- <strong>[in]</strong> Pointer to esp-tls as esp-tls handle.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>-1 If connection establishment fails.</p></li>
<li><p>1 If connection establishment is successful.</p></li>
<li><p>0 If connection state is in progress. </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv422esp_tls_conn_new_asyncPKciiPK13esp_tls_cfg_tP9esp_tls_t">
<span id="_CPPv322esp_tls_conn_new_asyncPKciiPK13esp_tls_cfg_tP9esp_tls_t"></span><span id="_CPPv222esp_tls_conn_new_asyncPKciiPK13esp_tls_cfg_tP9esp_tls_t"></span><span id="esp_tls_conn_new_async__cCP.i.i.esp_tls_cfg_tCP.esp_tls_tP"></span><span class="target" id="esp__tls_8h_1ab7df4e47259a5b2ce647e5068057584b"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_tls_conn_new_async</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">hostname</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">hostlen</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">port</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv413esp_tls_cfg_t" title="esp_tls_cfg_t"><span class="n"><span class="pre">esp_tls_cfg_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">cfg</span></span>, <a class="reference internal" href="#_CPPv49esp_tls_t" title="esp_tls_t"><span class="n"><span class="pre">esp_tls_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">tls</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv422esp_tls_conn_new_asyncPKciiPK13esp_tls_cfg_tP9esp_tls_t" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>Create a new non-blocking TLS/SSL connection. </p>
<p>This function initiates a non-blocking TLS/SSL connection with the specified host, but due to its non-blocking nature, it doesn't wait for the connection to get established.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>hostname</strong> -- <strong>[in]</strong> Hostname of the host. </p></li>
<li><p><strong>hostlen</strong> -- <strong>[in]</strong> Length of hostname. </p></li>
<li><p><strong>port</strong> -- <strong>[in]</strong> Port number of the host. </p></li>
<li><p><strong>cfg</strong> -- <strong>[in]</strong> TLS configuration as esp_tls_cfg_t. <code class="docutils literal notranslate"><span class="pre">non_block</span></code> member of this structure should be set to be true. </p></li>
<li><p><strong>tls</strong> -- <strong>[in]</strong> pointer to esp-tls as esp-tls handle.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>-1 If connection establishment fails.</p></li>
<li><p>0 If connection establishment is in progress.</p></li>
<li><p>1 If connection establishment is successful. </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv427esp_tls_conn_http_new_asyncPKcPK13esp_tls_cfg_tP9esp_tls_t">
<span id="_CPPv327esp_tls_conn_http_new_asyncPKcPK13esp_tls_cfg_tP9esp_tls_t"></span><span id="_CPPv227esp_tls_conn_http_new_asyncPKcPK13esp_tls_cfg_tP9esp_tls_t"></span><span id="esp_tls_conn_http_new_async__cCP.esp_tls_cfg_tCP.esp_tls_tP"></span><span class="target" id="esp__tls_8h_1a90737cb7324a6cbc05dce7cc4e791f85"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_tls_conn_http_new_async</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">url</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv413esp_tls_cfg_t" title="esp_tls_cfg_t"><span class="n"><span class="pre">esp_tls_cfg_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">cfg</span></span>, <a class="reference internal" href="#_CPPv49esp_tls_t" title="esp_tls_t"><span class="n"><span class="pre">esp_tls_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">tls</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv427esp_tls_conn_http_new_asyncPKcPK13esp_tls_cfg_tP9esp_tls_t" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>Create a new non-blocking TLS/SSL connection with a given &quot;HTTP&quot; url. </p>
<p>The behaviour is same as esp_tls_conn_new_async() API. However this API accepts host's url.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>url</strong> -- <strong>[in]</strong> url of host. </p></li>
<li><p><strong>cfg</strong> -- <strong>[in]</strong> TLS configuration as esp_tls_cfg_t. </p></li>
<li><p><strong>tls</strong> -- <strong>[in]</strong> pointer to esp-tls as esp-tls handle.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>-1 If connection establishment fails.</p></li>
<li><p>0 If connection establishment is in progress.</p></li>
<li><p>1 If connection establishment is successful. </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv418esp_tls_conn_writeP9esp_tls_tPKv6size_t">
<span id="_CPPv318esp_tls_conn_writeP9esp_tls_tPKv6size_t"></span><span id="_CPPv218esp_tls_conn_writeP9esp_tls_tPKv6size_t"></span><span id="esp_tls_conn_write__esp_tls_tP.voidCP.s"></span><span class="target" id="esp__tls_8h_1a71a0ea8689601e16398dbbbdc4150923"></span><span class="n"><span class="pre">ssize_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_tls_conn_write</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv49esp_tls_t" title="esp_tls_t"><span class="n"><span class="pre">esp_tls_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">tls</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">data</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">datalen</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv418esp_tls_conn_writeP9esp_tls_tPKv6size_t" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>Write from buffer 'data' into specified tls connection. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tls</strong> -- <strong>[in]</strong> pointer to esp-tls as esp-tls handle. </p></li>
<li><p><strong>data</strong> -- <strong>[in]</strong> Buffer from which data will be written. </p></li>
<li><p><strong>datalen</strong> -- <strong>[in]</strong> Length of data buffer.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>&gt;=0 if write operation was successful, the return value is the number of bytes actually written to the TLS/SSL connection.</p></li>
<li><p>&lt;0 if write operation was not successful, because either an error occured or an action must be taken by the calling process.</p></li>
<li><p>ESP_TLS_ERR_SSL_WANT_READ/ ESP_TLS_ERR_SSL_WANT_WRITE. if the handshake is incomplete and waiting for data to be available for reading. In this case this functions needs to be called again when the underlying transport is ready for operation. </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv417esp_tls_conn_readP9esp_tls_tPv6size_t">
<span id="_CPPv317esp_tls_conn_readP9esp_tls_tPv6size_t"></span><span id="_CPPv217esp_tls_conn_readP9esp_tls_tPv6size_t"></span><span id="esp_tls_conn_read__esp_tls_tP.voidP.s"></span><span class="target" id="esp__tls_8h_1afbea676cfdb3b763ac456988823c2893"></span><span class="n"><span class="pre">ssize_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_tls_conn_read</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv49esp_tls_t" title="esp_tls_t"><span class="n"><span class="pre">esp_tls_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">tls</span></span>, <span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">data</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">datalen</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv417esp_tls_conn_readP9esp_tls_tPv6size_t" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>Read from specified tls connection into the buffer 'data'. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tls</strong> -- <strong>[in]</strong> pointer to esp-tls as esp-tls handle. </p></li>
<li><p><strong>data</strong> -- <strong>[in]</strong> Buffer to hold read data. </p></li>
<li><p><strong>datalen</strong> -- <strong>[in]</strong> Length of data buffer.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>&gt;0 if read operation was successful, the return value is the number of bytes actually read from the TLS/SSL connection.</p></li>
<li><p>0 if read operation was not successful. The underlying connection was closed.</p></li>
<li><p>&lt;0 if read operation was not successful, because either an error occured or an action must be taken by the calling process. </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv420esp_tls_conn_destroyP9esp_tls_t">
<span id="_CPPv320esp_tls_conn_destroyP9esp_tls_t"></span><span id="_CPPv220esp_tls_conn_destroyP9esp_tls_t"></span><span id="esp_tls_conn_destroy__esp_tls_tP"></span><span class="target" id="esp__tls_8h_1a091472ca3719879e409ce02c1257957d"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_tls_conn_destroy</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv49esp_tls_t" title="esp_tls_t"><span class="n"><span class="pre">esp_tls_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">tls</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv420esp_tls_conn_destroyP9esp_tls_t" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>Close the TLS/SSL connection and free any allocated resources. </p>
<p>This function should be called to close each tls connection opened with esp_tls_conn_new_sync() (or esp_tls_conn_http_new_sync()) and esp_tls_conn_new_async() (or esp_tls_conn_http_new_async()) APIs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>tls</strong> -- <strong>[in]</strong> pointer to esp-tls as esp-tls handle.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>- 0 on success<ul class="simple">
<li><p>-1 if socket error or an invalid argument </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv423esp_tls_get_bytes_availP9esp_tls_t">
<span id="_CPPv323esp_tls_get_bytes_availP9esp_tls_t"></span><span id="_CPPv223esp_tls_get_bytes_availP9esp_tls_t"></span><span id="esp_tls_get_bytes_avail__esp_tls_tP"></span><span class="target" id="esp__tls_8h_1a65725a487d3799015ece1ddf1e9b409d"></span><span class="n"><span class="pre">ssize_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_tls_get_bytes_avail</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv49esp_tls_t" title="esp_tls_t"><span class="n"><span class="pre">esp_tls_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">tls</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv423esp_tls_get_bytes_availP9esp_tls_t" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>Return the number of application data bytes remaining to be read from the current record. </p>
<p>This API is a wrapper over mbedtls's mbedtls_ssl_get_bytes_avail() API.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>tls</strong> -- <strong>[in]</strong> pointer to esp-tls as esp-tls handle.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>-1 in case of invalid arg</p></li>
<li><p>bytes available in the application data record read buffer </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv423esp_tls_get_conn_sockfdP9esp_tls_tPi">
<span id="_CPPv323esp_tls_get_conn_sockfdP9esp_tls_tPi"></span><span id="_CPPv223esp_tls_get_conn_sockfdP9esp_tls_tPi"></span><span id="esp_tls_get_conn_sockfd__esp_tls_tP.iP"></span><span class="target" id="esp__tls_8h_1a5114105e95634af316335787d53c95c4"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_tls_get_conn_sockfd</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv49esp_tls_t" title="esp_tls_t"><span class="n"><span class="pre">esp_tls_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">tls</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">sockfd</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv423esp_tls_get_conn_sockfdP9esp_tls_tPi" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>Returns the connection socket file descriptor from esp_tls session. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tls</strong> -- <strong>[in]</strong> handle to esp_tls context</p></li>
<li><p><strong>sockfd</strong> -- <strong>[out]</strong> int pointer to sockfd value.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>- ESP_OK on success and value of sockfd will be updated with socket file descriptor for connection<ul class="simple">
<li><p>ESP_ERR_INVALID_ARG if (tls == NULL || sockfd == NULL) </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv423esp_tls_set_conn_sockfdP9esp_tls_ti">
<span id="_CPPv323esp_tls_set_conn_sockfdP9esp_tls_ti"></span><span id="_CPPv223esp_tls_set_conn_sockfdP9esp_tls_ti"></span><span id="esp_tls_set_conn_sockfd__esp_tls_tP.i"></span><span class="target" id="esp__tls_8h_1af9136121feb0cc14089b1f1f5fe5ba7b"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_tls_set_conn_sockfd</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv49esp_tls_t" title="esp_tls_t"><span class="n"><span class="pre">esp_tls_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">tls</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">sockfd</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv423esp_tls_set_conn_sockfdP9esp_tls_ti" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>Sets the connection socket file descriptor for the esp_tls session. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tls</strong> -- <strong>[in]</strong> handle to esp_tls context</p></li>
<li><p><strong>sockfd</strong> -- <strong>[in]</strong> sockfd value to set.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>- ESP_OK on success and value of sockfd for the tls connection shall updated withthe provided value<ul class="simple">
<li><p>ESP_ERR_INVALID_ARG if (tls == NULL || sockfd &lt; 0) </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv422esp_tls_get_conn_stateP9esp_tls_tP20esp_tls_conn_state_t">
<span id="_CPPv322esp_tls_get_conn_stateP9esp_tls_tP20esp_tls_conn_state_t"></span><span id="_CPPv222esp_tls_get_conn_stateP9esp_tls_tP20esp_tls_conn_state_t"></span><span id="esp_tls_get_conn_state__esp_tls_tP.esp_tls_conn_state_tP"></span><span class="target" id="esp__tls_8h_1a21e7cccc10a90213b6acd22286f73566"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_tls_get_conn_state</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv49esp_tls_t" title="esp_tls_t"><span class="n"><span class="pre">esp_tls_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">tls</span></span>, <a class="reference internal" href="#_CPPv420esp_tls_conn_state_t" title="esp_tls_conn_state_t"><span class="n"><span class="pre">esp_tls_conn_state_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">conn_state</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv422esp_tls_get_conn_stateP9esp_tls_tP20esp_tls_conn_state_t" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>Gets the connection state for the esp_tls session. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tls</strong> -- <strong>[in]</strong> handle to esp_tls context</p></li>
<li><p><strong>conn_state</strong> -- <strong>[out]</strong> pointer to the connection state value.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>- ESP_OK on success and value of sockfd for the tls connection shall updated withthe provided value<ul class="simple">
<li><p>ESP_ERR_INVALID_ARG (Invalid arguments) </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv422esp_tls_set_conn_stateP9esp_tls_t20esp_tls_conn_state_t">
<span id="_CPPv322esp_tls_set_conn_stateP9esp_tls_t20esp_tls_conn_state_t"></span><span id="_CPPv222esp_tls_set_conn_stateP9esp_tls_t20esp_tls_conn_state_t"></span><span id="esp_tls_set_conn_state__esp_tls_tP.esp_tls_conn_state_t"></span><span class="target" id="esp__tls_8h_1a13b531e3e3394f2998ec4b6213634f7f"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_tls_set_conn_state</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv49esp_tls_t" title="esp_tls_t"><span class="n"><span class="pre">esp_tls_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">tls</span></span>, <a class="reference internal" href="#_CPPv420esp_tls_conn_state_t" title="esp_tls_conn_state_t"><span class="n"><span class="pre">esp_tls_conn_state_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">conn_state</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv422esp_tls_set_conn_stateP9esp_tls_t20esp_tls_conn_state_t" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>Sets the connection state for the esp_tls session. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tls</strong> -- <strong>[in]</strong> handle to esp_tls context</p></li>
<li><p><strong>conn_state</strong> -- <strong>[in]</strong> connection state value to set.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>- ESP_OK on success and value of sockfd for the tls connection shall updated withthe provided value<ul class="simple">
<li><p>ESP_ERR_INVALID_ARG (Invalid arguments) </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv423esp_tls_get_ssl_contextP9esp_tls_t">
<span id="_CPPv323esp_tls_get_ssl_contextP9esp_tls_t"></span><span id="_CPPv223esp_tls_get_ssl_contextP9esp_tls_t"></span><span id="esp_tls_get_ssl_context__esp_tls_tP"></span><span class="target" id="esp__tls_8h_1a883000c5dda81277f2606e7e6ba1ed64"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">esp_tls_get_ssl_context</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv49esp_tls_t" title="esp_tls_t"><span class="n"><span class="pre">esp_tls_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">tls</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv423esp_tls_get_ssl_contextP9esp_tls_t" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>Returns the ssl context. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>tls</strong> -- <strong>[in]</strong> handle to esp_tls context</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>- ssl_ctx pointer to ssl context of underlying TLS layer on success<ul class="simple">
<li><p>NULL in case of error </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv428esp_tls_init_global_ca_storev">
<span id="_CPPv328esp_tls_init_global_ca_storev"></span><span id="_CPPv228esp_tls_init_global_ca_storev"></span><span id="esp_tls_init_global_ca_store__void"></span><span class="target" id="esp__tls_8h_1ac5db9baa6b001f66773e8cf22a494387"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_tls_init_global_ca_store</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv428esp_tls_init_global_ca_storev" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>Create a global CA store, initially empty. </p>
<p>This function should be called if the application wants to use the same CA store for multiple connections. This function initialises the global CA store which can be then set by calling esp_tls_set_global_ca_store(). To be effective, this function must be called before any call to esp_tls_set_global_ca_store().</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p>ESP_OK if creating global CA store was successful.</p></li>
<li><p>ESP_ERR_NO_MEM if an error occured when allocating the mbedTLS resources. </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv427esp_tls_set_global_ca_storePKhKj">
<span id="_CPPv327esp_tls_set_global_ca_storePKhKj"></span><span id="_CPPv227esp_tls_set_global_ca_storePKhKj"></span><span id="esp_tls_set_global_ca_store__unsigned-cCP.unsigned-iC"></span><span class="target" id="esp__tls_8h_1aaa42ae691a6278b74f6208d608263062"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_tls_set_global_ca_store</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">unsigned</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">cacert_pem_buf</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">unsigned</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">cacert_pem_bytes</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv427esp_tls_set_global_ca_storePKhKj" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>Set the global CA store with the buffer provided in pem format. </p>
<p>This function should be called if the application wants to set the global CA store for multiple connections i.e. to add the certificates in the provided buffer to the certificate chain. This function implicitly calls esp_tls_init_global_ca_store() if it has not already been called. The application must call this function before calling esp_tls_conn_new().</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cacert_pem_buf</strong> -- <strong>[in]</strong> Buffer which has certificates in pem format. This buffer is used for creating a global CA store, which can be used by other tls connections. </p></li>
<li><p><strong>cacert_pem_bytes</strong> -- <strong>[in]</strong> Length of the buffer.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK if adding certificates was successful.</p></li>
<li><p>Other if an error occured or an action must be taken by the calling process. </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv428esp_tls_free_global_ca_storev">
<span id="_CPPv328esp_tls_free_global_ca_storev"></span><span id="_CPPv228esp_tls_free_global_ca_storev"></span><span id="esp_tls_free_global_ca_store__void"></span><span class="target" id="esp__tls_8h_1a2b44d254c67397af8801f49219c8c1bc"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_tls_free_global_ca_store</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv428esp_tls_free_global_ca_storev" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>Free the global CA store currently being used. </p>
<p>The memory being used by the global CA store to store all the parsed certificates is freed up. The application can call this API if it no longer needs the global CA store. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv432esp_tls_get_and_clear_last_error22esp_tls_error_handle_tPiPi">
<span id="_CPPv332esp_tls_get_and_clear_last_error22esp_tls_error_handle_tPiPi"></span><span id="_CPPv232esp_tls_get_and_clear_last_error22esp_tls_error_handle_tPiPi"></span><span id="esp_tls_get_and_clear_last_error__esp_tls_error_handle_t.iP.iP"></span><span class="target" id="esp__tls_8h_1ae666402313bbb8e4be4ee44de29a67e5"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_tls_get_and_clear_last_error</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv422esp_tls_error_handle_t" title="esp_tls_error_handle_t"><span class="n"><span class="pre">esp_tls_error_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">h</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">esp_tls_code</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">esp_tls_flags</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv432esp_tls_get_and_clear_last_error22esp_tls_error_handle_tPiPi" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>Returns last error in esp_tls with detailed mbedtls related error codes. The error information is cleared internally upon return. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>h</strong> -- <strong>[in]</strong> esp-tls error handle. </p></li>
<li><p><strong>esp_tls_code</strong> -- <strong>[out]</strong> last error code returned from mbedtls api (set to zero if none) This pointer could be NULL if caller does not care about esp_tls_code </p></li>
<li><p><strong>esp_tls_flags</strong> -- <strong>[out]</strong> last certification verification flags (set to zero if none) This pointer could be NULL if caller does not care about esp_tls_code</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_ERR_INVALID_STATE if invalid parameters</p></li>
<li><p>ESP_OK (0) if no error occurred</p></li>
<li><p>specific error code (based on ESP_ERR_ESP_TLS_BASE) otherwise </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv432esp_tls_get_and_clear_error_type22esp_tls_error_handle_t20esp_tls_error_type_tPi">
<span id="_CPPv332esp_tls_get_and_clear_error_type22esp_tls_error_handle_t20esp_tls_error_type_tPi"></span><span id="_CPPv232esp_tls_get_and_clear_error_type22esp_tls_error_handle_t20esp_tls_error_type_tPi"></span><span id="esp_tls_get_and_clear_error_type__esp_tls_error_handle_t.esp_tls_error_type_t.iP"></span><span class="target" id="esp__tls_8h_1a8c0d8d1814057ad3bc72a440095fd67f"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_tls_get_and_clear_error_type</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv422esp_tls_error_handle_t" title="esp_tls_error_handle_t"><span class="n"><span class="pre">esp_tls_error_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">h</span></span>, <a class="reference internal" href="#_CPPv420esp_tls_error_type_t" title="esp_tls_error_type_t"><span class="n"><span class="pre">esp_tls_error_type_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">err_type</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">error_code</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv432esp_tls_get_and_clear_error_type22esp_tls_error_handle_t20esp_tls_error_type_tPi" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>Returns the last error captured in esp_tls of a specific type The error information is cleared internally upon return. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>h</strong> -- <strong>[in]</strong> esp-tls error handle. </p></li>
<li><p><strong>err_type</strong> -- <strong>[in]</strong> specific error type </p></li>
<li><p><strong>error_code</strong> -- <strong>[out]</strong> last error code returned from mbedtls api (set to zero if none) This pointer could be NULL if caller does not care about esp_tls_code </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_ERR_INVALID_STATE if invalid parameters</p></li>
<li><p>ESP_OK if a valid error returned and was cleared </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv424esp_tls_get_error_handleP9esp_tls_tP22esp_tls_error_handle_t">
<span id="_CPPv324esp_tls_get_error_handleP9esp_tls_tP22esp_tls_error_handle_t"></span><span id="_CPPv224esp_tls_get_error_handleP9esp_tls_tP22esp_tls_error_handle_t"></span><span id="esp_tls_get_error_handle__esp_tls_tP.esp_tls_error_handle_tP"></span><span class="target" id="esp__tls_8h_1ae8756c9807157133575bae45b2f937da"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_tls_get_error_handle</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv49esp_tls_t" title="esp_tls_t"><span class="n"><span class="pre">esp_tls_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">tls</span></span>, <a class="reference internal" href="#_CPPv422esp_tls_error_handle_t" title="esp_tls_error_handle_t"><span class="n"><span class="pre">esp_tls_error_handle_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">error_handle</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv424esp_tls_get_error_handleP9esp_tls_tP22esp_tls_error_handle_t" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>Returns the ESP-TLS error_handle. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tls</strong> -- <strong>[in]</strong> handle to esp_tls context</p></li>
<li><p><strong>error_handle</strong> -- <strong>[out]</strong> pointer to the error handle.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK on success and error_handle will be updated with the ESP-TLS error handle.</p></li>
<li><p>ESP_ERR_INVALID_ARG if (tls == NULL || error_handle == NULL) </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv427esp_tls_get_global_ca_storev">
<span id="_CPPv327esp_tls_get_global_ca_storev"></span><span id="_CPPv227esp_tls_get_global_ca_storev"></span><span id="esp_tls_get_global_ca_store__void"></span><span class="target" id="esp__tls_8h_1aa360359d83c3fe33524f836be12073d8"></span><span class="n"><span class="pre">mbedtls_x509_crt</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">esp_tls_get_global_ca_store</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv427esp_tls_get_global_ca_storev" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>Get the pointer to the global CA store currently being used. </p>
<p>The application must first call esp_tls_set_global_ca_store(). Then the same CA store could be used by the application for APIs other than esp_tls.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Modifying the pointer might cause a failure in verifying the certificates.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p>Pointer to the global CA store currently being used if successful.</p></li>
<li><p>NULL if there is no global CA store set. </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv429esp_tls_get_ciphersuites_listv">
<span id="_CPPv329esp_tls_get_ciphersuites_listv"></span><span id="_CPPv229esp_tls_get_ciphersuites_listv"></span><span id="esp_tls_get_ciphersuites_list__void"></span><span class="target" id="esp__tls_8h_1a631d0e2cae529951596306aa49c08b3e"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">esp_tls_get_ciphersuites_list</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv429esp_tls_get_ciphersuites_listv" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>Get supported TLS ciphersuites list. </p>
<p>See <a class="reference external" href="https://www.iana.org/assignments/tls-parameters/tls-parameters.xhtml#tls-parameters-4">https://www.iana.org/assignments/tls-parameters/tls-parameters.xhtml#tls-parameters-4</a> for the list of ciphersuites</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Pointer to a zero-terminated array of IANA identifiers of TLS ciphersuites. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv429esp_tls_server_session_createP20esp_tls_cfg_server_tiP9esp_tls_t">
<span id="_CPPv329esp_tls_server_session_createP20esp_tls_cfg_server_tiP9esp_tls_t"></span><span id="_CPPv229esp_tls_server_session_createP20esp_tls_cfg_server_tiP9esp_tls_t"></span><span id="esp_tls_server_session_create__esp_tls_cfg_server_tP.i.esp_tls_tP"></span><span class="target" id="esp__tls_8h_1a01f429fad6bca9a1e2c8dd8111464e5f"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_tls_server_session_create</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv420esp_tls_cfg_server_t" title="esp_tls_cfg_server_t"><span class="n"><span class="pre">esp_tls_cfg_server_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">cfg</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">sockfd</span></span>, <a class="reference internal" href="#_CPPv49esp_tls_t" title="esp_tls_t"><span class="n"><span class="pre">esp_tls_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">tls</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv429esp_tls_server_session_createP20esp_tls_cfg_server_tiP9esp_tls_t" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>Create TLS/SSL server session. </p>
<p>This function creates a TLS/SSL server context for already accepted client connection and performs TLS/SSL handshake with the client</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cfg</strong> -- <strong>[in]</strong> Pointer to esp_tls_cfg_server_t </p></li>
<li><p><strong>sockfd</strong> -- <strong>[in]</strong> FD of accepted connection </p></li>
<li><p><strong>tls</strong> -- <strong>[out]</strong> Pointer to allocated esp_tls_t</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>0 if successful</p></li>
<li><p>&lt;0 in case of error </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv429esp_tls_server_session_deleteP9esp_tls_t">
<span id="_CPPv329esp_tls_server_session_deleteP9esp_tls_t"></span><span id="_CPPv229esp_tls_server_session_deleteP9esp_tls_t"></span><span id="esp_tls_server_session_delete__esp_tls_tP"></span><span class="target" id="esp__tls_8h_1afea9c397e33c4a18e0798f8dd184d7f2"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_tls_server_session_delete</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv49esp_tls_t" title="esp_tls_t"><span class="n"><span class="pre">esp_tls_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">tls</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv429esp_tls_server_session_deleteP9esp_tls_t" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>Close the server side TLS/SSL connection and free any allocated resources. </p>
<p>This function should be called to close each tls connection opened with esp_tls_server_session_create()</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>tls</strong> -- <strong>[in]</strong> pointer to esp_tls_t </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv425esp_tls_plain_tcp_connectPKciiPK13esp_tls_cfg_t22esp_tls_error_handle_tPi">
<span id="_CPPv325esp_tls_plain_tcp_connectPKciiPK13esp_tls_cfg_t22esp_tls_error_handle_tPi"></span><span id="_CPPv225esp_tls_plain_tcp_connectPKciiPK13esp_tls_cfg_t22esp_tls_error_handle_tPi"></span><span id="esp_tls_plain_tcp_connect__cCP.i.i.esp_tls_cfg_tCP.esp_tls_error_handle_t.iP"></span><span class="target" id="esp__tls_8h_1a3bc1b3338c3c987f1218ab77ba9d8bdc"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_tls_plain_tcp_connect</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">host</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">hostlen</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">port</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv413esp_tls_cfg_t" title="esp_tls_cfg_t"><span class="n"><span class="pre">esp_tls_cfg_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">cfg</span></span>, <a class="reference internal" href="#_CPPv422esp_tls_error_handle_t" title="esp_tls_error_handle_t"><span class="n"><span class="pre">esp_tls_error_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">error_handle</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">sockfd</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv425esp_tls_plain_tcp_connectPKciiPK13esp_tls_cfg_t22esp_tls_error_handle_tPi" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>Creates a plain TCP connection, returning a valid socket fd on success or an error handle. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>host</strong> -- <strong>[in]</strong> Hostname of the host. </p></li>
<li><p><strong>hostlen</strong> -- <strong>[in]</strong> Length of hostname. </p></li>
<li><p><strong>port</strong> -- <strong>[in]</strong> Port number of the host. </p></li>
<li><p><strong>cfg</strong> -- <strong>[in]</strong> ESP-TLS configuration as esp_tls_cfg_t. </p></li>
<li><p><strong>error_handle</strong> -- <strong>[out]</strong> ESP-TLS error handle holding potential errors occurred during connection </p></li>
<li><p><strong>sockfd</strong> -- <strong>[out]</strong> Socket descriptor if successfully connected on TCP layer </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>ESP_OK on success ESP_ERR_INVALID_ARG if invalid output parameters ESP-TLS based error codes on failure </p>
</dd>
</dl>
</dd></dl>

</section>
<section id="structures">
<h3>Structures<a class="headerlink" href="#structures" title="Permalink to this heading">ï</a></h3>
<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv412psk_key_hint">
<span id="_CPPv312psk_key_hint"></span><span id="_CPPv212psk_key_hint"></span><span id="psk_key_hint"></span><span class="target" id="structpsk__key__hint"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">psk_key_hint</span></span></span><a class="headerlink" href="#_CPPv412psk_key_hint" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>ESP-TLS preshared key and hint structure. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N12psk_key_hint3keyE">
<span id="_CPPv3N12psk_key_hint3keyE"></span><span id="_CPPv2N12psk_key_hint3keyE"></span><span id="psk_key_hint::key__uint8_tCP"></span><span class="target" id="structpsk__key__hint_1ad4f2852253bf5e154e871c0fe4d5289e"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">key</span></span></span><a class="headerlink" href="#_CPPv4N12psk_key_hint3keyE" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>key in PSK authentication mode in binary format </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N12psk_key_hint8key_sizeE">
<span id="_CPPv3N12psk_key_hint8key_sizeE"></span><span id="_CPPv2N12psk_key_hint8key_sizeE"></span><span id="psk_key_hint::key_size__sC"></span><span class="target" id="structpsk__key__hint_1a46c8d28b9ffaa18333ad4fb90047a96e"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">key_size</span></span></span><a class="headerlink" href="#_CPPv4N12psk_key_hint8key_sizeE" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>length of the key </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N12psk_key_hint4hintE">
<span id="_CPPv3N12psk_key_hint4hintE"></span><span id="_CPPv2N12psk_key_hint4hintE"></span><span id="psk_key_hint::hint__cCP"></span><span class="target" id="structpsk__key__hint_1aabfc26a2dfb83a6f23f192ae4b7cd46b"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">hint</span></span></span><a class="headerlink" href="#_CPPv4N12psk_key_hint4hintE" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>hint in PSK authentication mode in string format </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv418tls_keep_alive_cfg">
<span id="_CPPv318tls_keep_alive_cfg"></span><span id="_CPPv218tls_keep_alive_cfg"></span><span id="tls_keep_alive_cfg"></span><span class="target" id="structtls__keep__alive__cfg"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">tls_keep_alive_cfg</span></span></span><a class="headerlink" href="#_CPPv418tls_keep_alive_cfg" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>esp-tls client session ticket ctx </p>
<p>Keep alive parameters structure </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N18tls_keep_alive_cfg17keep_alive_enableE">
<span id="_CPPv3N18tls_keep_alive_cfg17keep_alive_enableE"></span><span id="_CPPv2N18tls_keep_alive_cfg17keep_alive_enableE"></span><span id="tls_keep_alive_cfg::keep_alive_enable__b"></span><span class="target" id="structtls__keep__alive__cfg_1a4df14aaa3d76f8c0abcd8e0bec1dd378"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">keep_alive_enable</span></span></span><a class="headerlink" href="#_CPPv4N18tls_keep_alive_cfg17keep_alive_enableE" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>Enable keep-alive timeout </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N18tls_keep_alive_cfg15keep_alive_idleE">
<span id="_CPPv3N18tls_keep_alive_cfg15keep_alive_idleE"></span><span id="_CPPv2N18tls_keep_alive_cfg15keep_alive_idleE"></span><span id="tls_keep_alive_cfg::keep_alive_idle__i"></span><span class="target" id="structtls__keep__alive__cfg_1aff1f7028f0ed463922794b49d3f60160"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">keep_alive_idle</span></span></span><a class="headerlink" href="#_CPPv4N18tls_keep_alive_cfg15keep_alive_idleE" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>Keep-alive idle time (second) </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N18tls_keep_alive_cfg19keep_alive_intervalE">
<span id="_CPPv3N18tls_keep_alive_cfg19keep_alive_intervalE"></span><span id="_CPPv2N18tls_keep_alive_cfg19keep_alive_intervalE"></span><span id="tls_keep_alive_cfg::keep_alive_interval__i"></span><span class="target" id="structtls__keep__alive__cfg_1ab810b5d2913ad98659f1c62ff7d22547"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">keep_alive_interval</span></span></span><a class="headerlink" href="#_CPPv4N18tls_keep_alive_cfg19keep_alive_intervalE" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>Keep-alive interval time (second) </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N18tls_keep_alive_cfg16keep_alive_countE">
<span id="_CPPv3N18tls_keep_alive_cfg16keep_alive_countE"></span><span id="_CPPv2N18tls_keep_alive_cfg16keep_alive_countE"></span><span id="tls_keep_alive_cfg::keep_alive_count__i"></span><span class="target" id="structtls__keep__alive__cfg_1a5d3ea34914d933d360edd311bd3416a6"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">keep_alive_count</span></span></span><a class="headerlink" href="#_CPPv4N18tls_keep_alive_cfg16keep_alive_countE" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>Keep-alive packet retry send count </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv411esp_tls_cfg">
<span id="_CPPv311esp_tls_cfg"></span><span id="_CPPv211esp_tls_cfg"></span><span id="esp_tls_cfg"></span><span class="target" id="structesp__tls__cfg"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_tls_cfg</span></span></span><a class="headerlink" href="#_CPPv411esp_tls_cfg" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>ESP-TLS configuration parameters. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Note about format of certificates:<ul class="simple">
<li><p>This structure includes certificates of a Certificate Authority, of client or server as well as private keys, which may be of PEM or DER format. In case of PEM format, the buffer must be NULL terminated (with NULL character included in certificate size).</p></li>
<li><p>Certificate Authority's certificate may be a chain of certificates in case of PEM format, but could be only one certificate in case of DER format</p></li>
<li><p>Variables names of certificates and private key buffers and sizes are defined as unions providing backward compatibility for legacy *_pem_buf and *_pem_bytes names which suggested only PEM format was supported. It is encouraged to use generic names such as cacert_buf and cacert_bytes. </p></li>
</ul>
</p>
</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N11esp_tls_cfg11alpn_protosE">
<span id="_CPPv3N11esp_tls_cfg11alpn_protosE"></span><span id="_CPPv2N11esp_tls_cfg11alpn_protosE"></span><span id="esp_tls_cfg::alpn_protos__cCPP"></span><span class="target" id="structesp__tls__cfg_1a368bf93f1f755c79b0dc9a5cb6abcc74"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">alpn_protos</span></span></span><a class="headerlink" href="#_CPPv4N11esp_tls_cfg11alpn_protosE" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>Application protocols required for HTTP2. If HTTP2/ALPN support is required, a list of protocols that should be negotiated. The format is length followed by protocol name. For the most common cases the following is ok: const char **alpn_protos = { &quot;h2&quot;, NULL };<ul class="simple">
<li><p>where 'h2' is the protocol name </p></li>
</ul>
</p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N11esp_tls_cfg10cacert_bufE">
<span id="_CPPv3N11esp_tls_cfg10cacert_bufE"></span><span id="_CPPv2N11esp_tls_cfg10cacert_bufE"></span><span id="esp_tls_cfg::cacert_buf__unsigned-cCP"></span><span class="target" id="structesp__tls__cfg_1a0b0ae5994fd8a0be592fad8ae6443419"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">unsigned</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">cacert_buf</span></span></span><a class="headerlink" href="#_CPPv4N11esp_tls_cfg10cacert_bufE" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>Certificate Authority's certificate in a buffer. Format may be PEM or DER, depending on mbedtls-support This buffer should be NULL terminated in case of PEM </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N11esp_tls_cfg14cacert_pem_bufE">
<span id="_CPPv3N11esp_tls_cfg14cacert_pem_bufE"></span><span id="_CPPv2N11esp_tls_cfg14cacert_pem_bufE"></span><span id="esp_tls_cfg::cacert_pem_buf__unsigned-cCP"></span><span class="target" id="structesp__tls__cfg_1a4fa0508dadada110356986b3d08a73b2"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">unsigned</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">cacert_pem_buf</span></span></span><a class="headerlink" href="#_CPPv4N11esp_tls_cfg14cacert_pem_bufE" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>CA certificate buffer legacy name </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N11esp_tls_cfg12cacert_bytesE">
<span id="_CPPv3N11esp_tls_cfg12cacert_bytesE"></span><span id="_CPPv2N11esp_tls_cfg12cacert_bytesE"></span><span id="esp_tls_cfg::cacert_bytes__unsigned-i"></span><span class="target" id="structesp__tls__cfg_1ab08168639a5790407d12a3a62675551e"></span><span class="kt"><span class="pre">unsigned</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">cacert_bytes</span></span></span><a class="headerlink" href="#_CPPv4N11esp_tls_cfg12cacert_bytesE" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>Size of Certificate Authority certificate pointed to by cacert_buf (including NULL-terminator in case of PEM format) </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N11esp_tls_cfg16cacert_pem_bytesE">
<span id="_CPPv3N11esp_tls_cfg16cacert_pem_bytesE"></span><span id="_CPPv2N11esp_tls_cfg16cacert_pem_bytesE"></span><span id="esp_tls_cfg::cacert_pem_bytes__unsigned-i"></span><span class="target" id="structesp__tls__cfg_1a0b6069bf420883b8b2e06e39877126b5"></span><span class="kt"><span class="pre">unsigned</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">cacert_pem_bytes</span></span></span><a class="headerlink" href="#_CPPv4N11esp_tls_cfg16cacert_pem_bytesE" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>Size of Certificate Authority certificate legacy name </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N11esp_tls_cfg14clientcert_bufE">
<span id="_CPPv3N11esp_tls_cfg14clientcert_bufE"></span><span id="_CPPv2N11esp_tls_cfg14clientcert_bufE"></span><span id="esp_tls_cfg::clientcert_buf__unsigned-cCP"></span><span class="target" id="structesp__tls__cfg_1ac160e62de31e55f5062e5c194b763fb6"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">unsigned</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">clientcert_buf</span></span></span><a class="headerlink" href="#_CPPv4N11esp_tls_cfg14clientcert_bufE" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>Client certificate in a buffer Format may be PEM or DER, depending on mbedtls-support This buffer should be NULL terminated in case of PEM </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N11esp_tls_cfg18clientcert_pem_bufE">
<span id="_CPPv3N11esp_tls_cfg18clientcert_pem_bufE"></span><span id="_CPPv2N11esp_tls_cfg18clientcert_pem_bufE"></span><span id="esp_tls_cfg::clientcert_pem_buf__unsigned-cCP"></span><span class="target" id="structesp__tls__cfg_1af501892289c022b3a611189d1df36fad"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">unsigned</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">clientcert_pem_buf</span></span></span><a class="headerlink" href="#_CPPv4N11esp_tls_cfg18clientcert_pem_bufE" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>Client certificate legacy name </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N11esp_tls_cfg16clientcert_bytesE">
<span id="_CPPv3N11esp_tls_cfg16clientcert_bytesE"></span><span id="_CPPv2N11esp_tls_cfg16clientcert_bytesE"></span><span id="esp_tls_cfg::clientcert_bytes__unsigned-i"></span><span class="target" id="structesp__tls__cfg_1a233de4c096e63beef6f406ba95abb0d1"></span><span class="kt"><span class="pre">unsigned</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">clientcert_bytes</span></span></span><a class="headerlink" href="#_CPPv4N11esp_tls_cfg16clientcert_bytesE" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>Size of client certificate pointed to by clientcert_pem_buf (including NULL-terminator in case of PEM format) </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N11esp_tls_cfg20clientcert_pem_bytesE">
<span id="_CPPv3N11esp_tls_cfg20clientcert_pem_bytesE"></span><span id="_CPPv2N11esp_tls_cfg20clientcert_pem_bytesE"></span><span id="esp_tls_cfg::clientcert_pem_bytes__unsigned-i"></span><span class="target" id="structesp__tls__cfg_1a1a5eb866ceb8545b22f9df943e5d7fa4"></span><span class="kt"><span class="pre">unsigned</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">clientcert_pem_bytes</span></span></span><a class="headerlink" href="#_CPPv4N11esp_tls_cfg20clientcert_pem_bytesE" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>Size of client certificate legacy name </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N11esp_tls_cfg13clientkey_bufE">
<span id="_CPPv3N11esp_tls_cfg13clientkey_bufE"></span><span id="_CPPv2N11esp_tls_cfg13clientkey_bufE"></span><span id="esp_tls_cfg::clientkey_buf__unsigned-cCP"></span><span class="target" id="structesp__tls__cfg_1af47d888f1069b0288d445f04af8740ca"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">unsigned</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">clientkey_buf</span></span></span><a class="headerlink" href="#_CPPv4N11esp_tls_cfg13clientkey_bufE" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>Client key in a buffer Format may be PEM or DER, depending on mbedtls-support This buffer should be NULL terminated in case of PEM </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N11esp_tls_cfg17clientkey_pem_bufE">
<span id="_CPPv3N11esp_tls_cfg17clientkey_pem_bufE"></span><span id="_CPPv2N11esp_tls_cfg17clientkey_pem_bufE"></span><span id="esp_tls_cfg::clientkey_pem_buf__unsigned-cCP"></span><span class="target" id="structesp__tls__cfg_1a0a4d2f63c91bfa9f3c1fe876f716d0ee"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">unsigned</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">clientkey_pem_buf</span></span></span><a class="headerlink" href="#_CPPv4N11esp_tls_cfg17clientkey_pem_bufE" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>Client key legacy name </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N11esp_tls_cfg15clientkey_bytesE">
<span id="_CPPv3N11esp_tls_cfg15clientkey_bytesE"></span><span id="_CPPv2N11esp_tls_cfg15clientkey_bytesE"></span><span id="esp_tls_cfg::clientkey_bytes__unsigned-i"></span><span class="target" id="structesp__tls__cfg_1ae013e566fafcbec74b70d3b960f6584e"></span><span class="kt"><span class="pre">unsigned</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">clientkey_bytes</span></span></span><a class="headerlink" href="#_CPPv4N11esp_tls_cfg15clientkey_bytesE" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>Size of client key pointed to by clientkey_pem_buf (including NULL-terminator in case of PEM format) </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N11esp_tls_cfg19clientkey_pem_bytesE">
<span id="_CPPv3N11esp_tls_cfg19clientkey_pem_bytesE"></span><span id="_CPPv2N11esp_tls_cfg19clientkey_pem_bytesE"></span><span id="esp_tls_cfg::clientkey_pem_bytes__unsigned-i"></span><span class="target" id="structesp__tls__cfg_1ad89af0097b97fa4105080097ed0177d2"></span><span class="kt"><span class="pre">unsigned</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">clientkey_pem_bytes</span></span></span><a class="headerlink" href="#_CPPv4N11esp_tls_cfg19clientkey_pem_bytesE" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>Size of client key legacy name </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N11esp_tls_cfg18clientkey_passwordE">
<span id="_CPPv3N11esp_tls_cfg18clientkey_passwordE"></span><span id="_CPPv2N11esp_tls_cfg18clientkey_passwordE"></span><span id="esp_tls_cfg::clientkey_password__unsigned-cCP"></span><span class="target" id="structesp__tls__cfg_1a55dea72dc80af9c7a8adebc80a70e377"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">unsigned</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">clientkey_password</span></span></span><a class="headerlink" href="#_CPPv4N11esp_tls_cfg18clientkey_passwordE" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>Client key decryption password string </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N11esp_tls_cfg22clientkey_password_lenE">
<span id="_CPPv3N11esp_tls_cfg22clientkey_password_lenE"></span><span id="_CPPv2N11esp_tls_cfg22clientkey_password_lenE"></span><span id="esp_tls_cfg::clientkey_password_len__unsigned-i"></span><span class="target" id="structesp__tls__cfg_1a00d18c06fa50c529819e986d12f6085a"></span><span class="kt"><span class="pre">unsigned</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">clientkey_password_len</span></span></span><a class="headerlink" href="#_CPPv4N11esp_tls_cfg22clientkey_password_lenE" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>String length of the password pointed to by clientkey_password </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N11esp_tls_cfg20use_ecdsa_peripheralE">
<span id="_CPPv3N11esp_tls_cfg20use_ecdsa_peripheralE"></span><span id="_CPPv2N11esp_tls_cfg20use_ecdsa_peripheralE"></span><span id="esp_tls_cfg::use_ecdsa_peripheral__b"></span><span class="target" id="structesp__tls__cfg_1aaf13f34f7ac9d2e8154e38923d37a2c3"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">use_ecdsa_peripheral</span></span></span><a class="headerlink" href="#_CPPv4N11esp_tls_cfg20use_ecdsa_peripheralE" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>Use the ECDSA peripheral for the private key operations </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N11esp_tls_cfg19ecdsa_key_efuse_blkE">
<span id="_CPPv3N11esp_tls_cfg19ecdsa_key_efuse_blkE"></span><span id="_CPPv2N11esp_tls_cfg19ecdsa_key_efuse_blkE"></span><span id="esp_tls_cfg::ecdsa_key_efuse_blk__uint8_t"></span><span class="target" id="structesp__tls__cfg_1ac3d70a47e8bfadf3050a7437e90dc761"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ecdsa_key_efuse_blk</span></span></span><a class="headerlink" href="#_CPPv4N11esp_tls_cfg19ecdsa_key_efuse_blkE" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>The efuse block where the ECDSA key is stored </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N11esp_tls_cfg9non_blockE">
<span id="_CPPv3N11esp_tls_cfg9non_blockE"></span><span id="_CPPv2N11esp_tls_cfg9non_blockE"></span><span id="esp_tls_cfg::non_block__b"></span><span class="target" id="structesp__tls__cfg_1ab8c43e7f17954ecdda7662b6c4251f16"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">non_block</span></span></span><a class="headerlink" href="#_CPPv4N11esp_tls_cfg9non_blockE" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>Configure non-blocking mode. If set to true the underneath socket will be configured in non blocking mode after tls session is established </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N11esp_tls_cfg18use_secure_elementE">
<span id="_CPPv3N11esp_tls_cfg18use_secure_elementE"></span><span id="_CPPv2N11esp_tls_cfg18use_secure_elementE"></span><span id="esp_tls_cfg::use_secure_element__b"></span><span class="target" id="structesp__tls__cfg_1add1602f7606ed0c6683ecd48052ac0d9"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">use_secure_element</span></span></span><a class="headerlink" href="#_CPPv4N11esp_tls_cfg18use_secure_elementE" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>Enable this option to use secure element or atecc608a chip </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N11esp_tls_cfg10timeout_msE">
<span id="_CPPv3N11esp_tls_cfg10timeout_msE"></span><span id="_CPPv2N11esp_tls_cfg10timeout_msE"></span><span id="esp_tls_cfg::timeout_ms__i"></span><span class="target" id="structesp__tls__cfg_1ade85facf1bb21d01dc435cdcb2623f69"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">timeout_ms</span></span></span><a class="headerlink" href="#_CPPv4N11esp_tls_cfg10timeout_msE" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>Network timeout in milliseconds. Note: If this value is not set, by default the timeout is set to 10 seconds. If you wish that the session should wait indefinitely then please use a larger value e.g., INT32_MAX </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N11esp_tls_cfg19use_global_ca_storeE">
<span id="_CPPv3N11esp_tls_cfg19use_global_ca_storeE"></span><span id="_CPPv2N11esp_tls_cfg19use_global_ca_storeE"></span><span id="esp_tls_cfg::use_global_ca_store__b"></span><span class="target" id="structesp__tls__cfg_1a230c094a18df0b86e42ea039ef698bab"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">use_global_ca_store</span></span></span><a class="headerlink" href="#_CPPv4N11esp_tls_cfg19use_global_ca_storeE" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>Use a global ca_store for all the connections in which this bool is set. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N11esp_tls_cfg11common_nameE">
<span id="_CPPv3N11esp_tls_cfg11common_nameE"></span><span id="_CPPv2N11esp_tls_cfg11common_nameE"></span><span id="esp_tls_cfg::common_name__cCP"></span><span class="target" id="structesp__tls__cfg_1ad7be332ca570b700c0a74dda0926ef64"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">common_name</span></span></span><a class="headerlink" href="#_CPPv4N11esp_tls_cfg11common_nameE" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>If non-NULL, server certificate CN must match this name. If NULL, server certificate CN must match hostname. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N11esp_tls_cfg16skip_common_nameE">
<span id="_CPPv3N11esp_tls_cfg16skip_common_nameE"></span><span id="_CPPv2N11esp_tls_cfg16skip_common_nameE"></span><span id="esp_tls_cfg::skip_common_name__b"></span><span class="target" id="structesp__tls__cfg_1ad91ed027a942386e5459ecff44c4c26a"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">skip_common_name</span></span></span><a class="headerlink" href="#_CPPv4N11esp_tls_cfg16skip_common_nameE" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>Skip any validation of server certificate CN field </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N11esp_tls_cfg14keep_alive_cfgE">
<span id="_CPPv3N11esp_tls_cfg14keep_alive_cfgE"></span><span id="_CPPv2N11esp_tls_cfg14keep_alive_cfgE"></span><span id="esp_tls_cfg::keep_alive_cfg__tls_keep_alive_cfg_tP"></span><span class="target" id="structesp__tls__cfg_1a80ba0570705a721b2b21e96d966830e9"></span><a class="reference internal" href="#_CPPv420tls_keep_alive_cfg_t" title="tls_keep_alive_cfg_t"><span class="n"><span class="pre">tls_keep_alive_cfg_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">keep_alive_cfg</span></span></span><a class="headerlink" href="#_CPPv4N11esp_tls_cfg14keep_alive_cfgE" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>Enable TCP keep-alive timeout for SSL connection </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N11esp_tls_cfg12psk_hint_keyE">
<span id="_CPPv3N11esp_tls_cfg12psk_hint_keyE"></span><span id="_CPPv2N11esp_tls_cfg12psk_hint_keyE"></span><span id="esp_tls_cfg::psk_hint_key__psk_hint_key_tCP"></span><span class="target" id="structesp__tls__cfg_1ae28afdbe4be88a977151adf2525fc764"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv414psk_hint_key_t" title="psk_hint_key_t"><span class="n"><span class="pre">psk_hint_key_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">psk_hint_key</span></span></span><a class="headerlink" href="#_CPPv4N11esp_tls_cfg12psk_hint_keyE" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>Pointer to PSK hint and key. if not NULL (and certificates are NULL) then PSK authentication is enabled with configured setup. Important note: the pointer must be valid for connection </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N11esp_tls_cfg17crt_bundle_attachE">
<span id="_CPPv3N11esp_tls_cfg17crt_bundle_attachE"></span><span id="_CPPv2N11esp_tls_cfg17crt_bundle_attachE"></span><span class="target" id="structesp__tls__cfg_1a0319b39ce1aa78ab55eaf1bc87d621aa"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">crt_bundle_attach</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">conf</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#_CPPv4N11esp_tls_cfg17crt_bundle_attachE" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>Function pointer to esp_crt_bundle_attach. Enables the use of certification bundle for server verification, must be enabled in menuconfig </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N11esp_tls_cfg7ds_dataE">
<span id="_CPPv3N11esp_tls_cfg7ds_dataE"></span><span id="_CPPv2N11esp_tls_cfg7ds_dataE"></span><span id="esp_tls_cfg::ds_data__voidP"></span><span class="target" id="structesp__tls__cfg_1a7de3d704d5d32bbcfe2e179cb1076913"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">ds_data</span></span></span><a class="headerlink" href="#_CPPv4N11esp_tls_cfg7ds_dataE" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>Pointer for digital signature peripheral context </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N11esp_tls_cfg12is_plain_tcpE">
<span id="_CPPv3N11esp_tls_cfg12is_plain_tcpE"></span><span id="_CPPv2N11esp_tls_cfg12is_plain_tcpE"></span><span id="esp_tls_cfg::is_plain_tcp__b"></span><span class="target" id="structesp__tls__cfg_1ae35bd067520387c3bec059991df5c159"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">is_plain_tcp</span></span></span><a class="headerlink" href="#_CPPv4N11esp_tls_cfg12is_plain_tcpE" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>Use non-TLS connection: When set to true, the esp-tls uses plain TCP transport rather then TLS/SSL connection. Note, that it is possible to connect using a plain tcp transport directly with esp_tls_plain_tcp_connect() API </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N11esp_tls_cfg7if_nameE">
<span id="_CPPv3N11esp_tls_cfg7if_nameE"></span><span id="_CPPv2N11esp_tls_cfg7if_nameE"></span><span id="esp_tls_cfg::if_name__ifreqP"></span><span class="target" id="structesp__tls__cfg_1af3dd4c57e8906c17bb35b4e15a1b95b8"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">ifreq</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">if_name</span></span></span><a class="headerlink" href="#_CPPv4N11esp_tls_cfg7if_nameE" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>The name of interface for data to go through. Use the default interface without setting </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N11esp_tls_cfg11addr_familyE">
<span id="_CPPv3N11esp_tls_cfg11addr_familyE"></span><span id="_CPPv2N11esp_tls_cfg11addr_familyE"></span><span id="esp_tls_cfg::addr_family__esp_tls_addr_family_t"></span><span class="target" id="structesp__tls__cfg_1abfd35d920a5d0ba09819e765eaa0a152"></span><a class="reference internal" href="#_CPPv421esp_tls_addr_family_t" title="esp_tls_addr_family_t"><span class="n"><span class="pre">esp_tls_addr_family_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">addr_family</span></span></span><a class="headerlink" href="#_CPPv4N11esp_tls_cfg11addr_familyE" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>The address family to use when connecting to a host. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N11esp_tls_cfg17ciphersuites_listE">
<span id="_CPPv3N11esp_tls_cfg17ciphersuites_listE"></span><span id="_CPPv2N11esp_tls_cfg17ciphersuites_listE"></span><span id="esp_tls_cfg::ciphersuites_list__iCP"></span><span class="target" id="structesp__tls__cfg_1a2e4258a6ba17cdee1a59a320d15b0ad0"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">ciphersuites_list</span></span></span><a class="headerlink" href="#_CPPv4N11esp_tls_cfg17ciphersuites_listE" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>Pointer to a zero-terminated array of IANA identifiers of TLS ciphersuites. Please check the list validity by esp_tls_get_ciphersuites_list() API </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N11esp_tls_cfg11tls_versionE">
<span id="_CPPv3N11esp_tls_cfg11tls_versionE"></span><span id="_CPPv2N11esp_tls_cfg11tls_versionE"></span><span id="esp_tls_cfg::tls_version__esp_tls_proto_ver_t"></span><span class="target" id="structesp__tls__cfg_1af516c1bc2605546ad047f6318824376c"></span><a class="reference internal" href="#_CPPv419esp_tls_proto_ver_t" title="esp_tls_proto_ver_t"><span class="n"><span class="pre">esp_tls_proto_ver_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">tls_version</span></span></span><a class="headerlink" href="#_CPPv4N11esp_tls_cfg11tls_versionE" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>TLS protocol version of the connection, e.g., TLS 1.2, TLS 1.3 (default - no preference) </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv418esp_tls_cfg_server">
<span id="_CPPv318esp_tls_cfg_server"></span><span id="_CPPv218esp_tls_cfg_server"></span><span id="esp_tls_cfg_server"></span><span class="target" id="structesp__tls__cfg__server"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_tls_cfg_server</span></span></span><a class="headerlink" href="#_CPPv418esp_tls_cfg_server" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>ESP-TLS Server configuration parameters. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N18esp_tls_cfg_server11alpn_protosE">
<span id="_CPPv3N18esp_tls_cfg_server11alpn_protosE"></span><span id="_CPPv2N18esp_tls_cfg_server11alpn_protosE"></span><span id="esp_tls_cfg_server::alpn_protos__cCPP"></span><span class="target" id="structesp__tls__cfg__server_1ade2bc3d361bfccc8d075f474265e5c54"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">alpn_protos</span></span></span><a class="headerlink" href="#_CPPv4N18esp_tls_cfg_server11alpn_protosE" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>Application protocols required for HTTP2. If HTTP2/ALPN support is required, a list of protocols that should be negotiated. The format is length followed by protocol name. For the most common cases the following is ok: const char **alpn_protos = { &quot;h2&quot;, NULL };<ul class="simple">
<li><p>where 'h2' is the protocol name </p></li>
</ul>
</p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N18esp_tls_cfg_server10cacert_bufE">
<span id="_CPPv3N18esp_tls_cfg_server10cacert_bufE"></span><span id="_CPPv2N18esp_tls_cfg_server10cacert_bufE"></span><span id="esp_tls_cfg_server::cacert_buf__unsigned-cCP"></span><span class="target" id="structesp__tls__cfg__server_1ac0aab89488875eb71b384d7189423259"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">unsigned</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">cacert_buf</span></span></span><a class="headerlink" href="#_CPPv4N18esp_tls_cfg_server10cacert_bufE" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>Client CA certificate in a buffer. This buffer should be NULL terminated </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N18esp_tls_cfg_server14cacert_pem_bufE">
<span id="_CPPv3N18esp_tls_cfg_server14cacert_pem_bufE"></span><span id="_CPPv2N18esp_tls_cfg_server14cacert_pem_bufE"></span><span id="esp_tls_cfg_server::cacert_pem_buf__unsigned-cCP"></span><span class="target" id="structesp__tls__cfg__server_1a6f8c0dfa83ed11b8ec2b04db2c532340"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">unsigned</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">cacert_pem_buf</span></span></span><a class="headerlink" href="#_CPPv4N18esp_tls_cfg_server14cacert_pem_bufE" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>Client CA certificate legacy name </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N18esp_tls_cfg_server12cacert_bytesE">
<span id="_CPPv3N18esp_tls_cfg_server12cacert_bytesE"></span><span id="_CPPv2N18esp_tls_cfg_server12cacert_bytesE"></span><span id="esp_tls_cfg_server::cacert_bytes__unsigned-i"></span><span class="target" id="structesp__tls__cfg__server_1a2f48c1af3309d16ff65c60a6db66ce9a"></span><span class="kt"><span class="pre">unsigned</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">cacert_bytes</span></span></span><a class="headerlink" href="#_CPPv4N18esp_tls_cfg_server12cacert_bytesE" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>Size of client CA certificate pointed to by cacert_pem_buf </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N18esp_tls_cfg_server16cacert_pem_bytesE">
<span id="_CPPv3N18esp_tls_cfg_server16cacert_pem_bytesE"></span><span id="_CPPv2N18esp_tls_cfg_server16cacert_pem_bytesE"></span><span id="esp_tls_cfg_server::cacert_pem_bytes__unsigned-i"></span><span class="target" id="structesp__tls__cfg__server_1a3a88aa79ee61b207ad794d58ced905ca"></span><span class="kt"><span class="pre">unsigned</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">cacert_pem_bytes</span></span></span><a class="headerlink" href="#_CPPv4N18esp_tls_cfg_server16cacert_pem_bytesE" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>Size of client CA certificate legacy name </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N18esp_tls_cfg_server14servercert_bufE">
<span id="_CPPv3N18esp_tls_cfg_server14servercert_bufE"></span><span id="_CPPv2N18esp_tls_cfg_server14servercert_bufE"></span><span id="esp_tls_cfg_server::servercert_buf__unsigned-cCP"></span><span class="target" id="structesp__tls__cfg__server_1a0701eadec9eb389aaeb6c0e6161cb3c6"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">unsigned</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">servercert_buf</span></span></span><a class="headerlink" href="#_CPPv4N18esp_tls_cfg_server14servercert_bufE" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>Server certificate in a buffer This buffer should be NULL terminated </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N18esp_tls_cfg_server18servercert_pem_bufE">
<span id="_CPPv3N18esp_tls_cfg_server18servercert_pem_bufE"></span><span id="_CPPv2N18esp_tls_cfg_server18servercert_pem_bufE"></span><span id="esp_tls_cfg_server::servercert_pem_buf__unsigned-cCP"></span><span class="target" id="structesp__tls__cfg__server_1ad349b46ed0d515ad5ef0764d9f4a6bfb"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">unsigned</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">servercert_pem_buf</span></span></span><a class="headerlink" href="#_CPPv4N18esp_tls_cfg_server18servercert_pem_bufE" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>Server certificate legacy name </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N18esp_tls_cfg_server16servercert_bytesE">
<span id="_CPPv3N18esp_tls_cfg_server16servercert_bytesE"></span><span id="_CPPv2N18esp_tls_cfg_server16servercert_bytesE"></span><span id="esp_tls_cfg_server::servercert_bytes__unsigned-i"></span><span class="target" id="structesp__tls__cfg__server_1ad14c40b872c037016dba426d545c8f1f"></span><span class="kt"><span class="pre">unsigned</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">servercert_bytes</span></span></span><a class="headerlink" href="#_CPPv4N18esp_tls_cfg_server16servercert_bytesE" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>Size of server certificate pointed to by servercert_pem_buf </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N18esp_tls_cfg_server20servercert_pem_bytesE">
<span id="_CPPv3N18esp_tls_cfg_server20servercert_pem_bytesE"></span><span id="_CPPv2N18esp_tls_cfg_server20servercert_pem_bytesE"></span><span id="esp_tls_cfg_server::servercert_pem_bytes__unsigned-i"></span><span class="target" id="structesp__tls__cfg__server_1a72ec9a5a816ad1977bdaf56dd1aa8250"></span><span class="kt"><span class="pre">unsigned</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">servercert_pem_bytes</span></span></span><a class="headerlink" href="#_CPPv4N18esp_tls_cfg_server20servercert_pem_bytesE" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>Size of server certificate legacy name </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N18esp_tls_cfg_server13serverkey_bufE">
<span id="_CPPv3N18esp_tls_cfg_server13serverkey_bufE"></span><span id="_CPPv2N18esp_tls_cfg_server13serverkey_bufE"></span><span id="esp_tls_cfg_server::serverkey_buf__unsigned-cCP"></span><span class="target" id="structesp__tls__cfg__server_1a3709ffbc78dec1c5844d9376dd17e217"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">unsigned</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">serverkey_buf</span></span></span><a class="headerlink" href="#_CPPv4N18esp_tls_cfg_server13serverkey_bufE" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>Server key in a buffer This buffer should be NULL terminated </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N18esp_tls_cfg_server17serverkey_pem_bufE">
<span id="_CPPv3N18esp_tls_cfg_server17serverkey_pem_bufE"></span><span id="_CPPv2N18esp_tls_cfg_server17serverkey_pem_bufE"></span><span id="esp_tls_cfg_server::serverkey_pem_buf__unsigned-cCP"></span><span class="target" id="structesp__tls__cfg__server_1adfd69e8e657ce99f233c3ff932d4b50d"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">unsigned</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">serverkey_pem_buf</span></span></span><a class="headerlink" href="#_CPPv4N18esp_tls_cfg_server17serverkey_pem_bufE" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>Server key legacy name </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N18esp_tls_cfg_server15serverkey_bytesE">
<span id="_CPPv3N18esp_tls_cfg_server15serverkey_bytesE"></span><span id="_CPPv2N18esp_tls_cfg_server15serverkey_bytesE"></span><span id="esp_tls_cfg_server::serverkey_bytes__unsigned-i"></span><span class="target" id="structesp__tls__cfg__server_1aa979b3feddff53516080dff9563b23c4"></span><span class="kt"><span class="pre">unsigned</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">serverkey_bytes</span></span></span><a class="headerlink" href="#_CPPv4N18esp_tls_cfg_server15serverkey_bytesE" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>Size of server key pointed to by serverkey_pem_buf </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N18esp_tls_cfg_server19serverkey_pem_bytesE">
<span id="_CPPv3N18esp_tls_cfg_server19serverkey_pem_bytesE"></span><span id="_CPPv2N18esp_tls_cfg_server19serverkey_pem_bytesE"></span><span id="esp_tls_cfg_server::serverkey_pem_bytes__unsigned-i"></span><span class="target" id="structesp__tls__cfg__server_1a37c04ad7f89538aaac7dabe24bffdd8f"></span><span class="kt"><span class="pre">unsigned</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">serverkey_pem_bytes</span></span></span><a class="headerlink" href="#_CPPv4N18esp_tls_cfg_server19serverkey_pem_bytesE" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>Size of server key legacy name </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N18esp_tls_cfg_server18serverkey_passwordE">
<span id="_CPPv3N18esp_tls_cfg_server18serverkey_passwordE"></span><span id="_CPPv2N18esp_tls_cfg_server18serverkey_passwordE"></span><span id="esp_tls_cfg_server::serverkey_password__unsigned-cCP"></span><span class="target" id="structesp__tls__cfg__server_1a93bff1d9d81dddf2cf9cc24a48ebe0f1"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">unsigned</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">serverkey_password</span></span></span><a class="headerlink" href="#_CPPv4N18esp_tls_cfg_server18serverkey_passwordE" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>Server key decryption password string </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N18esp_tls_cfg_server22serverkey_password_lenE">
<span id="_CPPv3N18esp_tls_cfg_server22serverkey_password_lenE"></span><span id="_CPPv2N18esp_tls_cfg_server22serverkey_password_lenE"></span><span id="esp_tls_cfg_server::serverkey_password_len__unsigned-i"></span><span class="target" id="structesp__tls__cfg__server_1a1324b7f7a14c4f0717388e005c0332a5"></span><span class="kt"><span class="pre">unsigned</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">serverkey_password_len</span></span></span><a class="headerlink" href="#_CPPv4N18esp_tls_cfg_server22serverkey_password_lenE" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>String length of the password pointed to by serverkey_password </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N18esp_tls_cfg_server20use_ecdsa_peripheralE">
<span id="_CPPv3N18esp_tls_cfg_server20use_ecdsa_peripheralE"></span><span id="_CPPv2N18esp_tls_cfg_server20use_ecdsa_peripheralE"></span><span id="esp_tls_cfg_server::use_ecdsa_peripheral__b"></span><span class="target" id="structesp__tls__cfg__server_1ac7e447b435bfa6900e2d5a4a0493356d"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">use_ecdsa_peripheral</span></span></span><a class="headerlink" href="#_CPPv4N18esp_tls_cfg_server20use_ecdsa_peripheralE" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>Use ECDSA peripheral to use private key </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N18esp_tls_cfg_server19ecdsa_key_efuse_blkE">
<span id="_CPPv3N18esp_tls_cfg_server19ecdsa_key_efuse_blkE"></span><span id="_CPPv2N18esp_tls_cfg_server19ecdsa_key_efuse_blkE"></span><span id="esp_tls_cfg_server::ecdsa_key_efuse_blk__uint8_t"></span><span class="target" id="structesp__tls__cfg__server_1aa1b61814f7801da2804786b1dfd89de9"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ecdsa_key_efuse_blk</span></span></span><a class="headerlink" href="#_CPPv4N18esp_tls_cfg_server19ecdsa_key_efuse_blkE" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>The efuse block where ECDSA key is stored </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N18esp_tls_cfg_server18use_secure_elementE">
<span id="_CPPv3N18esp_tls_cfg_server18use_secure_elementE"></span><span id="_CPPv2N18esp_tls_cfg_server18use_secure_elementE"></span><span id="esp_tls_cfg_server::use_secure_element__b"></span><span class="target" id="structesp__tls__cfg__server_1a251430ceba58e9e57c732cce962888cd"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">use_secure_element</span></span></span><a class="headerlink" href="#_CPPv4N18esp_tls_cfg_server18use_secure_elementE" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>Enable this option to use secure element or atecc608a chip </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N18esp_tls_cfg_server8userdataE">
<span id="_CPPv3N18esp_tls_cfg_server8userdataE"></span><span id="_CPPv2N18esp_tls_cfg_server8userdataE"></span><span id="esp_tls_cfg_server::userdata__voidP"></span><span class="target" id="structesp__tls__cfg__server_1ab935bf9cadcd9f0b19ff84ea4f7ddda2"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">userdata</span></span></span><a class="headerlink" href="#_CPPv4N18esp_tls_cfg_server8userdataE" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>User data to be added to the ssl context. Can be retrieved by callbacks </p>
</dd></dl>

</div>
</dd></dl>

</section>
<section id="type-definitions">
<h3>Type Definitions<a class="headerlink" href="#type-definitions" title="Permalink to this heading">ï</a></h3>
<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv420esp_tls_conn_state_t">
<span id="_CPPv320esp_tls_conn_state_t"></span><span id="_CPPv220esp_tls_conn_state_t"></span><span id="esp_tls_conn_state_t"></span><span class="target" id="esp__tls_8h_1a02b5e4cd84696a7b130abb10212c8a22"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv418esp_tls_conn_state" title="esp_tls_conn_state"><span class="n"><span class="pre">esp_tls_conn_state</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_tls_conn_state_t</span></span></span><a class="headerlink" href="#_CPPv420esp_tls_conn_state_t" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>ESP-TLS Connection State. </p>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv414esp_tls_role_t">
<span id="_CPPv314esp_tls_role_t"></span><span id="_CPPv214esp_tls_role_t"></span><span id="esp_tls_role_t"></span><span class="target" id="esp__tls_8h_1a4d0fcb4449035f45855efbff10848c88"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv412esp_tls_role" title="esp_tls_role"><span class="n"><span class="pre">esp_tls_role</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_tls_role_t</span></span></span><a class="headerlink" href="#_CPPv414esp_tls_role_t" title="Permalink to this definition">ï</a><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv414psk_hint_key_t">
<span id="_CPPv314psk_hint_key_t"></span><span id="_CPPv214psk_hint_key_t"></span><span id="psk_hint_key_t"></span><span class="target" id="esp__tls_8h_1a67b0a43f3aed13a28c0c206fc6fc0949"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv412psk_key_hint" title="psk_key_hint"><span class="n"><span class="pre">psk_key_hint</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">psk_hint_key_t</span></span></span><a class="headerlink" href="#_CPPv414psk_hint_key_t" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>ESP-TLS preshared key and hint structure. </p>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv420tls_keep_alive_cfg_t">
<span id="_CPPv320tls_keep_alive_cfg_t"></span><span id="_CPPv220tls_keep_alive_cfg_t"></span><span id="tls_keep_alive_cfg_t"></span><span class="target" id="esp__tls_8h_1a5896c9fadcad04670db5465d3717904d"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv418tls_keep_alive_cfg" title="tls_keep_alive_cfg"><span class="n"><span class="pre">tls_keep_alive_cfg</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">tls_keep_alive_cfg_t</span></span></span><a class="headerlink" href="#_CPPv420tls_keep_alive_cfg_t" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>esp-tls client session ticket ctx </p>
<p>Keep alive parameters structure </p>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv421esp_tls_addr_family_t">
<span id="_CPPv321esp_tls_addr_family_t"></span><span id="_CPPv221esp_tls_addr_family_t"></span><span id="esp_tls_addr_family_t"></span><span class="target" id="esp__tls_8h_1a342c0fd8e71c798f09e647f16caaf3f2"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv419esp_tls_addr_family" title="esp_tls_addr_family"><span class="n"><span class="pre">esp_tls_addr_family</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_tls_addr_family_t</span></span></span><a class="headerlink" href="#_CPPv421esp_tls_addr_family_t" title="Permalink to this definition">ï</a><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv413esp_tls_cfg_t">
<span id="_CPPv313esp_tls_cfg_t"></span><span id="_CPPv213esp_tls_cfg_t"></span><span id="esp_tls_cfg_t"></span><span class="target" id="esp__tls_8h_1afe2a33eca0f098e45ed96dc29ec6ada8"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv411esp_tls_cfg" title="esp_tls_cfg"><span class="n"><span class="pre">esp_tls_cfg</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_tls_cfg_t</span></span></span><a class="headerlink" href="#_CPPv413esp_tls_cfg_t" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>ESP-TLS configuration parameters. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Note about format of certificates:<ul class="simple">
<li><p>This structure includes certificates of a Certificate Authority, of client or server as well as private keys, which may be of PEM or DER format. In case of PEM format, the buffer must be NULL terminated (with NULL character included in certificate size).</p></li>
<li><p>Certificate Authority's certificate may be a chain of certificates in case of PEM format, but could be only one certificate in case of DER format</p></li>
<li><p>Variables names of certificates and private key buffers and sizes are defined as unions providing backward compatibility for legacy *_pem_buf and *_pem_bytes names which suggested only PEM format was supported. It is encouraged to use generic names such as cacert_buf and cacert_bytes. </p></li>
</ul>
</p>
</div>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv426esp_tls_handshake_callback">
<span id="_CPPv326esp_tls_handshake_callback"></span><span id="_CPPv226esp_tls_handshake_callback"></span><span id="esp_tls_handshake_callback"></span><span class="target" id="esp__tls_8h_1a521aa5618dd5ff92fab800d62fadcd50"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">esp_tls_handshake_callback</span></span></span><a class="headerlink" href="#_CPPv426esp_tls_handshake_callback" title="Permalink to this definition">ï</a><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv420esp_tls_cfg_server_t">
<span id="_CPPv320esp_tls_cfg_server_t"></span><span id="_CPPv220esp_tls_cfg_server_t"></span><span id="esp_tls_cfg_server_t"></span><span class="target" id="esp__tls_8h_1a206c7440afb46f7922c879483aedf8df"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv418esp_tls_cfg_server" title="esp_tls_cfg_server"><span class="n"><span class="pre">esp_tls_cfg_server</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_tls_cfg_server_t</span></span></span><a class="headerlink" href="#_CPPv420esp_tls_cfg_server_t" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>ESP-TLS Server configuration parameters. </p>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv49esp_tls_t">
<span id="_CPPv39esp_tls_t"></span><span id="_CPPv29esp_tls_t"></span><span id="esp_tls_t"></span><span class="target" id="esp__tls_8h_1a0d5dfcec5bef89abf6c48a21fe586ec5"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">esp_tls</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_tls_t</span></span></span><a class="headerlink" href="#_CPPv49esp_tls_t" title="Permalink to this definition">ï</a><br /></dt>
<dd></dd></dl>

</section>
<section id="enumerations">
<h3>Enumerations<a class="headerlink" href="#enumerations" title="Permalink to this heading">ï</a></h3>
<dl class="cpp enum">
<dt class="sig sig-object cpp" id="_CPPv418esp_tls_conn_state">
<span id="_CPPv318esp_tls_conn_state"></span><span id="_CPPv218esp_tls_conn_state"></span><span class="target" id="esp__tls_8h_1a1982543604a18ff38d568448a6d88858"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_tls_conn_state</span></span></span><a class="headerlink" href="#_CPPv418esp_tls_conn_state" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>ESP-TLS Connection State. </p>
<p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N18esp_tls_conn_state12ESP_TLS_INITE">
<span id="_CPPv3N18esp_tls_conn_state12ESP_TLS_INITE"></span><span id="_CPPv2N18esp_tls_conn_state12ESP_TLS_INITE"></span><span class="target" id="esp__tls_8h_1a1982543604a18ff38d568448a6d88858a556eb1dc13380a21f93729b87e6f9a4a"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ESP_TLS_INIT</span></span></span><a class="headerlink" href="#_CPPv4N18esp_tls_conn_state12ESP_TLS_INITE" title="Permalink to this definition">ï</a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N18esp_tls_conn_state18ESP_TLS_CONNECTINGE">
<span id="_CPPv3N18esp_tls_conn_state18ESP_TLS_CONNECTINGE"></span><span id="_CPPv2N18esp_tls_conn_state18ESP_TLS_CONNECTINGE"></span><span class="target" id="esp__tls_8h_1a1982543604a18ff38d568448a6d88858aee52f8de24e204d8aa843949fa451c66"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ESP_TLS_CONNECTING</span></span></span><a class="headerlink" href="#_CPPv4N18esp_tls_conn_state18ESP_TLS_CONNECTINGE" title="Permalink to this definition">ï</a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N18esp_tls_conn_state17ESP_TLS_HANDSHAKEE">
<span id="_CPPv3N18esp_tls_conn_state17ESP_TLS_HANDSHAKEE"></span><span id="_CPPv2N18esp_tls_conn_state17ESP_TLS_HANDSHAKEE"></span><span class="target" id="esp__tls_8h_1a1982543604a18ff38d568448a6d88858af9b6afac5072d1e74d3656c57926c758"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ESP_TLS_HANDSHAKE</span></span></span><a class="headerlink" href="#_CPPv4N18esp_tls_conn_state17ESP_TLS_HANDSHAKEE" title="Permalink to this definition">ï</a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N18esp_tls_conn_state12ESP_TLS_FAILE">
<span id="_CPPv3N18esp_tls_conn_state12ESP_TLS_FAILE"></span><span id="_CPPv2N18esp_tls_conn_state12ESP_TLS_FAILE"></span><span class="target" id="esp__tls_8h_1a1982543604a18ff38d568448a6d88858a236d5153411a091ef7b5dfae6c5be8f4"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ESP_TLS_FAIL</span></span></span><a class="headerlink" href="#_CPPv4N18esp_tls_conn_state12ESP_TLS_FAILE" title="Permalink to this definition">ï</a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N18esp_tls_conn_state12ESP_TLS_DONEE">
<span id="_CPPv3N18esp_tls_conn_state12ESP_TLS_DONEE"></span><span id="_CPPv2N18esp_tls_conn_state12ESP_TLS_DONEE"></span><span class="target" id="esp__tls_8h_1a1982543604a18ff38d568448a6d88858af3686106686f599e2ba816b7c1f14913"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ESP_TLS_DONE</span></span></span><a class="headerlink" href="#_CPPv4N18esp_tls_conn_state12ESP_TLS_DONEE" title="Permalink to this definition">ï</a><br /></dt>
<dd></dd></dl>

</dd></dl>

<dl class="cpp enum">
<dt class="sig sig-object cpp" id="_CPPv412esp_tls_role">
<span id="_CPPv312esp_tls_role"></span><span id="_CPPv212esp_tls_role"></span><span class="target" id="esp__tls_8h_1a7da9f0100dd0b9d11bb85ef308837359"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_tls_role</span></span></span><a class="headerlink" href="#_CPPv412esp_tls_role" title="Permalink to this definition">ï</a><br /></dt>
<dd><p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N12esp_tls_role14ESP_TLS_CLIENTE">
<span id="_CPPv3N12esp_tls_role14ESP_TLS_CLIENTE"></span><span id="_CPPv2N12esp_tls_role14ESP_TLS_CLIENTE"></span><span class="target" id="esp__tls_8h_1a7da9f0100dd0b9d11bb85ef308837359a8cf7be6505f7d0c6ba0e4c1c56f5f233"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ESP_TLS_CLIENT</span></span></span><a class="headerlink" href="#_CPPv4N12esp_tls_role14ESP_TLS_CLIENTE" title="Permalink to this definition">ï</a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N12esp_tls_role14ESP_TLS_SERVERE">
<span id="_CPPv3N12esp_tls_role14ESP_TLS_SERVERE"></span><span id="_CPPv2N12esp_tls_role14ESP_TLS_SERVERE"></span><span class="target" id="esp__tls_8h_1a7da9f0100dd0b9d11bb85ef308837359ae0d55ed7cb41bd9b3f9503f136a114e2"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ESP_TLS_SERVER</span></span></span><a class="headerlink" href="#_CPPv4N12esp_tls_role14ESP_TLS_SERVERE" title="Permalink to this definition">ï</a><br /></dt>
<dd></dd></dl>

</dd></dl>

<dl class="cpp enum">
<dt class="sig sig-object cpp" id="_CPPv419esp_tls_addr_family">
<span id="_CPPv319esp_tls_addr_family"></span><span id="_CPPv219esp_tls_addr_family"></span><span class="target" id="esp__tls_8h_1afb63e23a8ba7b8f82907c05dea42bf34"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_tls_addr_family</span></span></span><a class="headerlink" href="#_CPPv419esp_tls_addr_family" title="Permalink to this definition">ï</a><br /></dt>
<dd><p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N19esp_tls_addr_family17ESP_TLS_AF_UNSPECE">
<span id="_CPPv3N19esp_tls_addr_family17ESP_TLS_AF_UNSPECE"></span><span id="_CPPv2N19esp_tls_addr_family17ESP_TLS_AF_UNSPECE"></span><span class="target" id="esp__tls_8h_1afb63e23a8ba7b8f82907c05dea42bf34a8009a4f5e793f0b5c8d03e5884afc774"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ESP_TLS_AF_UNSPEC</span></span></span><a class="headerlink" href="#_CPPv4N19esp_tls_addr_family17ESP_TLS_AF_UNSPECE" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>Unspecified address family. </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N19esp_tls_addr_family15ESP_TLS_AF_INETE">
<span id="_CPPv3N19esp_tls_addr_family15ESP_TLS_AF_INETE"></span><span id="_CPPv2N19esp_tls_addr_family15ESP_TLS_AF_INETE"></span><span class="target" id="esp__tls_8h_1afb63e23a8ba7b8f82907c05dea42bf34a45724f990c1162c9de8bfc7de3745d71"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ESP_TLS_AF_INET</span></span></span><a class="headerlink" href="#_CPPv4N19esp_tls_addr_family15ESP_TLS_AF_INETE" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>IPv4 address family. </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N19esp_tls_addr_family16ESP_TLS_AF_INET6E">
<span id="_CPPv3N19esp_tls_addr_family16ESP_TLS_AF_INET6E"></span><span id="_CPPv2N19esp_tls_addr_family16ESP_TLS_AF_INET6E"></span><span class="target" id="esp__tls_8h_1afb63e23a8ba7b8f82907c05dea42bf34a94ac12d093ab02da40c90494b40e18bc"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ESP_TLS_AF_INET6</span></span></span><a class="headerlink" href="#_CPPv4N19esp_tls_addr_family16ESP_TLS_AF_INET6E" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>IPv6 address family. </p>
</dd></dl>

</dd></dl>

<dl class="cpp enum">
<dt class="sig sig-object cpp" id="_CPPv419esp_tls_proto_ver_t">
<span id="_CPPv319esp_tls_proto_ver_t"></span><span id="_CPPv219esp_tls_proto_ver_t"></span><span class="target" id="esp__tls_8h_1a3d703af4a4d2e7f84d1f0a68499ccb0d"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_tls_proto_ver_t</span></span></span><a class="headerlink" href="#_CPPv419esp_tls_proto_ver_t" title="Permalink to this definition">ï</a><br /></dt>
<dd><p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N19esp_tls_proto_ver_t15ESP_TLS_VER_ANYE">
<span id="_CPPv3N19esp_tls_proto_ver_t15ESP_TLS_VER_ANYE"></span><span id="_CPPv2N19esp_tls_proto_ver_t15ESP_TLS_VER_ANYE"></span><span class="target" id="esp__tls_8h_1a3d703af4a4d2e7f84d1f0a68499ccb0da670b9e7dc1023a5272667fb38a1f2155"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ESP_TLS_VER_ANY</span></span></span><a class="headerlink" href="#_CPPv4N19esp_tls_proto_ver_t15ESP_TLS_VER_ANYE" title="Permalink to this definition">ï</a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N19esp_tls_proto_ver_t19ESP_TLS_VER_TLS_1_2E">
<span id="_CPPv3N19esp_tls_proto_ver_t19ESP_TLS_VER_TLS_1_2E"></span><span id="_CPPv2N19esp_tls_proto_ver_t19ESP_TLS_VER_TLS_1_2E"></span><span class="target" id="esp__tls_8h_1a3d703af4a4d2e7f84d1f0a68499ccb0daadc007cc3304af46aa956d9715a9929e"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ESP_TLS_VER_TLS_1_2</span></span></span><a class="headerlink" href="#_CPPv4N19esp_tls_proto_ver_t19ESP_TLS_VER_TLS_1_2E" title="Permalink to this definition">ï</a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N19esp_tls_proto_ver_t19ESP_TLS_VER_TLS_1_3E">
<span id="_CPPv3N19esp_tls_proto_ver_t19ESP_TLS_VER_TLS_1_3E"></span><span id="_CPPv2N19esp_tls_proto_ver_t19ESP_TLS_VER_TLS_1_3E"></span><span class="target" id="esp__tls_8h_1a3d703af4a4d2e7f84d1f0a68499ccb0da60d1aff8d6f0dc8331a387a665babcfe"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ESP_TLS_VER_TLS_1_3</span></span></span><a class="headerlink" href="#_CPPv4N19esp_tls_proto_ver_t19ESP_TLS_VER_TLS_1_3E" title="Permalink to this definition">ï</a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N19esp_tls_proto_ver_t19ESP_TLS_VER_TLS_MAXE">
<span id="_CPPv3N19esp_tls_proto_ver_t19ESP_TLS_VER_TLS_MAXE"></span><span id="_CPPv2N19esp_tls_proto_ver_t19ESP_TLS_VER_TLS_MAXE"></span><span class="target" id="esp__tls_8h_1a3d703af4a4d2e7f84d1f0a68499ccb0da3287ab46d73b7b7c82bc742e4bda3d08"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ESP_TLS_VER_TLS_MAX</span></span></span><a class="headerlink" href="#_CPPv4N19esp_tls_proto_ver_t19ESP_TLS_VER_TLS_MAXE" title="Permalink to this definition">ï</a><br /></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="id1">
<h3>Header File<a class="headerlink" href="#id1" title="Permalink to this heading">ï</a></h3>
<ul>
<li><p><a class="reference external" href="https://github.com/espressif/esp-idf/blob/v5.4.2/components/esp-tls/esp_tls_errors.h">components/esp-tls/esp_tls_errors.h</a></p></li>
<li><p>This header file can be included with:</p>
<blockquote>
<div><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;esp_tls_errors.h&quot;</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>This header file is a part of the API provided by the <code class="docutils literal notranslate"><span class="pre">esp-tls</span></code> component. To declare that your component depends on <code class="docutils literal notranslate"><span class="pre">esp-tls</span></code>, add the following to your CMakeLists.txt:</p>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>REQUIRES esp-tls
</pre></div>
</div>
<p>or</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>PRIV_REQUIRES esp-tls
</pre></div>
</div>
</div></blockquote>
</li>
</ul>
</section>
<section id="id2">
<h3>Structures<a class="headerlink" href="#id2" title="Permalink to this heading">ï</a></h3>
<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv418esp_tls_last_error">
<span id="_CPPv318esp_tls_last_error"></span><span id="_CPPv218esp_tls_last_error"></span><span id="esp_tls_last_error"></span><span class="target" id="structesp__tls__last__error"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_tls_last_error</span></span></span><a class="headerlink" href="#_CPPv418esp_tls_last_error" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>Error structure containing relevant errors in case tls error occurred. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N18esp_tls_last_error10last_errorE">
<span id="_CPPv3N18esp_tls_last_error10last_errorE"></span><span id="_CPPv2N18esp_tls_last_error10last_errorE"></span><span id="esp_tls_last_error::last_error__esp_err_t"></span><span class="target" id="structesp__tls__last__error_1a2060c38dc640827bf61dad86a6ab7a63"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">last_error</span></span></span><a class="headerlink" href="#_CPPv4N18esp_tls_last_error10last_errorE" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>error code (based on ESP_ERR_ESP_TLS_BASE) of the last occurred error </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N18esp_tls_last_error18esp_tls_error_codeE">
<span id="_CPPv3N18esp_tls_last_error18esp_tls_error_codeE"></span><span id="_CPPv2N18esp_tls_last_error18esp_tls_error_codeE"></span><span id="esp_tls_last_error::esp_tls_error_code__i"></span><span class="target" id="structesp__tls__last__error_1a883589f8a9f5d8271541055ac39995b4"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_tls_error_code</span></span></span><a class="headerlink" href="#_CPPv4N18esp_tls_last_error18esp_tls_error_codeE" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>esp_tls error code from last esp_tls failed api </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N18esp_tls_last_error13esp_tls_flagsE">
<span id="_CPPv3N18esp_tls_last_error13esp_tls_flagsE"></span><span id="_CPPv2N18esp_tls_last_error13esp_tls_flagsE"></span><span id="esp_tls_last_error::esp_tls_flags__i"></span><span class="target" id="structesp__tls__last__error_1a1a1df7319bf0f50944dd4ee5fe3ebf45"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_tls_flags</span></span></span><a class="headerlink" href="#_CPPv4N18esp_tls_last_error13esp_tls_flagsE" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>last certification verification flags </p>
</dd></dl>

</div>
</dd></dl>

</section>
<section id="macros">
<h3>Macros<a class="headerlink" href="#macros" title="Permalink to this heading">ï</a></h3>
<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.ESP_ERR_ESP_TLS_BASE">
<span class="target" id="esp__tls__errors_8h_1a69fc5e2cf24da36d8077f78fd5486e7a"></span><span class="sig-name descname"><span class="n"><span class="pre">ESP_ERR_ESP_TLS_BASE</span></span></span><a class="headerlink" href="#c.ESP_ERR_ESP_TLS_BASE" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>Starting number of ESP-TLS error codes </p>
</dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.ESP_ERR_ESP_TLS_CANNOT_RESOLVE_HOSTNAME">
<span class="target" id="esp__tls__errors_8h_1acb1c1f734075843f58b75a294aea13b9"></span><span class="sig-name descname"><span class="n"><span class="pre">ESP_ERR_ESP_TLS_CANNOT_RESOLVE_HOSTNAME</span></span></span><a class="headerlink" href="#c.ESP_ERR_ESP_TLS_CANNOT_RESOLVE_HOSTNAME" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>Error if hostname couldn't be resolved upon tls connection </p>
</dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.ESP_ERR_ESP_TLS_CANNOT_CREATE_SOCKET">
<span class="target" id="esp__tls__errors_8h_1a1175defede3af82924c85599d30ebd82"></span><span class="sig-name descname"><span class="n"><span class="pre">ESP_ERR_ESP_TLS_CANNOT_CREATE_SOCKET</span></span></span><a class="headerlink" href="#c.ESP_ERR_ESP_TLS_CANNOT_CREATE_SOCKET" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>Failed to create socket </p>
</dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.ESP_ERR_ESP_TLS_UNSUPPORTED_PROTOCOL_FAMILY">
<span class="target" id="esp__tls__errors_8h_1ac5e2bb5455e1fe6e27827a66e00d401c"></span><span class="sig-name descname"><span class="n"><span class="pre">ESP_ERR_ESP_TLS_UNSUPPORTED_PROTOCOL_FAMILY</span></span></span><a class="headerlink" href="#c.ESP_ERR_ESP_TLS_UNSUPPORTED_PROTOCOL_FAMILY" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>Unsupported protocol family </p>
</dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.ESP_ERR_ESP_TLS_FAILED_CONNECT_TO_HOST">
<span class="target" id="esp__tls__errors_8h_1a1e0e174e08c508de26cf488e980e77ae"></span><span class="sig-name descname"><span class="n"><span class="pre">ESP_ERR_ESP_TLS_FAILED_CONNECT_TO_HOST</span></span></span><a class="headerlink" href="#c.ESP_ERR_ESP_TLS_FAILED_CONNECT_TO_HOST" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>Failed to connect to host </p>
</dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.ESP_ERR_ESP_TLS_SOCKET_SETOPT_FAILED">
<span class="target" id="esp__tls__errors_8h_1a10cc8ff0543cad469422733e45bcfe16"></span><span class="sig-name descname"><span class="n"><span class="pre">ESP_ERR_ESP_TLS_SOCKET_SETOPT_FAILED</span></span></span><a class="headerlink" href="#c.ESP_ERR_ESP_TLS_SOCKET_SETOPT_FAILED" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>failed to set/get socket option </p>
</dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.ESP_ERR_ESP_TLS_CONNECTION_TIMEOUT">
<span class="target" id="esp__tls__errors_8h_1a68caa708352ed29e3fd02ad498f43491"></span><span class="sig-name descname"><span class="n"><span class="pre">ESP_ERR_ESP_TLS_CONNECTION_TIMEOUT</span></span></span><a class="headerlink" href="#c.ESP_ERR_ESP_TLS_CONNECTION_TIMEOUT" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>new connection in esp_tls_low_level_conn connection timeouted </p>
</dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.ESP_ERR_ESP_TLS_SE_FAILED">
<span class="target" id="esp__tls__errors_8h_1a0cc9f7a1e7b92f3c2307943b45ae045c"></span><span class="sig-name descname"><span class="n"><span class="pre">ESP_ERR_ESP_TLS_SE_FAILED</span></span></span><a class="headerlink" href="#c.ESP_ERR_ESP_TLS_SE_FAILED" title="Permalink to this definition">ï</a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.ESP_ERR_ESP_TLS_TCP_CLOSED_FIN">
<span class="target" id="esp__tls__errors_8h_1a17055300f37dcee35739a75aa361053c"></span><span class="sig-name descname"><span class="n"><span class="pre">ESP_ERR_ESP_TLS_TCP_CLOSED_FIN</span></span></span><a class="headerlink" href="#c.ESP_ERR_ESP_TLS_TCP_CLOSED_FIN" title="Permalink to this definition">ï</a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.ESP_ERR_MBEDTLS_CERT_PARTLY_OK">
<span class="target" id="esp__tls__errors_8h_1ade641646134031051bcefc4f0392ce01"></span><span class="sig-name descname"><span class="n"><span class="pre">ESP_ERR_MBEDTLS_CERT_PARTLY_OK</span></span></span><a class="headerlink" href="#c.ESP_ERR_MBEDTLS_CERT_PARTLY_OK" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>mbedtls parse certificates was partly successful </p>
</dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.ESP_ERR_MBEDTLS_CTR_DRBG_SEED_FAILED">
<span class="target" id="esp__tls__errors_8h_1a9e559acd2e583b841b49b01c8d0ff854"></span><span class="sig-name descname"><span class="n"><span class="pre">ESP_ERR_MBEDTLS_CTR_DRBG_SEED_FAILED</span></span></span><a class="headerlink" href="#c.ESP_ERR_MBEDTLS_CTR_DRBG_SEED_FAILED" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>mbedtls api returned error </p>
</dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.ESP_ERR_MBEDTLS_SSL_SET_HOSTNAME_FAILED">
<span class="target" id="esp__tls__errors_8h_1a16611903930c734eb454e8d976ec769d"></span><span class="sig-name descname"><span class="n"><span class="pre">ESP_ERR_MBEDTLS_SSL_SET_HOSTNAME_FAILED</span></span></span><a class="headerlink" href="#c.ESP_ERR_MBEDTLS_SSL_SET_HOSTNAME_FAILED" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>mbedtls api returned error </p>
</dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.ESP_ERR_MBEDTLS_SSL_CONFIG_DEFAULTS_FAILED">
<span class="target" id="esp__tls__errors_8h_1aeb70ff247fa872b779a365421eeeba7c"></span><span class="sig-name descname"><span class="n"><span class="pre">ESP_ERR_MBEDTLS_SSL_CONFIG_DEFAULTS_FAILED</span></span></span><a class="headerlink" href="#c.ESP_ERR_MBEDTLS_SSL_CONFIG_DEFAULTS_FAILED" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>mbedtls api returned error </p>
</dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.ESP_ERR_MBEDTLS_SSL_CONF_ALPN_PROTOCOLS_FAILED">
<span class="target" id="esp__tls__errors_8h_1a21e0d99297851f91bf44163e7ef53d96"></span><span class="sig-name descname"><span class="n"><span class="pre">ESP_ERR_MBEDTLS_SSL_CONF_ALPN_PROTOCOLS_FAILED</span></span></span><a class="headerlink" href="#c.ESP_ERR_MBEDTLS_SSL_CONF_ALPN_PROTOCOLS_FAILED" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>mbedtls api returned error </p>
</dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.ESP_ERR_MBEDTLS_X509_CRT_PARSE_FAILED">
<span class="target" id="esp__tls__errors_8h_1aaa19884f16c52376bcd62fd21312ac75"></span><span class="sig-name descname"><span class="n"><span class="pre">ESP_ERR_MBEDTLS_X509_CRT_PARSE_FAILED</span></span></span><a class="headerlink" href="#c.ESP_ERR_MBEDTLS_X509_CRT_PARSE_FAILED" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>mbedtls api returned error </p>
</dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.ESP_ERR_MBEDTLS_SSL_CONF_OWN_CERT_FAILED">
<span class="target" id="esp__tls__errors_8h_1a6a5a2b4aa2beda5a756105fa0741543d"></span><span class="sig-name descname"><span class="n"><span class="pre">ESP_ERR_MBEDTLS_SSL_CONF_OWN_CERT_FAILED</span></span></span><a class="headerlink" href="#c.ESP_ERR_MBEDTLS_SSL_CONF_OWN_CERT_FAILED" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>mbedtls api returned error </p>
</dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.ESP_ERR_MBEDTLS_SSL_SETUP_FAILED">
<span class="target" id="esp__tls__errors_8h_1a5836694136d23cb02a1cef129cb3a733"></span><span class="sig-name descname"><span class="n"><span class="pre">ESP_ERR_MBEDTLS_SSL_SETUP_FAILED</span></span></span><a class="headerlink" href="#c.ESP_ERR_MBEDTLS_SSL_SETUP_FAILED" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>mbedtls api returned error </p>
</dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.ESP_ERR_MBEDTLS_SSL_WRITE_FAILED">
<span class="target" id="esp__tls__errors_8h_1a13ee3a3c6c39ab514ce7228f0b3498d0"></span><span class="sig-name descname"><span class="n"><span class="pre">ESP_ERR_MBEDTLS_SSL_WRITE_FAILED</span></span></span><a class="headerlink" href="#c.ESP_ERR_MBEDTLS_SSL_WRITE_FAILED" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>mbedtls api returned error </p>
</dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.ESP_ERR_MBEDTLS_PK_PARSE_KEY_FAILED">
<span class="target" id="esp__tls__errors_8h_1a1cdaf2b6311ed957f4359d497cb94dc6"></span><span class="sig-name descname"><span class="n"><span class="pre">ESP_ERR_MBEDTLS_PK_PARSE_KEY_FAILED</span></span></span><a class="headerlink" href="#c.ESP_ERR_MBEDTLS_PK_PARSE_KEY_FAILED" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>mbedtls api returned failed </p>
</dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.ESP_ERR_MBEDTLS_SSL_HANDSHAKE_FAILED">
<span class="target" id="esp__tls__errors_8h_1a77b84872eabf1630c96c2c0146e077b6"></span><span class="sig-name descname"><span class="n"><span class="pre">ESP_ERR_MBEDTLS_SSL_HANDSHAKE_FAILED</span></span></span><a class="headerlink" href="#c.ESP_ERR_MBEDTLS_SSL_HANDSHAKE_FAILED" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>mbedtls api returned failed </p>
</dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.ESP_ERR_MBEDTLS_SSL_CONF_PSK_FAILED">
<span class="target" id="esp__tls__errors_8h_1ab705b3f0c28c68839a7f8a123723d9d4"></span><span class="sig-name descname"><span class="n"><span class="pre">ESP_ERR_MBEDTLS_SSL_CONF_PSK_FAILED</span></span></span><a class="headerlink" href="#c.ESP_ERR_MBEDTLS_SSL_CONF_PSK_FAILED" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>mbedtls api returned failed </p>
</dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.ESP_ERR_MBEDTLS_SSL_TICKET_SETUP_FAILED">
<span class="target" id="esp__tls__errors_8h_1aca648be7fcadec5762213cf01df2a3a2"></span><span class="sig-name descname"><span class="n"><span class="pre">ESP_ERR_MBEDTLS_SSL_TICKET_SETUP_FAILED</span></span></span><a class="headerlink" href="#c.ESP_ERR_MBEDTLS_SSL_TICKET_SETUP_FAILED" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>mbedtls api returned failed </p>
</dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.ESP_ERR_WOLFSSL_SSL_SET_HOSTNAME_FAILED">
<span class="target" id="esp__tls__errors_8h_1a27e9e5e8798a50fdb9dc4f7535f0c99b"></span><span class="sig-name descname"><span class="n"><span class="pre">ESP_ERR_WOLFSSL_SSL_SET_HOSTNAME_FAILED</span></span></span><a class="headerlink" href="#c.ESP_ERR_WOLFSSL_SSL_SET_HOSTNAME_FAILED" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>wolfSSL api returned error </p>
</dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.ESP_ERR_WOLFSSL_SSL_CONF_ALPN_PROTOCOLS_FAILED">
<span class="target" id="esp__tls__errors_8h_1a97a3786ee9b3c8cb5b9c8275b1eda16e"></span><span class="sig-name descname"><span class="n"><span class="pre">ESP_ERR_WOLFSSL_SSL_CONF_ALPN_PROTOCOLS_FAILED</span></span></span><a class="headerlink" href="#c.ESP_ERR_WOLFSSL_SSL_CONF_ALPN_PROTOCOLS_FAILED" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>wolfSSL api returned error </p>
</dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.ESP_ERR_WOLFSSL_CERT_VERIFY_SETUP_FAILED">
<span class="target" id="esp__tls__errors_8h_1afb479f785c48a50e2f07e239f24f6e8b"></span><span class="sig-name descname"><span class="n"><span class="pre">ESP_ERR_WOLFSSL_CERT_VERIFY_SETUP_FAILED</span></span></span><a class="headerlink" href="#c.ESP_ERR_WOLFSSL_CERT_VERIFY_SETUP_FAILED" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>wolfSSL api returned error </p>
</dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.ESP_ERR_WOLFSSL_KEY_VERIFY_SETUP_FAILED">
<span class="target" id="esp__tls__errors_8h_1aa25b5a87f862f4c237737e49e3b01aa7"></span><span class="sig-name descname"><span class="n"><span class="pre">ESP_ERR_WOLFSSL_KEY_VERIFY_SETUP_FAILED</span></span></span><a class="headerlink" href="#c.ESP_ERR_WOLFSSL_KEY_VERIFY_SETUP_FAILED" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>wolfSSL api returned error </p>
</dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.ESP_ERR_WOLFSSL_SSL_HANDSHAKE_FAILED">
<span class="target" id="esp__tls__errors_8h_1acb46c74d25dbb435223ec3826c19a65c"></span><span class="sig-name descname"><span class="n"><span class="pre">ESP_ERR_WOLFSSL_SSL_HANDSHAKE_FAILED</span></span></span><a class="headerlink" href="#c.ESP_ERR_WOLFSSL_SSL_HANDSHAKE_FAILED" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>wolfSSL api returned failed </p>
</dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.ESP_ERR_WOLFSSL_CTX_SETUP_FAILED">
<span class="target" id="esp__tls__errors_8h_1a6564facaa662a56b098170b3241d3a5a"></span><span class="sig-name descname"><span class="n"><span class="pre">ESP_ERR_WOLFSSL_CTX_SETUP_FAILED</span></span></span><a class="headerlink" href="#c.ESP_ERR_WOLFSSL_CTX_SETUP_FAILED" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>wolfSSL api returned failed </p>
</dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.ESP_ERR_WOLFSSL_SSL_SETUP_FAILED">
<span class="target" id="esp__tls__errors_8h_1a0cd5d6f1b69f03599838717273f67be8"></span><span class="sig-name descname"><span class="n"><span class="pre">ESP_ERR_WOLFSSL_SSL_SETUP_FAILED</span></span></span><a class="headerlink" href="#c.ESP_ERR_WOLFSSL_SSL_SETUP_FAILED" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>wolfSSL api returned failed </p>
</dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.ESP_ERR_WOLFSSL_SSL_WRITE_FAILED">
<span class="target" id="esp__tls__errors_8h_1a0567878432f90326dbe40ab08dae8358"></span><span class="sig-name descname"><span class="n"><span class="pre">ESP_ERR_WOLFSSL_SSL_WRITE_FAILED</span></span></span><a class="headerlink" href="#c.ESP_ERR_WOLFSSL_SSL_WRITE_FAILED" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>wolfSSL api returned failed </p>
</dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.ESP_TLS_ERR_SSL_WANT_READ">
<span class="target" id="esp__tls__errors_8h_1a93847fc8e714c063a4fdb1ce9dc0b2b1"></span><span class="sig-name descname"><span class="n"><span class="pre">ESP_TLS_ERR_SSL_WANT_READ</span></span></span><a class="headerlink" href="#c.ESP_TLS_ERR_SSL_WANT_READ" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>Definition of errors reported from IO API (potentially non-blocking) in case of error:<ul class="simple">
<li><p>esp_tls_conn_read()</p></li>
<li><p>esp_tls_conn_write() </p></li>
</ul>
</p>
</dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.ESP_TLS_ERR_SSL_WANT_WRITE">
<span class="target" id="esp__tls__errors_8h_1a42337076b40e1ac985ac7513575f38ef"></span><span class="sig-name descname"><span class="n"><span class="pre">ESP_TLS_ERR_SSL_WANT_WRITE</span></span></span><a class="headerlink" href="#c.ESP_TLS_ERR_SSL_WANT_WRITE" title="Permalink to this definition">ï</a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.ESP_TLS_ERR_SSL_TIMEOUT">
<span class="target" id="esp__tls__errors_8h_1a09dfedcb414c909f83689fc4e2e301ca"></span><span class="sig-name descname"><span class="n"><span class="pre">ESP_TLS_ERR_SSL_TIMEOUT</span></span></span><a class="headerlink" href="#c.ESP_TLS_ERR_SSL_TIMEOUT" title="Permalink to this definition">ï</a><br /></dt>
<dd></dd></dl>

</section>
<section id="id3">
<h3>Type Definitions<a class="headerlink" href="#id3" title="Permalink to this heading">ï</a></h3>
<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv422esp_tls_error_handle_t">
<span id="_CPPv322esp_tls_error_handle_t"></span><span id="_CPPv222esp_tls_error_handle_t"></span><span id="esp_tls_error_handle_t"></span><span class="target" id="esp__tls__errors_8h_1a47054525c297968926bd747751731931"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv418esp_tls_last_error" title="esp_tls_last_error"><span class="n"><span class="pre">esp_tls_last_error</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">esp_tls_error_handle_t</span></span></span><a class="headerlink" href="#_CPPv422esp_tls_error_handle_t" title="Permalink to this definition">ï</a><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv420esp_tls_last_error_t">
<span id="_CPPv320esp_tls_last_error_t"></span><span id="_CPPv220esp_tls_last_error_t"></span><span id="esp_tls_last_error_t"></span><span class="target" id="esp__tls__errors_8h_1a5cf89b814c97fd7fbfa3bd29e97c0afe"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv418esp_tls_last_error" title="esp_tls_last_error"><span class="n"><span class="pre">esp_tls_last_error</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_tls_last_error_t</span></span></span><a class="headerlink" href="#_CPPv420esp_tls_last_error_t" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>Error structure containing relevant errors in case tls error occurred. </p>
</dd></dl>

</section>
<section id="id4">
<h3>Enumerations<a class="headerlink" href="#id4" title="Permalink to this heading">ï</a></h3>
<dl class="cpp enum">
<dt class="sig sig-object cpp" id="_CPPv420esp_tls_error_type_t">
<span id="_CPPv320esp_tls_error_type_t"></span><span id="_CPPv220esp_tls_error_type_t"></span><span class="target" id="esp__tls__errors_8h_1a10645779045fc67db9663772977c11a7"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_tls_error_type_t</span></span></span><a class="headerlink" href="#_CPPv420esp_tls_error_type_t" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>Definition of different types/sources of error codes reported from different components </p>
<p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N20esp_tls_error_type_t24ESP_TLS_ERR_TYPE_UNKNOWNE">
<span id="_CPPv3N20esp_tls_error_type_t24ESP_TLS_ERR_TYPE_UNKNOWNE"></span><span id="_CPPv2N20esp_tls_error_type_t24ESP_TLS_ERR_TYPE_UNKNOWNE"></span><span class="target" id="esp__tls__errors_8h_1a10645779045fc67db9663772977c11a7ab6c1eabc0c72d305de4f93c887f28124"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ESP_TLS_ERR_TYPE_UNKNOWN</span></span></span><a class="headerlink" href="#_CPPv4N20esp_tls_error_type_t24ESP_TLS_ERR_TYPE_UNKNOWNE" title="Permalink to this definition">ï</a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N20esp_tls_error_type_t23ESP_TLS_ERR_TYPE_SYSTEME">
<span id="_CPPv3N20esp_tls_error_type_t23ESP_TLS_ERR_TYPE_SYSTEME"></span><span id="_CPPv2N20esp_tls_error_type_t23ESP_TLS_ERR_TYPE_SYSTEME"></span><span class="target" id="esp__tls__errors_8h_1a10645779045fc67db9663772977c11a7ad9158845ec87b0935dbf061a6186364a"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ESP_TLS_ERR_TYPE_SYSTEM</span></span></span><a class="headerlink" href="#_CPPv4N20esp_tls_error_type_t23ESP_TLS_ERR_TYPE_SYSTEME" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>System error  errno </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N20esp_tls_error_type_t24ESP_TLS_ERR_TYPE_MBEDTLSE">
<span id="_CPPv3N20esp_tls_error_type_t24ESP_TLS_ERR_TYPE_MBEDTLSE"></span><span id="_CPPv2N20esp_tls_error_type_t24ESP_TLS_ERR_TYPE_MBEDTLSE"></span><span class="target" id="esp__tls__errors_8h_1a10645779045fc67db9663772977c11a7a1db43a1c90a9fda864d004bddee9a0b9"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ESP_TLS_ERR_TYPE_MBEDTLS</span></span></span><a class="headerlink" href="#_CPPv4N20esp_tls_error_type_t24ESP_TLS_ERR_TYPE_MBEDTLSE" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>Error code from mbedTLS library </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N20esp_tls_error_type_t35ESP_TLS_ERR_TYPE_MBEDTLS_CERT_FLAGSE">
<span id="_CPPv3N20esp_tls_error_type_t35ESP_TLS_ERR_TYPE_MBEDTLS_CERT_FLAGSE"></span><span id="_CPPv2N20esp_tls_error_type_t35ESP_TLS_ERR_TYPE_MBEDTLS_CERT_FLAGSE"></span><span class="target" id="esp__tls__errors_8h_1a10645779045fc67db9663772977c11a7a9e95461de69c96f46a0388d5bd685933"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ESP_TLS_ERR_TYPE_MBEDTLS_CERT_FLAGS</span></span></span><a class="headerlink" href="#_CPPv4N20esp_tls_error_type_t35ESP_TLS_ERR_TYPE_MBEDTLS_CERT_FLAGSE" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>Certificate flags defined in mbedTLS </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N20esp_tls_error_type_t20ESP_TLS_ERR_TYPE_ESPE">
<span id="_CPPv3N20esp_tls_error_type_t20ESP_TLS_ERR_TYPE_ESPE"></span><span id="_CPPv2N20esp_tls_error_type_t20ESP_TLS_ERR_TYPE_ESPE"></span><span class="target" id="esp__tls__errors_8h_1a10645779045fc67db9663772977c11a7a7d4472ba8966955055c9e27b08f37e65"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ESP_TLS_ERR_TYPE_ESP</span></span></span><a class="headerlink" href="#_CPPv4N20esp_tls_error_type_t20ESP_TLS_ERR_TYPE_ESPE" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>ESP-IDF error type  esp_err_t </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N20esp_tls_error_type_t24ESP_TLS_ERR_TYPE_WOLFSSLE">
<span id="_CPPv3N20esp_tls_error_type_t24ESP_TLS_ERR_TYPE_WOLFSSLE"></span><span id="_CPPv2N20esp_tls_error_type_t24ESP_TLS_ERR_TYPE_WOLFSSLE"></span><span class="target" id="esp__tls__errors_8h_1a10645779045fc67db9663772977c11a7a693fc583c7e61c0a8a7abccc75d385e3"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ESP_TLS_ERR_TYPE_WOLFSSL</span></span></span><a class="headerlink" href="#_CPPv4N20esp_tls_error_type_t24ESP_TLS_ERR_TYPE_WOLFSSLE" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>Error code from wolfSSL library </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N20esp_tls_error_type_t35ESP_TLS_ERR_TYPE_WOLFSSL_CERT_FLAGSE">
<span id="_CPPv3N20esp_tls_error_type_t35ESP_TLS_ERR_TYPE_WOLFSSL_CERT_FLAGSE"></span><span id="_CPPv2N20esp_tls_error_type_t35ESP_TLS_ERR_TYPE_WOLFSSL_CERT_FLAGSE"></span><span class="target" id="esp__tls__errors_8h_1a10645779045fc67db9663772977c11a7a90f2db839d2c8acbe1d3a4a3bf685a29"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ESP_TLS_ERR_TYPE_WOLFSSL_CERT_FLAGS</span></span></span><a class="headerlink" href="#_CPPv4N20esp_tls_error_type_t35ESP_TLS_ERR_TYPE_WOLFSSL_CERT_FLAGSE" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>Certificate flags defined in wolfSSL </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N20esp_tls_error_type_t20ESP_TLS_ERR_TYPE_MAXE">
<span id="_CPPv3N20esp_tls_error_type_t20ESP_TLS_ERR_TYPE_MAXE"></span><span id="_CPPv2N20esp_tls_error_type_t20ESP_TLS_ERR_TYPE_MAXE"></span><span class="target" id="esp__tls__errors_8h_1a10645779045fc67db9663772977c11a7a11a262be72a6301e207b6faa4e0435f1"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ESP_TLS_ERR_TYPE_MAX</span></span></span><a class="headerlink" href="#_CPPv4N20esp_tls_error_type_t20ESP_TLS_ERR_TYPE_MAXE" title="Permalink to this definition">ï</a><br /></dt>
<dd><p>Last err type  invalid entry </p>
</dd></dl>

</dd></dl>

</section>
</section>
</section>

    <script type="text/javascript">
        function init() {
            WaveDrom.ProcessAll();
        }
        window.onload = init;
    </script>

           </div>
             <div class="articleComments">

<style>
    .expand-feedback-content {
        display: none;
    }
    .click-like-or-dislike {
        background-color: #d3d3d3;
        pointer-events: none;
    }
</style>

<script>
    function submitFeedbackForm(user_likes_document) {
        // Send to GA4 the user reaction
        gtag('event', 'user_reaction', {
            'user_likes_document': user_likes_document
        });

        if (user_likes_document === 1) {
            document.querySelector('.like-btn').classList.add('click-like-or-dislike');
            document.getElementById("expandContentLike").style.display = 'block';
        } else {
            document.querySelector('.dislike-btn').classList.add('click-like-or-dislike');
            document.getElementById("expandContent").style.display = 'block';
        }

        document.querySelector('.like-btn').style.pointerEvents = 'none';
        document.querySelector('.dislike-btn').style.pointerEvents = 'none';
    }
</script>

<hr>

<p style="text-align:center"><strong>Was this page helpful?</strong></p>
<p style="text-align:center">
    <button class="like-btn" onclick="submitFeedbackForm(1)">
        <svg aria-hidden="true" focusable="false" class="color-fg-muted" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible">
            <path d="M8.834.066c.763.087 1.5.295 2.01.884.505.581.656 1.378.656 2.3 0 .467-.087 1.119-.157 1.637L11.328 5h1.422c.603 0 1.174.085 1.668.333.508.254.911.679 1.137 1.2.453.998.438 2.447.188 4.316l-.04.306c-.105.79-.195 1.473-.313 2.033-.131.63-.315 1.209-.668 1.672C13.97 15.847 12.706 16 11 16c-1.848 0-3.234-.333-4.388-.653-.165-.045-.323-.09-.475-.133-.658-.186-1.2-.34-1.725-.415A1.75 1.75 0 0 1 2.75 16h-1A1.75 1.75 0 0 1 0 14.25v-7.5C0 5.784.784 5 1.75 5h1a1.75 1.75 0 0 1 1.514.872c.258-.105.59-.268.918-.508C5.853 4.874 6.5 4.079 6.5 2.75v-.5c0-1.202.994-2.337 2.334-2.184ZM4.5 13.3c.705.088 1.39.284 2.072.478l.441.125c1.096.305 2.334.598 3.987.598 1.794 0 2.28-.223 2.528-.549.147-.193.276-.505.394-1.07.105-.502.188-1.124.295-1.93l.04-.3c.25-1.882.189-2.933-.068-3.497a.921.921 0 0 0-.442-.48c-.208-.104-.52-.174-.997-.174H11c-.686 0-1.295-.577-1.206-1.336.023-.192.05-.39.076-.586.065-.488.13-.97.13-1.328 0-.809-.144-1.15-.288-1.316-.137-.158-.402-.304-1.048-.378C8.357 1.521 8 1.793 8 2.25v.5c0 1.922-.978 3.128-1.933 3.825a5.831 5.831 0 0 1-1.567.81ZM2.75 6.5h-1a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h1a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
        </svg>
    </button>
    <button class="dislike-btn" onclick="submitFeedbackForm(0)">
        <svg aria-hidden="true" focusable="false" class="" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible">
            <path d="M7.083 15.986c-.763-.087-1.499-.295-2.011-.884-.504-.581-.655-1.378-.655-2.299 0-.468.087-1.12.157-1.638l.015-.112H3.167c-.603 0-1.174-.086-1.669-.334a2.415 2.415 0 0 1-1.136-1.2c-.454-.998-.438-2.447-.188-4.316l.04-.306C.32 4.108.41 3.424.526 2.864c.132-.63.316-1.209.669-1.672C1.947.205 3.211.053 4.917.053c1.848 0 3.234.332 4.388.652l.474.133c.658.187 1.201.341 1.726.415a1.75 1.75 0 0 1 1.662-1.2h1c.966 0 1.75.784 1.75 1.75v7.5a1.75 1.75 0 0 1-1.75 1.75h-1a1.75 1.75 0 0 1-1.514-.872c-.259.105-.59.268-.919.508-.671.491-1.317 1.285-1.317 2.614v.5c0 1.201-.994 2.336-2.334 2.183Zm4.334-13.232c-.706-.089-1.39-.284-2.072-.479l-.441-.125c-1.096-.304-2.335-.597-3.987-.597-1.794 0-2.28.222-2.529.548-.147.193-.275.505-.393 1.07-.105.502-.188 1.124-.295 1.93l-.04.3c-.25 1.882-.19 2.933.067 3.497a.923.923 0 0 0 .443.48c.208.104.52.175.997.175h1.75c.685 0 1.295.577 1.205 1.335-.022.192-.049.39-.075.586-.066.488-.13.97-.13 1.329 0 .808.144 1.15.288 1.316.137.157.401.303 1.048.377.307.035.664-.237.664-.693v-.5c0-1.922.978-3.127 1.932-3.825a5.878 5.878 0 0 1 1.568-.809Zm1.75 6.798h1a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25h-1a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25Z"></path>
        </svg>
    </button>
</p>

<div class="expand-feedback-content" id="expandContentLike">
    <ul style="text-align:center">
        <li>Thank you! We received your feedback.</li>
        <li>If you have any comments, fill in <a href='https://www.espressif.com/en/company/documents/documentation_feedback?docId=4287&sections=ESP-TLS (api-reference/protocols/esp_tls)&version=esp32 v5.4.2 (v5.4.2)'>Espressif Documentation Feedback Form</a>.</li>
    </ul>
</div>

<div class="expand-feedback-content" id="expandContent">
    <ul style="text-align:center">
        <li>We value your feedback.</li>
        <li>Let us know how we can improve this page by filling in <a href='https://www.espressif.com/en/company/documents/documentation_feedback?docId=4287&sections=ESP-TLS (api-reference/protocols/esp_tls)&version=esp32 v5.4.2 (v5.4.2)'>Espressif Documentation Feedback Form</a>.</li>
    </ul>
</div>

<br>


             </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="mqtt.html" class="btn btn-neutral float-left" title="ESP-MQTT" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="esp_http_client.html" class="btn btn-neutral float-right" title="ESP HTTP Client" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2016 - 2025, Espressif Systems (Shanghai) Co., Ltd.</p>
  </div>

  <ul class="footer">
        <li>
	    
            
            Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/espressif/sphinx_idf_theme">theme</a>  based on <a href="https://github.com/readthedocs/sphinx_rtd_theme">Read the Docs Sphinx Theme</a>.
         </li>
    <li class="footer-aside">
        <a href="../../esp-idf-en-v5.4.2.zip"> Download HTML</a>
    </li>

  </ul> 

</footer>
        </div>
      </div>
    </section>
  </div>

  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>