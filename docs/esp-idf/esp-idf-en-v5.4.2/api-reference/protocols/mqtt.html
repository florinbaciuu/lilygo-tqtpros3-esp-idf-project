<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" />
        <!-- Global site tag (gtag.js) - Google Analytics -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-73KGWFC8DM"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());

            gtag('config', 'G-73KGWFC8DM');
        </script><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ESP-MQTT - ESP32 -  &mdash; ESP-IDF Programming Guide v5.4.2 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=a60756f2" />
      <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=949a1ff5" />
      <link rel="stylesheet" type="text/css" href="../../_static/theme_overrides.css?v=851bd809" />

  
    <link rel="canonical" href="https://docs.espressif.com/projects/esp-idf/en/stable/esp32/api-reference/protocols/mqtt.html" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js?v=c241bbaf"></script>
        <script src="../../_static/doctools.js?v=888ff710"></script>
        <script src="../../_static/sphinx_highlight.js?v=4825356b"></script>
        <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../../_static/copybutton.js?v=ff8fa330"></script>
        <script src="https://wavedrom.com/skins/default.js"></script>
        <script src="https://wavedrom.com/wavedrom.min.js"></script>
    <script src="../../_static/js/theme.js"></script>

    
        

    <script type="text/javascript">
        DOCUMENTATION_OPTIONS.PAGENAME = 'api-reference/protocols/mqtt';
        DOCUMENTATION_OPTIONS.PROJECT_SLUG = 'esp-idf';
        DOCUMENTATION_OPTIONS.LATEST_BRANCH_NAME = 'master';
        DOCUMENTATION_OPTIONS.VERSIONS_URL = 'https://dl.espressif.com/dl/esp-idf/idf_versions.js';
        DOCUMENTATION_OPTIONS.LANGUAGES = ["en", "zh_CN"];
        DOCUMENTATION_OPTIONS.IDF_TARGET = 'esp32';
        DOCUMENTATION_OPTIONS.HAS_IDF_TARGETS = ["esp32", "esp32s2", "esp32s3", "esp32c3", "esp32c2", "esp32c5", "esp32c6", "esp32p4"]
        DOCUMENTATION_OPTIONS.RELEASE = 'v5.4.2';
        DOCUMENTATION_OPTIONS.LANGUAGE_URL = 'en';

    </script>

    <script type="text/javascript" src="https://dl.espressif.com/dl/esp-idf/idf_versions.js"></script>
    <link rel="author" title="About these documents" href="../../about.html" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="ESP-TLS" href="esp_tls.html" />
    <link rel="prev" title="ESP-Modbus" href="modbus.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            ESP-IDF Programming Guide
              <img src="../../_static/espressif-logo.svg" class="logo" alt="Logo"/>
          </a>

          
            <div class="selectors">
              <select id="target-select" style="width: 150px;" hidden>
                <option value="" disabled selected>Choose target...</option>
              </select>
            </div>
          

          <div class="selectors">
            <select id="version-select" style="width: 150px;" hidden>
              <option value="" disabled selected>Choose version...</option>
            </select>
          </div>

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../get-started/index.html">Get Started</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">API Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../api-conventions.html">API Conventions</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Application Protocols</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="asio.html">ASIO Port</a></li>
<li class="toctree-l3"><a class="reference internal" href="modbus.html">ESP-Modbus</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">ESP-MQTT</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="#features">Features</a></li>
<li class="toctree-l4"><a class="reference internal" href="#application-examples">Application Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="#mqtt-message-retransmission">MQTT Message Retransmission</a></li>
<li class="toctree-l4"><a class="reference internal" href="#configuration">Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#events">Events</a></li>
<li class="toctree-l4"><a class="reference internal" href="#api-reference">API Reference</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="esp_tls.html">ESP-TLS</a></li>
<li class="toctree-l3"><a class="reference internal" href="esp_http_client.html">ESP HTTP Client</a></li>
<li class="toctree-l3"><a class="reference internal" href="esp_local_ctrl.html">ESP Local Control</a></li>
<li class="toctree-l3"><a class="reference internal" href="esp_serial_slave_link.html">ESP Serial Slave Link</a></li>
<li class="toctree-l3"><a class="reference internal" href="esp_crt_bundle.html">ESP x509 Certificate Bundle</a></li>
<li class="toctree-l3"><a class="reference internal" href="esp_http_server.html">HTTP Server</a></li>
<li class="toctree-l3"><a class="reference internal" href="esp_https_server.html">HTTPS Server</a></li>
<li class="toctree-l3"><a class="reference internal" href="icmp_echo.html">ICMP Echo</a></li>
<li class="toctree-l3"><a class="reference internal" href="mdns.html">mDNS Service</a></li>
<li class="toctree-l3"><a class="reference internal" href="mbedtls.html">Mbed TLS</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#ip-network-layer">IP Network Layer</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../bluetooth/index.html">Bluetooth® API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../error-codes.html">Error Codes Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="../network/index.html">Networking APIs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../peripherals/index.html">Peripherals API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kconfig.html">Project Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../provisioning/index.html">Provisioning API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../storage/index.html">Storage API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../system/index.html">System API</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../hw-reference/index.html">Hardware Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api-guides/index.html">API Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../security/index.html">Security Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../migration-guides/index.html">Migration Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../libraries-and-frameworks/index.html">Libraries and Frameworks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contribute/index.html">Contributions Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../versions.html">ESP-IDF Versions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../resources.html">Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../COPYRIGHT.html">Copyrights and Licenses</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../about.html">About</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../languages.html">Switch Between Languages</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">ESP-IDF Programming Guide</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">API Reference</a></li>
          <li class="breadcrumb-item"><a href="index.html">Application Protocols</a></li>
      <li class="breadcrumb-item active">ESP-MQTT</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/espressif/esp-idf/blob/v5.4.2/docs/en/api-reference/protocols/mqtt.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="esp-mqtt">
<h1>ESP-MQTT<a class="headerlink" href="#esp-mqtt" title="Permalink to this heading"></a></h1>
<p><a class="reference external" href="../../../../../zh_CN/v5.4.2/esp32/api-reference/protocols/mqtt.html">[中文]</a></p>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this heading"></a></h2>
<p>ESP-MQTT is an implementation of <a class="reference external" href="https://mqtt.org/">MQTT</a> protocol client, which is a lightweight publish/subscribe messaging protocol. Now ESP-MQTT supports <a class="reference external" href="https://docs.oasis-open.org/mqtt/mqtt/v5.0/os/mqtt-v5.0-os.html">MQTT v5.0</a>.</p>
</section>
<section id="features">
<h2>Features<a class="headerlink" href="#features" title="Permalink to this heading"></a></h2>
<blockquote>
<div><ul class="simple">
<li><p>Support MQTT over TCP, SSL with Mbed TLS, MQTT over WebSocket, and MQTT over WebSocket Secure</p></li>
<li><p>Easy to setup with URI</p></li>
<li><p>Multiple instances (multiple clients in one application)</p></li>
<li><p>Support subscribing, publishing, authentication, last will messages, keep alive pings, and all 3 Quality of Service (QoS) levels (it should be a fully functional client)</p></li>
</ul>
</div></blockquote>
</section>
<section id="application-examples">
<h2>Application Examples<a class="headerlink" href="#application-examples" title="Permalink to this heading"></a></h2>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference external" href="https://github.com/espressif/esp-idf/tree/v5.4.2/examples/protocols/mqtt/tcp">protocols/mqtt/tcp</a> demonstrates how to implement MQTT communication over TCP (default port 1883).</p></li>
<li><p><a class="reference external" href="https://github.com/espressif/esp-idf/tree/v5.4.2/examples/protocols/mqtt/ssl">protocols/mqtt/ssl</a> demonstrates how to use SSL transport to implement MQTT communication over TLS (default port 8883).</p></li>
<li><p><a class="reference external" href="https://github.com/espressif/esp-idf/tree/v5.4.2/examples/protocols/mqtt/ssl_ds">protocols/mqtt/ssl_ds</a> demonstrates how to use digital signature peripheral for authentication to implement MQTT communication over TLS (default port 8883).</p></li>
<li><p><a class="reference external" href="https://github.com/espressif/esp-idf/tree/v5.4.2/examples/protocols/mqtt/ssl_mutual_auth">protocols/mqtt/ssl_mutual_auth</a> demonstrates how to use certificates for authentication to implement MQTT communication (default port 8883).</p></li>
<li><p><a class="reference external" href="https://github.com/espressif/esp-idf/tree/v5.4.2/examples/protocols/mqtt/ssl_psk">protocols/mqtt/ssl_psk</a> demonstrates how to use pre-shared keys for authentication to implement MQTT communication over TLS (default port 8883).</p></li>
<li><p><a class="reference external" href="https://github.com/espressif/esp-idf/tree/v5.4.2/examples/protocols/mqtt/ws">protocols/mqtt/ws</a> demonstrates how to implement MQTT communication over WebSocket (default port 80).</p></li>
<li><p><a class="reference external" href="https://github.com/espressif/esp-idf/tree/v5.4.2/examples/protocols/mqtt/wss">protocols/mqtt/wss</a> demonstrates how to implement MQTT communication over WebSocket Secure (default port 443).</p></li>
<li><p><a class="reference external" href="https://github.com/espressif/esp-idf/tree/v5.4.2/examples/protocols/mqtt5">protocols/mqtt5</a> demonstrates how to use ESP-MQTT library to connect to broker with MQTT v5.0.</p></li>
<li><p><a class="reference external" href="https://github.com/espressif/esp-idf/tree/v5.4.2/examples/protocols/mqtt/custom_outbox">protocols/mqtt/custom_outbox</a> demonstrates how to customize the outbox in the ESP-MQTT library.</p></li>
</ul>
</div></blockquote>
</section>
<section id="mqtt-message-retransmission">
<h2>MQTT Message Retransmission<a class="headerlink" href="#mqtt-message-retransmission" title="Permalink to this heading"></a></h2>
<p>A new MQTT message is created by calling <a class="reference internal" href="#_CPPv423esp_mqtt_client_publish24esp_mqtt_client_handle_tPKcPKciii" title="esp_mqtt_client_publish"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">esp_mqtt_client_publish</span></code></a> or its non blocking counterpart <a class="reference internal" href="#_CPPv423esp_mqtt_client_enqueue24esp_mqtt_client_handle_tPKcPKciiib" title="esp_mqtt_client_enqueue"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">esp_mqtt_client_enqueue</span></code></a>.</p>
<p>Messages with QoS 0 is sent only once. QoS 1 and 2 have different behaviors since the protocol requires extra steps to complete the process.</p>
<p>The ESP-MQTT library opts to always retransmit unacknowledged QoS 1 and 2 publish messages to avoid losses in faulty connections, even though the MQTT specification requires the re-transmission only on reconnect with Clean Session flag been set to 0 (set <a class="reference internal" href="#_CPPv4N24esp_mqtt_client_config_t9session_t21disable_clean_sessionE" title="esp_mqtt_client_config_t::session_t::disable_clean_session"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">disable_clean_session</span></code></a> to true for this behavior).</p>
<p>QoS 1 and 2 messages that may need retransmission are always enqueued, but first transmission try occurs immediately if <a class="reference internal" href="#_CPPv423esp_mqtt_client_publish24esp_mqtt_client_handle_tPKcPKciii" title="esp_mqtt_client_publish"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">esp_mqtt_client_publish</span></code></a> is used. A transmission retry for unacknowledged messages will occur after <a class="reference internal" href="#_CPPv4N24esp_mqtt_client_config_t9session_t26message_retransmit_timeoutE" title="esp_mqtt_client_config_t::session_t::message_retransmit_timeout"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">message_retransmit_timeout</span></code></a>. After <a class="reference internal" href="../kconfig.html#config-mqtt-outbox-expired-timeout-ms"><span class="std std-ref">CONFIG_MQTT_OUTBOX_EXPIRED_TIMEOUT_MS</span></a> messages will expire and be deleted. If <a class="reference internal" href="../kconfig.html#config-mqtt-report-deleted-messages"><span class="std std-ref">CONFIG_MQTT_REPORT_DELETED_MESSAGES</span></a> is set, an event will be sent to notify the user.</p>
</section>
<section id="configuration">
<h2>Configuration<a class="headerlink" href="#configuration" title="Permalink to this heading"></a></h2>
<p>The configuration is made by setting fields in <a class="reference internal" href="#_CPPv424esp_mqtt_client_config_t" title="esp_mqtt_client_config_t"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">esp_mqtt_client_config_t</span></code></a> struct. The configuration struct has the following sub structs to configure different aspects of the client operation.</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="#_CPPv4N24esp_mqtt_client_config_t8broker_tE" title="esp_mqtt_client_config_t::broker_t"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">esp_mqtt_client_config_t::broker_t</span></code></a> - Allow to set address and security verification.</p></li>
<li><p><a class="reference internal" href="#_CPPv4N24esp_mqtt_client_config_t13credentials_tE" title="esp_mqtt_client_config_t::credentials_t"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">esp_mqtt_client_config_t::credentials_t</span></code></a> - Client credentials for authentication.</p></li>
<li><p><a class="reference internal" href="#_CPPv4N24esp_mqtt_client_config_t9session_tE" title="esp_mqtt_client_config_t::session_t"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">esp_mqtt_client_config_t::session_t</span></code></a> - Configuration for MQTT session aspects.</p></li>
<li><p><a class="reference internal" href="#_CPPv4N24esp_mqtt_client_config_t9network_tE" title="esp_mqtt_client_config_t::network_t"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">esp_mqtt_client_config_t::network_t</span></code></a> - Networking related configuration.</p></li>
<li><p><a class="reference internal" href="#_CPPv4N24esp_mqtt_client_config_t6task_tE" title="esp_mqtt_client_config_t::task_t"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">esp_mqtt_client_config_t::task_t</span></code></a> - Allow to configure FreeRTOS task.</p></li>
<li><p><a class="reference internal" href="#_CPPv4N24esp_mqtt_client_config_t8buffer_tE" title="esp_mqtt_client_config_t::buffer_t"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">esp_mqtt_client_config_t::buffer_t</span></code></a> - Buffer size for input and output.</p></li>
</ul>
</div></blockquote>
<p>In the following sections, the most common aspects are detailed.</p>
<section id="broker">
<h3>Broker<a class="headerlink" href="#broker" title="Permalink to this heading"></a></h3>
<section id="address">
<h4>Address<a class="headerlink" href="#address" title="Permalink to this heading"></a></h4>
<p>Broker address can be set by usage of <a class="reference internal" href="#_CPPv4N24esp_mqtt_client_config_t8broker_t9address_tE" title="esp_mqtt_client_config_t::broker_t::address_t"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">address</span></code></a> struct. The configuration can be made by usage of <a class="reference internal" href="#_CPPv4N24esp_mqtt_client_config_t8broker_t9address_t3uriE" title="esp_mqtt_client_config_t::broker_t::address_t::uri"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">uri</span></code></a> field or the combination of <a class="reference internal" href="#_CPPv4N24esp_mqtt_client_config_t8broker_t9address_t8hostnameE" title="esp_mqtt_client_config_t::broker_t::address_t::hostname"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">hostname</span></code></a>, <a class="reference internal" href="#_CPPv4N24esp_mqtt_client_config_t8broker_t9address_t9transportE" title="esp_mqtt_client_config_t::broker_t::address_t::transport"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">transport</span></code></a> and <a class="reference internal" href="#_CPPv4N24esp_mqtt_client_config_t8broker_t9address_t4portE" title="esp_mqtt_client_config_t::broker_t::address_t::port"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">port</span></code></a>. Optionally, <a class="reference internal" href="#_CPPv4N24esp_mqtt_client_config_t8broker_t9address_t4pathE" title="esp_mqtt_client_config_t::broker_t::address_t::path"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">path</span></code></a> could be set, this field is useful in WebSocket connections.</p>
<p>The <a class="reference internal" href="#_CPPv4N24esp_mqtt_client_config_t8broker_t9address_t3uriE" title="esp_mqtt_client_config_t::broker_t::address_t::uri"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">uri</span></code></a> field is used in the format <code class="docutils literal notranslate"><span class="pre">scheme://hostname:port/path</span></code>.</p>
<ul class="simple">
<li><p>Currently support <code class="docutils literal notranslate"><span class="pre">mqtt</span></code>, <code class="docutils literal notranslate"><span class="pre">mqtts</span></code>, <code class="docutils literal notranslate"><span class="pre">ws</span></code>, <code class="docutils literal notranslate"><span class="pre">wss</span></code> schemes</p></li>
<li><p>MQTT over TCP samples:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">mqtt://mqtt.eclipseprojects.io</span></code>: MQTT over TCP, default port 1883</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">mqtt://mqtt.eclipseprojects.io:1884</span></code>: MQTT over TCP, port 1884</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">mqtt://username:password&#64;mqtt.eclipseprojects.io:1884</span></code>: MQTT over TCP,
port 1884, with username and password</p></li>
</ul>
</li>
<li><p>MQTT over SSL samples:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">mqtts://mqtt.eclipseprojects.io</span></code>: MQTT over SSL, port 8883</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">mqtts://mqtt.eclipseprojects.io:8884</span></code>: MQTT over SSL, port 8884</p></li>
</ul>
</li>
<li><p>MQTT over WebSocket samples:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">ws://mqtt.eclipseprojects.io:80/mqtt</span></code></p></li>
</ul>
</li>
<li><p>MQTT over WebSocket Secure samples:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">wss://mqtt.eclipseprojects.io:443/mqtt</span></code></p></li>
</ul>
</li>
<li><p>Minimal configurations:</p></li>
</ul>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">const</span><span class="w"> </span><span class="n">esp_mqtt_client_config_t</span><span class="w"> </span><span class="n">mqtt_cfg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="p">.</span><span class="n">broker</span><span class="p">.</span><span class="n">address</span><span class="p">.</span><span class="n">uri</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;mqtt://mqtt.eclipseprojects.io&quot;</span><span class="p">,</span>
<span class="p">};</span>
<span class="n">esp_mqtt_client_handle_t</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">esp_mqtt_client_init</span><span class="p">(</span><span class="o">&amp;</span><span class="n">mqtt_cfg</span><span class="p">);</span>
<span class="n">esp_mqtt_client_register_event</span><span class="p">(</span><span class="n">client</span><span class="p">,</span><span class="w"> </span><span class="n">ESP_EVENT_ANY_ID</span><span class="p">,</span><span class="w"> </span><span class="n">mqtt_event_handler</span><span class="p">,</span><span class="w"> </span><span class="n">client</span><span class="p">);</span>
<span class="n">esp_mqtt_client_start</span><span class="p">(</span><span class="n">client</span><span class="p">);</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>By default MQTT client uses event loop library to post related MQTT events (connected, subscribed, published, etc.).</p>
</div>
</section>
<section id="verification">
<h4>Verification<a class="headerlink" href="#verification" title="Permalink to this heading"></a></h4>
<p>For secure connections with TLS used, and to guarantee Broker's identity, the <a class="reference internal" href="#_CPPv4N24esp_mqtt_client_config_t8broker_t14verification_tE" title="esp_mqtt_client_config_t::broker_t::verification_t"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">verification</span></code></a> struct must be set.
The broker certificate may be set in PEM or DER format. To select DER, the equivalent <a class="reference internal" href="#_CPPv4N24esp_mqtt_client_config_t8broker_t14verification_t15certificate_lenE" title="esp_mqtt_client_config_t::broker_t::verification_t::certificate_len"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">certificate_len</span></code></a> field must be set. Otherwise, a null-terminated string in PEM format should be provided to <a class="reference internal" href="#_CPPv4N24esp_mqtt_client_config_t8broker_t14verification_t11certificateE" title="esp_mqtt_client_config_t::broker_t::verification_t::certificate"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">certificate</span></code></a> field.</p>
<ul>
<li><dl>
<dt>Get certificate from server, example: <code class="docutils literal notranslate"><span class="pre">mqtt.eclipseprojects.io</span></code></dt><dd><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">openssl</span> <span class="n">s_client</span> <span class="o">-</span><span class="n">showcerts</span> <span class="o">-</span><span class="n">connect</span> <span class="n">mqtt</span><span class="o">.</span><span class="n">eclipseprojects</span><span class="o">.</span><span class="n">io</span><span class="p">:</span><span class="mi">8883</span> <span class="o">&lt;</span> <span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">null</span> \
<span class="mi">2</span><span class="o">&gt;</span> <span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">null</span> <span class="o">|</span> <span class="n">openssl</span> <span class="n">x509</span> <span class="o">-</span><span class="n">outform</span> <span class="n">PEM</span> <span class="o">&gt;</span> <span class="n">mqtt_eclipse_org</span><span class="o">.</span><span class="n">pem</span>
</pre></div>
</div>
</dd>
</dl>
</li>
<li><p>Check the sample application: <a class="reference external" href="https://github.com/espressif/esp-idf/tree/v5.4.2/examples/protocols/mqtt/ssl">protocols/mqtt/ssl</a></p></li>
<li><p>Configuration:</p></li>
</ul>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">const</span><span class="w"> </span><span class="n">esp_mqtt_client_config_t</span><span class="w"> </span><span class="n">mqtt_cfg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="p">.</span><span class="n">broker</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="p">.</span><span class="n">address</span><span class="p">.</span><span class="n">uri</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;mqtts://mqtt.eclipseprojects.io:8883&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="p">.</span><span class="n">verification</span><span class="p">.</span><span class="n">certificate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="n">mqtt_eclipse_org_pem_start</span><span class="p">,</span>
<span class="w">    </span><span class="p">},</span>
<span class="p">};</span>
</pre></div>
</div>
<p>For details about other fields, please check the <a class="reference internal" href="#api-reference">API Reference</a> and <a class="reference internal" href="esp_tls.html#esp-tls-server-verification"><span class="std std-ref">TLS Server Verification</span></a>.</p>
</section>
</section>
<section id="client-credentials">
<h3>Client Credentials<a class="headerlink" href="#client-credentials" title="Permalink to this heading"></a></h3>
<p>All client related credentials are under the <a class="reference internal" href="#_CPPv4N24esp_mqtt_client_config_t13credentials_tE" title="esp_mqtt_client_config_t::credentials_t"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">credentials</span></code></a> field.</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="#_CPPv4N24esp_mqtt_client_config_t13credentials_t8usernameE" title="esp_mqtt_client_config_t::credentials_t::username"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">username</span></code></a>: pointer to the username used for connecting to the broker, can also be set by URI</p></li>
<li><p><a class="reference internal" href="#_CPPv4N24esp_mqtt_client_config_t13credentials_t9client_idE" title="esp_mqtt_client_config_t::credentials_t::client_id"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">client_id</span></code></a>: pointer to the client ID, defaults to <code class="docutils literal notranslate"><span class="pre">ESP32_%CHIPID%</span></code> where <code class="docutils literal notranslate"><span class="pre">%CHIPID%</span></code> are the last 3 bytes of MAC address in hex format</p></li>
</ul>
</div></blockquote>
<section id="authentication">
<h4>Authentication<a class="headerlink" href="#authentication" title="Permalink to this heading"></a></h4>
<p>It is possible to set authentication parameters through the <a class="reference internal" href="#_CPPv4N24esp_mqtt_client_config_t13credentials_t16authentication_tE" title="esp_mqtt_client_config_t::credentials_t::authentication_t"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">authentication</span></code></a> field. The client supports the following authentication methods:</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="#_CPPv4N24esp_mqtt_client_config_t13credentials_t16authentication_t8passwordE" title="esp_mqtt_client_config_t::credentials_t::authentication_t::password"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">password</span></code></a>: use a password by setting</p></li>
<li><p><a class="reference internal" href="#_CPPv4N24esp_mqtt_client_config_t13credentials_t16authentication_t11certificateE" title="esp_mqtt_client_config_t::credentials_t::authentication_t::certificate"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">certificate</span></code></a> and <a class="reference internal" href="#_CPPv4N24esp_mqtt_client_config_t13credentials_t16authentication_t3keyE" title="esp_mqtt_client_config_t::credentials_t::authentication_t::key"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">key</span></code></a>: mutual authentication with TLS, and both can be provided in PEM or DER format</p></li>
<li><p><a class="reference internal" href="#_CPPv4N24esp_mqtt_client_config_t13credentials_t16authentication_t18use_secure_elementE" title="esp_mqtt_client_config_t::credentials_t::authentication_t::use_secure_element"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">use_secure_element</span></code></a>: use secure element (ATECC608A) interfaced to ESP32</p></li>
<li><p><a class="reference internal" href="#_CPPv4N24esp_mqtt_client_config_t13credentials_t16authentication_t7ds_dataE" title="esp_mqtt_client_config_t::credentials_t::authentication_t::ds_data"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">ds_data</span></code></a>: use Digital Signature Peripheral available in some Espressif devices</p></li>
</ul>
</div></blockquote>
</section>
</section>
<section id="session">
<h3>Session<a class="headerlink" href="#session" title="Permalink to this heading"></a></h3>
<p>For MQTT session-related configurations, <a class="reference internal" href="#_CPPv4N24esp_mqtt_client_config_t9session_tE" title="esp_mqtt_client_config_t::session_t"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">session</span></code></a> fields should be used.</p>
<section id="last-will-and-testament">
<h4>Last Will and Testament<a class="headerlink" href="#last-will-and-testament" title="Permalink to this heading"></a></h4>
<p>MQTT allows for a last will and testament (LWT) message to notify other clients when a client ungracefully disconnects. This is configured by the following fields in the <a class="reference internal" href="#_CPPv4N24esp_mqtt_client_config_t9session_t11last_will_tE" title="esp_mqtt_client_config_t::session_t::last_will_t"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">last_will</span></code></a> struct.</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="#_CPPv4N24esp_mqtt_client_config_t9session_t11last_will_t5topicE" title="esp_mqtt_client_config_t::session_t::last_will_t::topic"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">topic</span></code></a>: pointer to the LWT message topic</p></li>
<li><p><a class="reference internal" href="#_CPPv4N24esp_mqtt_client_config_t9session_t11last_will_t3msgE" title="esp_mqtt_client_config_t::session_t::last_will_t::msg"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">msg</span></code></a>: pointer to the LWT message</p></li>
<li><p><a class="reference internal" href="#_CPPv4N24esp_mqtt_client_config_t9session_t11last_will_t7msg_lenE" title="esp_mqtt_client_config_t::session_t::last_will_t::msg_len"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">msg_len</span></code></a>: length of the LWT message, required if <a class="reference internal" href="#_CPPv4N24esp_mqtt_client_config_t9session_t11last_will_t3msgE" title="esp_mqtt_client_config_t::session_t::last_will_t::msg"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">msg</span></code></a> is not null-terminated</p></li>
<li><p><a class="reference internal" href="#_CPPv4N24esp_mqtt_client_config_t9session_t11last_will_t3qosE" title="esp_mqtt_client_config_t::session_t::last_will_t::qos"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">qos</span></code></a>: quality of service for the LWT message</p></li>
<li><p><a class="reference internal" href="#_CPPv4N24esp_mqtt_client_config_t9session_t11last_will_t6retainE" title="esp_mqtt_client_config_t::session_t::last_will_t::retain"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">retain</span></code></a>: specifies the retain flag of the LWT message</p></li>
</ul>
</div></blockquote>
</section>
</section>
<section id="change-settings-in-project-configuration-menu">
<h3>Change Settings in Project Configuration Menu<a class="headerlink" href="#change-settings-in-project-configuration-menu" title="Permalink to this heading"></a></h3>
<p>The settings for MQTT can be found using <code class="code docutils literal notranslate"><span class="pre">idf.py</span> <span class="pre">menuconfig</span></code>, under <code class="docutils literal notranslate"><span class="pre">Component</span> <span class="pre">config</span></code> &gt; <code class="docutils literal notranslate"><span class="pre">ESP-MQTT</span> <span class="pre">Configuration</span></code>.</p>
<p>The following settings are available:</p>
<ul class="simple">
<li><p><a class="reference internal" href="../kconfig.html#config-mqtt-protocol-311"><span class="std std-ref">CONFIG_MQTT_PROTOCOL_311</span></a>: enable 3.1.1 version of MQTT protocol</p></li>
<li><p><a class="reference internal" href="../kconfig.html#config-mqtt-transport-ssl"><span class="std std-ref">CONFIG_MQTT_TRANSPORT_SSL</span></a> and <a class="reference internal" href="../kconfig.html#config-mqtt-transport-websocket"><span class="std std-ref">CONFIG_MQTT_TRANSPORT_WEBSOCKET</span></a>: enable specific MQTT transport layer, such as SSL, WEBSOCKET, and WEBSOCKET_SECURE</p></li>
<li><p><a class="reference internal" href="../kconfig.html#config-mqtt-custom-outbox"><span class="std std-ref">CONFIG_MQTT_CUSTOM_OUTBOX</span></a>: disable default implementation of mqtt_outbox, so a specific implementation can be supplied</p></li>
</ul>
</section>
</section>
<section id="events">
<h2>Events<a class="headerlink" href="#events" title="Permalink to this heading"></a></h2>
<p>The following events may be posted by the MQTT client:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">MQTT_EVENT_BEFORE_CONNECT</span></code>: The client is initialized and about to start connecting to the broker.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MQTT_EVENT_CONNECTED</span></code>: The client has successfully established a connection to the broker. The client is now ready to send and receive data.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MQTT_EVENT_DISCONNECTED</span></code>: The client has aborted the connection due to being unable to read or write data, e.g., because the server is unavailable.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MQTT_EVENT_SUBSCRIBED</span></code>: The broker has acknowledged the client's subscribe request. The event data contains the message ID of the subscribe message.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MQTT_EVENT_UNSUBSCRIBED</span></code>: The broker has acknowledged the client's unsubscribe request. The event data contains the message ID of the unsubscribe message.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MQTT_EVENT_PUBLISHED</span></code>: The broker has acknowledged the client's publish message. This is only posted for QoS level 1 and 2, as level 0 does not use acknowledgements. The event data contains the message ID of the publish message.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MQTT_EVENT_DATA</span></code>: The client has received a publish message. The event data contains: message ID, name of the topic it was published to, received data and its length. For data that exceeds the internal buffer, multiple <code class="docutils literal notranslate"><span class="pre">MQTT_EVENT_DATA</span></code> events are posted and <a class="reference internal" href="#_CPPv4N16esp_mqtt_event_t19current_data_offsetE" title="esp_mqtt_event_t::current_data_offset"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">current_data_offset</span></code></a> and <a class="reference internal" href="#_CPPv4N16esp_mqtt_event_t14total_data_lenE" title="esp_mqtt_event_t::total_data_len"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">total_data_len</span></code></a> from event data updated to keep track of the fragmented message.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MQTT_EVENT_ERROR</span></code>: The client has encountered an error. The field <a class="reference internal" href="#_CPPv422esp_mqtt_error_codes_t" title="esp_mqtt_error_codes_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">error_handle</span></code></a> in the event data contains <a class="reference internal" href="#_CPPv421esp_mqtt_error_type_t" title="esp_mqtt_error_type_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">error_type</span></code></a> that can be used to identify the error. The type of error determines which parts of the <a class="reference internal" href="#_CPPv422esp_mqtt_error_codes_t" title="esp_mqtt_error_codes_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">error_handle</span></code></a> struct is filled.</p></li>
</ul>
</section>
<section id="api-reference">
<h2>API Reference<a class="headerlink" href="#api-reference" title="Permalink to this heading"></a></h2>
<section id="header-file">
<h3>Header File<a class="headerlink" href="#header-file" title="Permalink to this heading"></a></h3>
<ul>
<li><p><a class="reference external" href="https://github.com/espressif/esp-mqtt/blob/cac1552/include/mqtt_client.h">components/mqtt/esp-mqtt/include/mqtt_client.h</a></p></li>
<li><p>This header file can be included with:</p>
<blockquote>
<div><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;mqtt_client.h&quot;</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>This header file is a part of the API provided by the <code class="docutils literal notranslate"><span class="pre">mqtt</span></code> component. To declare that your component depends on <code class="docutils literal notranslate"><span class="pre">mqtt</span></code>, add the following to your CMakeLists.txt:</p>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>REQUIRES mqtt
</pre></div>
</div>
<p>or</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>PRIV_REQUIRES mqtt
</pre></div>
</div>
</div></blockquote>
</li>
</ul>
</section>
<section id="functions">
<h3>Functions<a class="headerlink" href="#functions" title="Permalink to this heading"></a></h3>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv420esp_mqtt_client_initPK24esp_mqtt_client_config_t">
<span id="_CPPv320esp_mqtt_client_initPK24esp_mqtt_client_config_t"></span><span id="_CPPv220esp_mqtt_client_initPK24esp_mqtt_client_config_t"></span><span id="esp_mqtt_client_init__esp_mqtt_client_config_tCP"></span><span class="target" id="mqtt__client_8h_1ac686bcd9a50d090377cfa18616de6181"></span><a class="reference internal" href="#_CPPv424esp_mqtt_client_handle_t" title="esp_mqtt_client_handle_t"><span class="n"><span class="pre">esp_mqtt_client_handle_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_mqtt_client_init</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv424esp_mqtt_client_config_t" title="esp_mqtt_client_config_t"><span class="n"><span class="pre">esp_mqtt_client_config_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">config</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv420esp_mqtt_client_initPK24esp_mqtt_client_config_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Creates <em>MQTT</em> client handle based on the configuration. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>config</strong> -- <em>MQTT</em> configuration structure</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>mqtt_client_handle if successfully created, NULL on error </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv423esp_mqtt_client_set_uri24esp_mqtt_client_handle_tPKc">
<span id="_CPPv323esp_mqtt_client_set_uri24esp_mqtt_client_handle_tPKc"></span><span id="_CPPv223esp_mqtt_client_set_uri24esp_mqtt_client_handle_tPKc"></span><span id="esp_mqtt_client_set_uri__esp_mqtt_client_handle_t.cCP"></span><span class="target" id="mqtt__client_8h_1a9cfde62e54d6924990bf9a67ebc3e854"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_mqtt_client_set_uri</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv424esp_mqtt_client_handle_t" title="esp_mqtt_client_handle_t"><span class="n"><span class="pre">esp_mqtt_client_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">client</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">uri</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv423esp_mqtt_client_set_uri24esp_mqtt_client_handle_tPKc" title="Permalink to this definition"></a><br /></dt>
<dd><p>Sets <em>MQTT</em> connection URI. This API is usually used to overrides the URI configured in esp_mqtt_client_init. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>client</strong> -- <em>MQTT</em> client handle </p></li>
<li><p><strong>uri</strong> -- </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>ESP_FAIL if URI parse error, ESP_OK on success </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv421esp_mqtt_client_start24esp_mqtt_client_handle_t">
<span id="_CPPv321esp_mqtt_client_start24esp_mqtt_client_handle_t"></span><span id="_CPPv221esp_mqtt_client_start24esp_mqtt_client_handle_t"></span><span id="esp_mqtt_client_start__esp_mqtt_client_handle_t"></span><span class="target" id="mqtt__client_8h_1a9ff83b825252a3de25589ed9298fa1d2"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_mqtt_client_start</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv424esp_mqtt_client_handle_t" title="esp_mqtt_client_handle_t"><span class="n"><span class="pre">esp_mqtt_client_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">client</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv421esp_mqtt_client_start24esp_mqtt_client_handle_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Starts <em>MQTT</em> client with already created client handle. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>client</strong> -- <em>MQTT</em> client handle</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>ESP_OK on success ESP_ERR_INVALID_ARG on wrong initialization ESP_FAIL on other error </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv425esp_mqtt_client_reconnect24esp_mqtt_client_handle_t">
<span id="_CPPv325esp_mqtt_client_reconnect24esp_mqtt_client_handle_t"></span><span id="_CPPv225esp_mqtt_client_reconnect24esp_mqtt_client_handle_t"></span><span id="esp_mqtt_client_reconnect__esp_mqtt_client_handle_t"></span><span class="target" id="mqtt__client_8h_1a7c704b4ca7d16b96e59b8f62759a70d0"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_mqtt_client_reconnect</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv424esp_mqtt_client_handle_t" title="esp_mqtt_client_handle_t"><span class="n"><span class="pre">esp_mqtt_client_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">client</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv425esp_mqtt_client_reconnect24esp_mqtt_client_handle_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>This api is typically used to force reconnection upon a specific event. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>client</strong> -- <em>MQTT</em> client handle</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>ESP_OK on success ESP_ERR_INVALID_ARG on wrong initialization ESP_FAIL if client is in invalid state </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv426esp_mqtt_client_disconnect24esp_mqtt_client_handle_t">
<span id="_CPPv326esp_mqtt_client_disconnect24esp_mqtt_client_handle_t"></span><span id="_CPPv226esp_mqtt_client_disconnect24esp_mqtt_client_handle_t"></span><span id="esp_mqtt_client_disconnect__esp_mqtt_client_handle_t"></span><span class="target" id="mqtt__client_8h_1ada39bc054539aca975cfa13c5dd95738"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_mqtt_client_disconnect</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv424esp_mqtt_client_handle_t" title="esp_mqtt_client_handle_t"><span class="n"><span class="pre">esp_mqtt_client_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">client</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv426esp_mqtt_client_disconnect24esp_mqtt_client_handle_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>This api is typically used to force disconnection from the broker. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>client</strong> -- <em>MQTT</em> client handle</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>ESP_OK on success ESP_ERR_INVALID_ARG on wrong initialization </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv420esp_mqtt_client_stop24esp_mqtt_client_handle_t">
<span id="_CPPv320esp_mqtt_client_stop24esp_mqtt_client_handle_t"></span><span id="_CPPv220esp_mqtt_client_stop24esp_mqtt_client_handle_t"></span><span id="esp_mqtt_client_stop__esp_mqtt_client_handle_t"></span><span class="target" id="mqtt__client_8h_1a857f1e77762f49eb72f6123d62985f2c"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_mqtt_client_stop</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv424esp_mqtt_client_handle_t" title="esp_mqtt_client_handle_t"><span class="n"><span class="pre">esp_mqtt_client_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">client</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv420esp_mqtt_client_stop24esp_mqtt_client_handle_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Stops <em>MQTT</em> client tasks. </p>
<p><ul class="simple">
<li><p>Notes:</p></li>
<li><p>Cannot be called from the <em>MQTT</em> event handler</p></li>
</ul>
</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>client</strong> -- <em>MQTT</em> client handle</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>ESP_OK on success ESP_ERR_INVALID_ARG on wrong initialization ESP_FAIL if client is in invalid state </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv432esp_mqtt_client_subscribe_single24esp_mqtt_client_handle_tPKci">
<span id="_CPPv332esp_mqtt_client_subscribe_single24esp_mqtt_client_handle_tPKci"></span><span id="_CPPv232esp_mqtt_client_subscribe_single24esp_mqtt_client_handle_tPKci"></span><span id="esp_mqtt_client_subscribe_single__esp_mqtt_client_handle_t.cCP.i"></span><span class="target" id="mqtt__client_8h_1a2aeee7b75dd6265b5cc1f9e772ac4472"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_mqtt_client_subscribe_single</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv424esp_mqtt_client_handle_t" title="esp_mqtt_client_handle_t"><span class="n"><span class="pre">esp_mqtt_client_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">client</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">topic</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">qos</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv432esp_mqtt_client_subscribe_single24esp_mqtt_client_handle_tPKci" title="Permalink to this definition"></a><br /></dt>
<dd><p>Subscribe the client to defined topic with defined qos. </p>
<p>Notes:<ul class="simple">
<li><p>Client must be connected to send subscribe message</p></li>
<li><p>This API is could be executed from a user task or from a <em>MQTT</em> event callback i.e. internal <em>MQTT</em> task (API is protected by internal mutex, so it might block if a longer data receive operation is in progress.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">esp_mqtt_client_subscribe</span></code> could be used to call this function.</p></li>
</ul>
</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>client</strong> -- <em>MQTT</em> client handle </p></li>
<li><p><strong>topic</strong> -- topic filter to subscribe </p></li>
<li><p><strong>qos</strong> -- Max qos level of the subscription</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>message_id of the subscribe message on success -1 on failure -2 in case of full outbox. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv434esp_mqtt_client_subscribe_multiple24esp_mqtt_client_handle_tPK16esp_mqtt_topic_ti">
<span id="_CPPv334esp_mqtt_client_subscribe_multiple24esp_mqtt_client_handle_tPK16esp_mqtt_topic_ti"></span><span id="_CPPv234esp_mqtt_client_subscribe_multiple24esp_mqtt_client_handle_tPK16esp_mqtt_topic_ti"></span><span id="esp_mqtt_client_subscribe_multiple__esp_mqtt_client_handle_t.esp_mqtt_topic_tCP.i"></span><span class="target" id="mqtt__client_8h_1a192c07839574e6c3b9a5555e8ef74c8e"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_mqtt_client_subscribe_multiple</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv424esp_mqtt_client_handle_t" title="esp_mqtt_client_handle_t"><span class="n"><span class="pre">esp_mqtt_client_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">client</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv416esp_mqtt_topic_t" title="esp_mqtt_topic_t"><span class="n"><span class="pre">esp_mqtt_topic_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">topic_list</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">size</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv434esp_mqtt_client_subscribe_multiple24esp_mqtt_client_handle_tPK16esp_mqtt_topic_ti" title="Permalink to this definition"></a><br /></dt>
<dd><p>Subscribe the client to a list of defined topics with defined qos. </p>
<p>Notes:<ul class="simple">
<li><p>Client must be connected to send subscribe message</p></li>
<li><p>This API is could be executed from a user task or from a <em>MQTT</em> event callback i.e. internal <em>MQTT</em> task (API is protected by internal mutex, so it might block if a longer data receive operation is in progress.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">esp_mqtt_client_subscribe</span></code> could be used to call this function.</p></li>
</ul>
</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>client</strong> -- <em>MQTT</em> client handle </p></li>
<li><p><strong>topic_list</strong> -- List of topics to subscribe </p></li>
<li><p><strong>size</strong> -- size of topic_list</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>message_id of the subscribe message on success -1 on failure -2 in case of full outbox. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv427esp_mqtt_client_unsubscribe24esp_mqtt_client_handle_tPKc">
<span id="_CPPv327esp_mqtt_client_unsubscribe24esp_mqtt_client_handle_tPKc"></span><span id="_CPPv227esp_mqtt_client_unsubscribe24esp_mqtt_client_handle_tPKc"></span><span id="esp_mqtt_client_unsubscribe__esp_mqtt_client_handle_t.cCP"></span><span class="target" id="mqtt__client_8h_1a5dbc4e611973bd09082fd5decf31aa1f"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_mqtt_client_unsubscribe</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv424esp_mqtt_client_handle_t" title="esp_mqtt_client_handle_t"><span class="n"><span class="pre">esp_mqtt_client_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">client</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">topic</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv427esp_mqtt_client_unsubscribe24esp_mqtt_client_handle_tPKc" title="Permalink to this definition"></a><br /></dt>
<dd><p>Unsubscribe the client from defined topic. </p>
<p>Notes:<ul class="simple">
<li><p>Client must be connected to send unsubscribe message</p></li>
<li><p>It is thread safe, please refer to <code class="docutils literal notranslate"><span class="pre">esp_mqtt_client_subscribe_single</span></code> for details</p></li>
</ul>
</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>client</strong> -- <em>MQTT</em> client handle </p></li>
<li><p><strong>topic</strong> -- </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>message_id of the subscribe message on success -1 on failure </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv423esp_mqtt_client_publish24esp_mqtt_client_handle_tPKcPKciii">
<span id="_CPPv323esp_mqtt_client_publish24esp_mqtt_client_handle_tPKcPKciii"></span><span id="_CPPv223esp_mqtt_client_publish24esp_mqtt_client_handle_tPKcPKciii"></span><span id="esp_mqtt_client_publish__esp_mqtt_client_handle_t.cCP.cCP.i.i.i"></span><span class="target" id="mqtt__client_8h_1a5b5cc7b7f948f635bfbcd67ac1519730"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_mqtt_client_publish</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv424esp_mqtt_client_handle_t" title="esp_mqtt_client_handle_t"><span class="n"><span class="pre">esp_mqtt_client_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">client</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">topic</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">data</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">len</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">qos</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">retain</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv423esp_mqtt_client_publish24esp_mqtt_client_handle_tPKcPKciii" title="Permalink to this definition"></a><br /></dt>
<dd><p>Client to send a publish message to the broker. </p>
<p>Notes:<ul class="simple">
<li><p>This API might block for several seconds, either due to network timeout (10s) or if publishing payloads longer than internal buffer (due to message fragmentation)</p></li>
<li><p>Client doesn't have to be connected for this API to work, enqueueing the messages with qos&gt;1 (returning -1 for all the qos=0 messages if disconnected). If MQTT_SKIP_PUBLISH_IF_DISCONNECTED is enabled, this API will not attempt to publish when the client is not connected and will always return -1.</p></li>
<li><p>It is thread safe, please refer to <code class="docutils literal notranslate"><span class="pre">esp_mqtt_client_subscribe</span></code> for details</p></li>
</ul>
</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>client</strong> -- <em>MQTT</em> client handle </p></li>
<li><p><strong>topic</strong> -- topic string </p></li>
<li><p><strong>data</strong> -- payload string (set to NULL, sending empty payload message) </p></li>
<li><p><strong>len</strong> -- data length, if set to 0, length is calculated from payload string </p></li>
<li><p><strong>qos</strong> -- QoS of publish message </p></li>
<li><p><strong>retain</strong> -- retain flag</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>message_id of the publish message (for QoS 0 message_id will always be zero) on success. -1 on failure, -2 in case of full outbox. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv423esp_mqtt_client_enqueue24esp_mqtt_client_handle_tPKcPKciiib">
<span id="_CPPv323esp_mqtt_client_enqueue24esp_mqtt_client_handle_tPKcPKciiib"></span><span id="_CPPv223esp_mqtt_client_enqueue24esp_mqtt_client_handle_tPKcPKciiib"></span><span id="esp_mqtt_client_enqueue__esp_mqtt_client_handle_t.cCP.cCP.i.i.i.b"></span><span class="target" id="mqtt__client_8h_1a650a5f177cc0a10851c2a483a45b5ba1"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_mqtt_client_enqueue</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv424esp_mqtt_client_handle_t" title="esp_mqtt_client_handle_t"><span class="n"><span class="pre">esp_mqtt_client_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">client</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">topic</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">data</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">len</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">qos</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">retain</span></span>, <span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">store</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv423esp_mqtt_client_enqueue24esp_mqtt_client_handle_tPKcPKciiib" title="Permalink to this definition"></a><br /></dt>
<dd><p>Enqueue a message to the outbox, to be sent later. Typically used for messages with qos&gt;0, but could be also used for qos=0 messages if store=true. </p>
<p>This API generates and stores the publish message into the internal outbox and the actual sending to the network is performed in the mqtt-task context (in contrast to the esp_mqtt_client_publish() which sends the publish message immediately in the user task's context). Thus, it could be used as a non blocking version of esp_mqtt_client_publish().</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>client</strong> -- <em>MQTT</em> client handle </p></li>
<li><p><strong>topic</strong> -- topic string </p></li>
<li><p><strong>data</strong> -- payload string (set to NULL, sending empty payload message) </p></li>
<li><p><strong>len</strong> -- data length, if set to 0, length is calculated from payload string </p></li>
<li><p><strong>qos</strong> -- QoS of publish message </p></li>
<li><p><strong>retain</strong> -- retain flag </p></li>
<li><p><strong>store</strong> -- if true, all messages are enqueued; otherwise only QoS 1 and QoS 2 are enqueued</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>message_id if queued successfully, -1 on failure, -2 in case of full outbox. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv423esp_mqtt_client_destroy24esp_mqtt_client_handle_t">
<span id="_CPPv323esp_mqtt_client_destroy24esp_mqtt_client_handle_t"></span><span id="_CPPv223esp_mqtt_client_destroy24esp_mqtt_client_handle_t"></span><span id="esp_mqtt_client_destroy__esp_mqtt_client_handle_t"></span><span class="target" id="mqtt__client_8h_1a5f877de7858f432346ad279f5c3ea275"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_mqtt_client_destroy</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv424esp_mqtt_client_handle_t" title="esp_mqtt_client_handle_t"><span class="n"><span class="pre">esp_mqtt_client_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">client</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv423esp_mqtt_client_destroy24esp_mqtt_client_handle_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Destroys the client handle. </p>
<p>Notes:<ul class="simple">
<li><p>Cannot be called from the <em>MQTT</em> event handler</p></li>
</ul>
</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>client</strong> -- <em>MQTT</em> client handle</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>ESP_OK ESP_ERR_INVALID_ARG on wrong initialization </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv419esp_mqtt_set_config24esp_mqtt_client_handle_tPK24esp_mqtt_client_config_t">
<span id="_CPPv319esp_mqtt_set_config24esp_mqtt_client_handle_tPK24esp_mqtt_client_config_t"></span><span id="_CPPv219esp_mqtt_set_config24esp_mqtt_client_handle_tPK24esp_mqtt_client_config_t"></span><span id="esp_mqtt_set_config__esp_mqtt_client_handle_t.esp_mqtt_client_config_tCP"></span><span class="target" id="mqtt__client_8h_1adcbf54e70cb89e71e9f3eaa4bdd44d45"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_mqtt_set_config</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv424esp_mqtt_client_handle_t" title="esp_mqtt_client_handle_t"><span class="n"><span class="pre">esp_mqtt_client_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">client</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv424esp_mqtt_client_config_t" title="esp_mqtt_client_config_t"><span class="n"><span class="pre">esp_mqtt_client_config_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">config</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv419esp_mqtt_set_config24esp_mqtt_client_handle_tPK24esp_mqtt_client_config_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Set configuration structure, typically used when updating the config (i.e. on &quot;before_connect&quot; event. </p>
<p>Notes:<ul class="simple">
<li><p>When calling this function make sure to have all the intendend configurations set, otherwise default values are set. </p></li>
</ul>
</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>client</strong> -- <em>MQTT</em> client handle</p></li>
<li><p><strong>config</strong> -- <em>MQTT</em> configuration structure</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>ESP_ERR_NO_MEM if failed to allocate ESP_ERR_INVALID_ARG if conflicts on transport configuration. ESP_OK on success </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv430esp_mqtt_client_register_event24esp_mqtt_client_handle_t19esp_mqtt_event_id_t19esp_event_handler_tPv">
<span id="_CPPv330esp_mqtt_client_register_event24esp_mqtt_client_handle_t19esp_mqtt_event_id_t19esp_event_handler_tPv"></span><span id="_CPPv230esp_mqtt_client_register_event24esp_mqtt_client_handle_t19esp_mqtt_event_id_t19esp_event_handler_tPv"></span><span id="esp_mqtt_client_register_event__esp_mqtt_client_handle_t.esp_mqtt_event_id_t.esp_event_handler_t.voidP"></span><span class="target" id="mqtt__client_8h_1ac0c0594e5d079702bae63c9a93fc133b"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_mqtt_client_register_event</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv424esp_mqtt_client_handle_t" title="esp_mqtt_client_handle_t"><span class="n"><span class="pre">esp_mqtt_client_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">client</span></span>, <a class="reference internal" href="#_CPPv419esp_mqtt_event_id_t" title="esp_mqtt_event_id_t"><span class="n"><span class="pre">esp_mqtt_event_id_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">event</span></span>, <a class="reference internal" href="../system/esp_event.html#_CPPv419esp_event_handler_t" title="esp_event_handler_t"><span class="n"><span class="pre">esp_event_handler_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">event_handler</span></span>, <span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">event_handler_arg</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv430esp_mqtt_client_register_event24esp_mqtt_client_handle_t19esp_mqtt_event_id_t19esp_event_handler_tPv" title="Permalink to this definition"></a><br /></dt>
<dd><p>Registers <em>MQTT</em> event. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>client</strong> -- <em>MQTT</em> client handle </p></li>
<li><p><strong>event</strong> -- event type </p></li>
<li><p><strong>event_handler</strong> -- handler callback </p></li>
<li><p><strong>event_handler_arg</strong> -- handlers context</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>ESP_ERR_NO_MEM if failed to allocate ESP_ERR_INVALID_ARG on wrong initialization ESP_OK on success </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv432esp_mqtt_client_unregister_event24esp_mqtt_client_handle_t19esp_mqtt_event_id_t19esp_event_handler_t">
<span id="_CPPv332esp_mqtt_client_unregister_event24esp_mqtt_client_handle_t19esp_mqtt_event_id_t19esp_event_handler_t"></span><span id="_CPPv232esp_mqtt_client_unregister_event24esp_mqtt_client_handle_t19esp_mqtt_event_id_t19esp_event_handler_t"></span><span id="esp_mqtt_client_unregister_event__esp_mqtt_client_handle_t.esp_mqtt_event_id_t.esp_event_handler_t"></span><span class="target" id="mqtt__client_8h_1aa32bc229bbdebb94ea8be2858e2de7a1"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_mqtt_client_unregister_event</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv424esp_mqtt_client_handle_t" title="esp_mqtt_client_handle_t"><span class="n"><span class="pre">esp_mqtt_client_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">client</span></span>, <a class="reference internal" href="#_CPPv419esp_mqtt_event_id_t" title="esp_mqtt_event_id_t"><span class="n"><span class="pre">esp_mqtt_event_id_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">event</span></span>, <a class="reference internal" href="../system/esp_event.html#_CPPv419esp_event_handler_t" title="esp_event_handler_t"><span class="n"><span class="pre">esp_event_handler_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">event_handler</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv432esp_mqtt_client_unregister_event24esp_mqtt_client_handle_t19esp_mqtt_event_id_t19esp_event_handler_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Unregisters mqtt event. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>client</strong> -- mqtt client handle </p></li>
<li><p><strong>event</strong> -- event ID </p></li>
<li><p><strong>event_handler</strong> -- handler to unregister</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>ESP_ERR_NO_MEM if failed to allocate ESP_ERR_INVALID_ARG on invalid event ID ESP_OK on success </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv431esp_mqtt_client_get_outbox_size24esp_mqtt_client_handle_t">
<span id="_CPPv331esp_mqtt_client_get_outbox_size24esp_mqtt_client_handle_t"></span><span id="_CPPv231esp_mqtt_client_get_outbox_size24esp_mqtt_client_handle_t"></span><span id="esp_mqtt_client_get_outbox_size__esp_mqtt_client_handle_t"></span><span class="target" id="mqtt__client_8h_1a83e3d80edbd2d6c955f8649da3624c2d"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_mqtt_client_get_outbox_size</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv424esp_mqtt_client_handle_t" title="esp_mqtt_client_handle_t"><span class="n"><span class="pre">esp_mqtt_client_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">client</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv431esp_mqtt_client_get_outbox_size24esp_mqtt_client_handle_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Get outbox size. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>client</strong> -- <em>MQTT</em> client handle </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>outbox size 0 on wrong initialization </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv430esp_mqtt_dispatch_custom_event24esp_mqtt_client_handle_tP16esp_mqtt_event_t">
<span id="_CPPv330esp_mqtt_dispatch_custom_event24esp_mqtt_client_handle_tP16esp_mqtt_event_t"></span><span id="_CPPv230esp_mqtt_dispatch_custom_event24esp_mqtt_client_handle_tP16esp_mqtt_event_t"></span><span id="esp_mqtt_dispatch_custom_event__esp_mqtt_client_handle_t.esp_mqtt_event_tP"></span><span class="target" id="mqtt__client_8h_1a93ffb2446fe63d0245af121b20d01022"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_mqtt_dispatch_custom_event</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv424esp_mqtt_client_handle_t" title="esp_mqtt_client_handle_t"><span class="n"><span class="pre">esp_mqtt_client_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">client</span></span>, <a class="reference internal" href="#_CPPv416esp_mqtt_event_t" title="esp_mqtt_event_t"><span class="n"><span class="pre">esp_mqtt_event_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">event</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv430esp_mqtt_dispatch_custom_event24esp_mqtt_client_handle_tP16esp_mqtt_event_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Dispatch user event to the mqtt internal event loop. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>client</strong> -- <em>MQTT</em> client handle </p></li>
<li><p><strong>event</strong> -- <em>MQTT</em> event handle structure </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>ESP_OK on success ESP_ERR_TIMEOUT if the event couldn't be queued (ref also CONFIG_MQTT_EVENT_QUEUE_SIZE) </p>
</dd>
</dl>
</dd></dl>

</section>
<section id="structures">
<h3>Structures<a class="headerlink" href="#structures" title="Permalink to this heading"></a></h3>
<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv420esp_mqtt_error_codes">
<span id="_CPPv320esp_mqtt_error_codes"></span><span id="_CPPv220esp_mqtt_error_codes"></span><span id="esp_mqtt_error_codes"></span><span class="target" id="structesp__mqtt__error__codes"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_mqtt_error_codes</span></span></span><a class="headerlink" href="#_CPPv420esp_mqtt_error_codes" title="Permalink to this definition"></a><br /></dt>
<dd><p><em>MQTT</em> error code structure to be passed as a contextual information into ERROR event </p>
<p>Important: This structure extends <code class="docutils literal notranslate"><a class="reference internal" href="esp_tls.html#structesp__tls__last__error"><span class="std std-ref"><span class="pre">esp_tls_last_error</span></span></a></code> error structure and is backward compatible with it (so might be down-casted and treated as <code class="docutils literal notranslate"><a class="reference internal" href="esp_tls.html#structesp__tls__last__error"><span class="std std-ref"><span class="pre">esp_tls_last_error</span></span></a></code> error, but recommended to update applications if used this way previously)</p>
<p>Use this structure directly checking error_type first and then appropriate error code depending on the source of the error:</p>
<p>| error_type | related member variables | note | | MQTT_ERROR_TYPE_TCP_TRANSPORT | esp_tls_last_esp_err, esp_tls_stack_err, esp_tls_cert_verify_flags, sock_errno | Error reported from tcp_transport/esp-tls | | MQTT_ERROR_TYPE_CONNECTION_REFUSED | connect_return_code | Internal error reported from <em>MQTT</em> broker on connection | </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N20esp_mqtt_error_codes20esp_tls_last_esp_errE">
<span id="_CPPv3N20esp_mqtt_error_codes20esp_tls_last_esp_errE"></span><span id="_CPPv2N20esp_mqtt_error_codes20esp_tls_last_esp_errE"></span><span id="esp_mqtt_error_codes::esp_tls_last_esp_err__esp_err_t"></span><span class="target" id="structesp__mqtt__error__codes_1a206ad5b39241b01c46797ae037e2d730"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_tls_last_esp_err</span></span></span><a class="headerlink" href="#_CPPv4N20esp_mqtt_error_codes20esp_tls_last_esp_errE" title="Permalink to this definition"></a><br /></dt>
<dd><p>last esp_err code reported from esp-tls component </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N20esp_mqtt_error_codes17esp_tls_stack_errE">
<span id="_CPPv3N20esp_mqtt_error_codes17esp_tls_stack_errE"></span><span id="_CPPv2N20esp_mqtt_error_codes17esp_tls_stack_errE"></span><span id="esp_mqtt_error_codes::esp_tls_stack_err__i"></span><span class="target" id="structesp__mqtt__error__codes_1ad1a450bda2b3a1dfe0fc8ed5b32a2317"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_tls_stack_err</span></span></span><a class="headerlink" href="#_CPPv4N20esp_mqtt_error_codes17esp_tls_stack_errE" title="Permalink to this definition"></a><br /></dt>
<dd><p>tls specific error code reported from underlying tls stack </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N20esp_mqtt_error_codes25esp_tls_cert_verify_flagsE">
<span id="_CPPv3N20esp_mqtt_error_codes25esp_tls_cert_verify_flagsE"></span><span id="_CPPv2N20esp_mqtt_error_codes25esp_tls_cert_verify_flagsE"></span><span id="esp_mqtt_error_codes::esp_tls_cert_verify_flags__i"></span><span class="target" id="structesp__mqtt__error__codes_1a12b447f898607f89b28d4d16e7d8f9ed"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_tls_cert_verify_flags</span></span></span><a class="headerlink" href="#_CPPv4N20esp_mqtt_error_codes25esp_tls_cert_verify_flagsE" title="Permalink to this definition"></a><br /></dt>
<dd><p>tls flags reported from underlying tls stack during certificate verification </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N20esp_mqtt_error_codes10error_typeE">
<span id="_CPPv3N20esp_mqtt_error_codes10error_typeE"></span><span id="_CPPv2N20esp_mqtt_error_codes10error_typeE"></span><span id="esp_mqtt_error_codes::error_type__esp_mqtt_error_type_t"></span><span class="target" id="structesp__mqtt__error__codes_1ac00be6050fb287d73fe606f33353dce2"></span><a class="reference internal" href="#_CPPv421esp_mqtt_error_type_t" title="esp_mqtt_error_type_t"><span class="n"><span class="pre">esp_mqtt_error_type_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">error_type</span></span></span><a class="headerlink" href="#_CPPv4N20esp_mqtt_error_codes10error_typeE" title="Permalink to this definition"></a><br /></dt>
<dd><p>error type referring to the source of the error </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N20esp_mqtt_error_codes19connect_return_codeE">
<span id="_CPPv3N20esp_mqtt_error_codes19connect_return_codeE"></span><span id="_CPPv2N20esp_mqtt_error_codes19connect_return_codeE"></span><span id="esp_mqtt_error_codes::connect_return_code__esp_mqtt_connect_return_code_t"></span><span class="target" id="structesp__mqtt__error__codes_1a9d0e11a98316144b08a6eca24dd88e3a"></span><a class="reference internal" href="#_CPPv430esp_mqtt_connect_return_code_t" title="esp_mqtt_connect_return_code_t"><span class="n"><span class="pre">esp_mqtt_connect_return_code_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">connect_return_code</span></span></span><a class="headerlink" href="#_CPPv4N20esp_mqtt_error_codes19connect_return_codeE" title="Permalink to this definition"></a><br /></dt>
<dd><p>connection refused error code reported from MQTT* broker on connection </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N20esp_mqtt_error_codes24esp_transport_sock_errnoE">
<span id="_CPPv3N20esp_mqtt_error_codes24esp_transport_sock_errnoE"></span><span id="_CPPv2N20esp_mqtt_error_codes24esp_transport_sock_errnoE"></span><span id="esp_mqtt_error_codes::esp_transport_sock_errno__i"></span><span class="target" id="structesp__mqtt__error__codes_1ac939fba4a6e58ddc3557ae9775257c06"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_transport_sock_errno</span></span></span><a class="headerlink" href="#_CPPv4N20esp_mqtt_error_codes24esp_transport_sock_errnoE" title="Permalink to this definition"></a><br /></dt>
<dd><p>errno from the underlying socket </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv416esp_mqtt_event_t">
<span id="_CPPv316esp_mqtt_event_t"></span><span id="_CPPv216esp_mqtt_event_t"></span><span id="esp_mqtt_event_t"></span><span class="target" id="structesp__mqtt__event__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_mqtt_event_t</span></span></span><a class="headerlink" href="#_CPPv416esp_mqtt_event_t" title="Permalink to this definition"></a><br /></dt>
<dd><p><em>MQTT</em> event configuration structure </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N16esp_mqtt_event_t8event_idE">
<span id="_CPPv3N16esp_mqtt_event_t8event_idE"></span><span id="_CPPv2N16esp_mqtt_event_t8event_idE"></span><span id="esp_mqtt_event_t::event_id__esp_mqtt_event_id_t"></span><span class="target" id="structesp__mqtt__event__t_1a8d39e94e410be510669137cc409ebf59"></span><a class="reference internal" href="#_CPPv419esp_mqtt_event_id_t" title="esp_mqtt_event_id_t"><span class="n"><span class="pre">esp_mqtt_event_id_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">event_id</span></span></span><a class="headerlink" href="#_CPPv4N16esp_mqtt_event_t8event_idE" title="Permalink to this definition"></a><br /></dt>
<dd><p><em>MQTT</em> event type </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N16esp_mqtt_event_t6clientE">
<span id="_CPPv3N16esp_mqtt_event_t6clientE"></span><span id="_CPPv2N16esp_mqtt_event_t6clientE"></span><span id="esp_mqtt_event_t::client__esp_mqtt_client_handle_t"></span><span class="target" id="structesp__mqtt__event__t_1a98cc67a3e2bc2edff318a9b8e462f013"></span><a class="reference internal" href="#_CPPv424esp_mqtt_client_handle_t" title="esp_mqtt_client_handle_t"><span class="n"><span class="pre">esp_mqtt_client_handle_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">client</span></span></span><a class="headerlink" href="#_CPPv4N16esp_mqtt_event_t6clientE" title="Permalink to this definition"></a><br /></dt>
<dd><p><em>MQTT</em> client handle for this event </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N16esp_mqtt_event_t4dataE">
<span id="_CPPv3N16esp_mqtt_event_t4dataE"></span><span id="_CPPv2N16esp_mqtt_event_t4dataE"></span><span id="esp_mqtt_event_t::data__cP"></span><span class="target" id="structesp__mqtt__event__t_1a775c7292c911598ba70d83de920aa13c"></span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">data</span></span></span><a class="headerlink" href="#_CPPv4N16esp_mqtt_event_t4dataE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Data associated with this event </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N16esp_mqtt_event_t8data_lenE">
<span id="_CPPv3N16esp_mqtt_event_t8data_lenE"></span><span id="_CPPv2N16esp_mqtt_event_t8data_lenE"></span><span id="esp_mqtt_event_t::data_len__i"></span><span class="target" id="structesp__mqtt__event__t_1a7138e57613333befa84b780259ffe9a0"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">data_len</span></span></span><a class="headerlink" href="#_CPPv4N16esp_mqtt_event_t8data_lenE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Length of the data for this event </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N16esp_mqtt_event_t14total_data_lenE">
<span id="_CPPv3N16esp_mqtt_event_t14total_data_lenE"></span><span id="_CPPv2N16esp_mqtt_event_t14total_data_lenE"></span><span id="esp_mqtt_event_t::total_data_len__i"></span><span class="target" id="structesp__mqtt__event__t_1ab1572c86f4daf8de8f073726b47bbc59"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">total_data_len</span></span></span><a class="headerlink" href="#_CPPv4N16esp_mqtt_event_t14total_data_lenE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Total length of the data (longer data are supplied with multiple events) </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N16esp_mqtt_event_t19current_data_offsetE">
<span id="_CPPv3N16esp_mqtt_event_t19current_data_offsetE"></span><span id="_CPPv2N16esp_mqtt_event_t19current_data_offsetE"></span><span id="esp_mqtt_event_t::current_data_offset__i"></span><span class="target" id="structesp__mqtt__event__t_1a8ced8992b9de3b739496cbb7a100529e"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">current_data_offset</span></span></span><a class="headerlink" href="#_CPPv4N16esp_mqtt_event_t19current_data_offsetE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Actual offset for the data associated with this event </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N16esp_mqtt_event_t5topicE">
<span id="_CPPv3N16esp_mqtt_event_t5topicE"></span><span id="_CPPv2N16esp_mqtt_event_t5topicE"></span><span id="esp_mqtt_event_t::topic__cP"></span><span class="target" id="structesp__mqtt__event__t_1aaad657d5f5a42ff5e79cd27f370d7477"></span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">topic</span></span></span><a class="headerlink" href="#_CPPv4N16esp_mqtt_event_t5topicE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Topic associated with this event </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N16esp_mqtt_event_t9topic_lenE">
<span id="_CPPv3N16esp_mqtt_event_t9topic_lenE"></span><span id="_CPPv2N16esp_mqtt_event_t9topic_lenE"></span><span id="esp_mqtt_event_t::topic_len__i"></span><span class="target" id="structesp__mqtt__event__t_1aa2cb2fc24cf9b8226c1c294f81bb61ce"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">topic_len</span></span></span><a class="headerlink" href="#_CPPv4N16esp_mqtt_event_t9topic_lenE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Length of the topic for this event associated with this event </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N16esp_mqtt_event_t6msg_idE">
<span id="_CPPv3N16esp_mqtt_event_t6msg_idE"></span><span id="_CPPv2N16esp_mqtt_event_t6msg_idE"></span><span id="esp_mqtt_event_t::msg_id__i"></span><span class="target" id="structesp__mqtt__event__t_1a2dac4c1bab157c73b759251dbe50d534"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">msg_id</span></span></span><a class="headerlink" href="#_CPPv4N16esp_mqtt_event_t6msg_idE" title="Permalink to this definition"></a><br /></dt>
<dd><p><em>MQTT</em> messaged id of message </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N16esp_mqtt_event_t15session_presentE">
<span id="_CPPv3N16esp_mqtt_event_t15session_presentE"></span><span id="_CPPv2N16esp_mqtt_event_t15session_presentE"></span><span id="esp_mqtt_event_t::session_present__i"></span><span class="target" id="structesp__mqtt__event__t_1a06fac53e30358c4d19d9d573b9fd91d6"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">session_present</span></span></span><a class="headerlink" href="#_CPPv4N16esp_mqtt_event_t15session_presentE" title="Permalink to this definition"></a><br /></dt>
<dd><p><em>MQTT</em> session_present flag for connection event </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N16esp_mqtt_event_t12error_handleE">
<span id="_CPPv3N16esp_mqtt_event_t12error_handleE"></span><span id="_CPPv2N16esp_mqtt_event_t12error_handleE"></span><span id="esp_mqtt_event_t::error_handle__esp_mqtt_error_codes_tP"></span><span class="target" id="structesp__mqtt__event__t_1a066c507f85d92fbd3e605c3685c907ec"></span><a class="reference internal" href="#_CPPv422esp_mqtt_error_codes_t" title="esp_mqtt_error_codes_t"><span class="n"><span class="pre">esp_mqtt_error_codes_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">error_handle</span></span></span><a class="headerlink" href="#_CPPv4N16esp_mqtt_event_t12error_handleE" title="Permalink to this definition"></a><br /></dt>
<dd><p>esp-mqtt error handle including esp-tls errors as well as internal <em>MQTT</em> errors </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N16esp_mqtt_event_t6retainE">
<span id="_CPPv3N16esp_mqtt_event_t6retainE"></span><span id="_CPPv2N16esp_mqtt_event_t6retainE"></span><span id="esp_mqtt_event_t::retain__b"></span><span class="target" id="structesp__mqtt__event__t_1a14cc6263fe719664f51b4a9102962ba8"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">retain</span></span></span><a class="headerlink" href="#_CPPv4N16esp_mqtt_event_t6retainE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Retained flag of the message associated with this event </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N16esp_mqtt_event_t3qosE">
<span id="_CPPv3N16esp_mqtt_event_t3qosE"></span><span id="_CPPv2N16esp_mqtt_event_t3qosE"></span><span id="esp_mqtt_event_t::qos__i"></span><span class="target" id="structesp__mqtt__event__t_1af2ce8cc691d9c3e1ea653b252841d4f9"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">qos</span></span></span><a class="headerlink" href="#_CPPv4N16esp_mqtt_event_t3qosE" title="Permalink to this definition"></a><br /></dt>
<dd><p>QoS of the messages associated with this event </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N16esp_mqtt_event_t3dupE">
<span id="_CPPv3N16esp_mqtt_event_t3dupE"></span><span id="_CPPv2N16esp_mqtt_event_t3dupE"></span><span id="esp_mqtt_event_t::dup__b"></span><span class="target" id="structesp__mqtt__event__t_1a3c70a868834c1c2835cf3a50a1363a82"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">dup</span></span></span><a class="headerlink" href="#_CPPv4N16esp_mqtt_event_t3dupE" title="Permalink to this definition"></a><br /></dt>
<dd><p>dup flag of the message associated with this event </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N16esp_mqtt_event_t12protocol_verE">
<span id="_CPPv3N16esp_mqtt_event_t12protocol_verE"></span><span id="_CPPv2N16esp_mqtt_event_t12protocol_verE"></span><span id="esp_mqtt_event_t::protocol_ver__esp_mqtt_protocol_ver_t"></span><span class="target" id="structesp__mqtt__event__t_1aa344b5e5c0e772341665328581c6bc4c"></span><a class="reference internal" href="#_CPPv423esp_mqtt_protocol_ver_t" title="esp_mqtt_protocol_ver_t"><span class="n"><span class="pre">esp_mqtt_protocol_ver_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">protocol_ver</span></span></span><a class="headerlink" href="#_CPPv4N16esp_mqtt_event_t12protocol_verE" title="Permalink to this definition"></a><br /></dt>
<dd><p>MQTT protocol version used for connection, defaults to value from menuconfig </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv424esp_mqtt_client_config_t">
<span id="_CPPv324esp_mqtt_client_config_t"></span><span id="_CPPv224esp_mqtt_client_config_t"></span><span id="esp_mqtt_client_config_t"></span><span class="target" id="structesp__mqtt__client__config__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_mqtt_client_config_t</span></span></span><a class="headerlink" href="#_CPPv424esp_mqtt_client_config_t" title="Permalink to this definition"></a><br /></dt>
<dd><p><em>MQTT</em> client configuration structure</p>
<p><ul class="simple">
<li><p>Default values can be set via menuconfig</p></li>
<li><p>All certificates and key data could be passed in PEM or DER format. PEM format must have a terminating NULL character and the related len field set to 0. DER format requires a related len field set to the correct length. </p></li>
</ul>
</p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24esp_mqtt_client_config_t6brokerE">
<span id="_CPPv3N24esp_mqtt_client_config_t6brokerE"></span><span id="_CPPv2N24esp_mqtt_client_config_t6brokerE"></span><span id="esp_mqtt_client_config_t::broker__esp_mqtt_client_config_t::broker_t"></span><span class="target" id="structesp__mqtt__client__config__t_1a741bc957bf761e8c82e38d1cd90f61c9"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv424esp_mqtt_client_config_t" title="esp_mqtt_client_config_t"><span class="n"><span class="pre">esp_mqtt_client_config_t</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="#_CPPv4N24esp_mqtt_client_config_t8broker_tE" title="esp_mqtt_client_config_t::broker_t"><span class="n"><span class="pre">broker_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">broker</span></span></span><a class="headerlink" href="#_CPPv4N24esp_mqtt_client_config_t6brokerE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Broker address and security verification </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24esp_mqtt_client_config_t11credentialsE">
<span id="_CPPv3N24esp_mqtt_client_config_t11credentialsE"></span><span id="_CPPv2N24esp_mqtt_client_config_t11credentialsE"></span><span id="esp_mqtt_client_config_t::credentials__esp_mqtt_client_config_t::credentials_t"></span><span class="target" id="structesp__mqtt__client__config__t_1a415ef9f5f1cae7a4fa018f60b0a6428f"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv424esp_mqtt_client_config_t" title="esp_mqtt_client_config_t"><span class="n"><span class="pre">esp_mqtt_client_config_t</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="#_CPPv4N24esp_mqtt_client_config_t13credentials_tE" title="esp_mqtt_client_config_t::credentials_t"><span class="n"><span class="pre">credentials_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">credentials</span></span></span><a class="headerlink" href="#_CPPv4N24esp_mqtt_client_config_t11credentialsE" title="Permalink to this definition"></a><br /></dt>
<dd><p>User credentials for broker </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24esp_mqtt_client_config_t7sessionE">
<span id="_CPPv3N24esp_mqtt_client_config_t7sessionE"></span><span id="_CPPv2N24esp_mqtt_client_config_t7sessionE"></span><span id="esp_mqtt_client_config_t::session__esp_mqtt_client_config_t::session_t"></span><span class="target" id="structesp__mqtt__client__config__t_1a7b116ae45d68164ef0cb075a78c5c387"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv424esp_mqtt_client_config_t" title="esp_mqtt_client_config_t"><span class="n"><span class="pre">esp_mqtt_client_config_t</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="#_CPPv4N24esp_mqtt_client_config_t9session_tE" title="esp_mqtt_client_config_t::session_t"><span class="n"><span class="pre">session_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">session</span></span></span><a class="headerlink" href="#_CPPv4N24esp_mqtt_client_config_t7sessionE" title="Permalink to this definition"></a><br /></dt>
<dd><p><em>MQTT</em> session configuration. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24esp_mqtt_client_config_t7networkE">
<span id="_CPPv3N24esp_mqtt_client_config_t7networkE"></span><span id="_CPPv2N24esp_mqtt_client_config_t7networkE"></span><span id="esp_mqtt_client_config_t::network__esp_mqtt_client_config_t::network_t"></span><span class="target" id="structesp__mqtt__client__config__t_1a6ebd712ad502ce18077adc84782a3077"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv424esp_mqtt_client_config_t" title="esp_mqtt_client_config_t"><span class="n"><span class="pre">esp_mqtt_client_config_t</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="#_CPPv4N24esp_mqtt_client_config_t9network_tE" title="esp_mqtt_client_config_t::network_t"><span class="n"><span class="pre">network_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">network</span></span></span><a class="headerlink" href="#_CPPv4N24esp_mqtt_client_config_t7networkE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Network configuration </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24esp_mqtt_client_config_t4taskE">
<span id="_CPPv3N24esp_mqtt_client_config_t4taskE"></span><span id="_CPPv2N24esp_mqtt_client_config_t4taskE"></span><span id="esp_mqtt_client_config_t::task__esp_mqtt_client_config_t::task_t"></span><span class="target" id="structesp__mqtt__client__config__t_1a55f099aa602258b42a70c16986e6562d"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv424esp_mqtt_client_config_t" title="esp_mqtt_client_config_t"><span class="n"><span class="pre">esp_mqtt_client_config_t</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="#_CPPv4N24esp_mqtt_client_config_t6task_tE" title="esp_mqtt_client_config_t::task_t"><span class="n"><span class="pre">task_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">task</span></span></span><a class="headerlink" href="#_CPPv4N24esp_mqtt_client_config_t4taskE" title="Permalink to this definition"></a><br /></dt>
<dd><p>FreeRTOS task configuration. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24esp_mqtt_client_config_t6bufferE">
<span id="_CPPv3N24esp_mqtt_client_config_t6bufferE"></span><span id="_CPPv2N24esp_mqtt_client_config_t6bufferE"></span><span id="esp_mqtt_client_config_t::buffer__esp_mqtt_client_config_t::buffer_t"></span><span class="target" id="structesp__mqtt__client__config__t_1afa3efcc9aade25024a08820a8a73b25a"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv424esp_mqtt_client_config_t" title="esp_mqtt_client_config_t"><span class="n"><span class="pre">esp_mqtt_client_config_t</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="#_CPPv4N24esp_mqtt_client_config_t8buffer_tE" title="esp_mqtt_client_config_t::buffer_t"><span class="n"><span class="pre">buffer_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">buffer</span></span></span><a class="headerlink" href="#_CPPv4N24esp_mqtt_client_config_t6bufferE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Buffer size configuration. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24esp_mqtt_client_config_t6outboxE">
<span id="_CPPv3N24esp_mqtt_client_config_t6outboxE"></span><span id="_CPPv2N24esp_mqtt_client_config_t6outboxE"></span><span id="esp_mqtt_client_config_t::outbox__esp_mqtt_client_config_t::outbox_config_t"></span><span class="target" id="structesp__mqtt__client__config__t_1a7493e64783c76dc24b230f740161b248"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv424esp_mqtt_client_config_t" title="esp_mqtt_client_config_t"><span class="n"><span class="pre">esp_mqtt_client_config_t</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="#_CPPv4N24esp_mqtt_client_config_t15outbox_config_tE" title="esp_mqtt_client_config_t::outbox_config_t"><span class="n"><span class="pre">outbox_config_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">outbox</span></span></span><a class="headerlink" href="#_CPPv4N24esp_mqtt_client_config_t6outboxE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Outbox configuration. </p>
</dd></dl>

</div>
<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv4N24esp_mqtt_client_config_t8broker_tE">
<span id="_CPPv3N24esp_mqtt_client_config_t8broker_tE"></span><span id="_CPPv2N24esp_mqtt_client_config_t8broker_tE"></span><span id="esp_mqtt_client_config_t::broker_t"></span><span class="target" id="structesp__mqtt__client__config__t_1_1broker__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">broker_t</span></span></span><a class="headerlink" href="#_CPPv4N24esp_mqtt_client_config_t8broker_tE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Broker related configuration </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24esp_mqtt_client_config_t8broker_t7addressE">
<span id="_CPPv3N24esp_mqtt_client_config_t8broker_t7addressE"></span><span id="_CPPv2N24esp_mqtt_client_config_t8broker_t7addressE"></span><span id="esp_mqtt_client_config_t::broker_t::address__esp_mqtt_client_config_t::broker_t::address_t"></span><span class="target" id="structesp__mqtt__client__config__t_1_1broker__t_1a862a4f37fbe6d75242adfcf5f5f22ed1"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv424esp_mqtt_client_config_t" title="esp_mqtt_client_config_t"><span class="n"><span class="pre">esp_mqtt_client_config_t</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="#_CPPv4N24esp_mqtt_client_config_t8broker_tE" title="esp_mqtt_client_config_t::broker_t"><span class="n"><span class="pre">broker_t</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="#_CPPv4N24esp_mqtt_client_config_t8broker_t9address_tE" title="esp_mqtt_client_config_t::broker_t::address_t"><span class="n"><span class="pre">address_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">address</span></span></span><a class="headerlink" href="#_CPPv4N24esp_mqtt_client_config_t8broker_t7addressE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Broker address configuration </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24esp_mqtt_client_config_t8broker_t12verificationE">
<span id="_CPPv3N24esp_mqtt_client_config_t8broker_t12verificationE"></span><span id="_CPPv2N24esp_mqtt_client_config_t8broker_t12verificationE"></span><span id="esp_mqtt_client_config_t::broker_t::verification__esp_mqtt_client_config_t::broker_t::verification_t"></span><span class="target" id="structesp__mqtt__client__config__t_1_1broker__t_1aba5cd33a8aa24bd50e494a42eb7c03f7"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv424esp_mqtt_client_config_t" title="esp_mqtt_client_config_t"><span class="n"><span class="pre">esp_mqtt_client_config_t</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="#_CPPv4N24esp_mqtt_client_config_t8broker_tE" title="esp_mqtt_client_config_t::broker_t"><span class="n"><span class="pre">broker_t</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="#_CPPv4N24esp_mqtt_client_config_t8broker_t14verification_tE" title="esp_mqtt_client_config_t::broker_t::verification_t"><span class="n"><span class="pre">verification_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">verification</span></span></span><a class="headerlink" href="#_CPPv4N24esp_mqtt_client_config_t8broker_t12verificationE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Security verification of the broker </p>
</dd></dl>

</div>
<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv4N24esp_mqtt_client_config_t8broker_t9address_tE">
<span id="_CPPv3N24esp_mqtt_client_config_t8broker_t9address_tE"></span><span id="_CPPv2N24esp_mqtt_client_config_t8broker_t9address_tE"></span><span id="esp_mqtt_client_config_t::broker_t::address_t"></span><span class="target" id="structesp__mqtt__client__config__t_1_1broker__t_1_1address__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">address_t</span></span></span><a class="headerlink" href="#_CPPv4N24esp_mqtt_client_config_t8broker_t9address_tE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Broker address</p>
<p><ul class="simple">
<li><p>uri have precedence over other fields</p></li>
<li><p>If uri isn't set at least hostname, transport and port should. </p></li>
</ul>
</p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24esp_mqtt_client_config_t8broker_t9address_t3uriE">
<span id="_CPPv3N24esp_mqtt_client_config_t8broker_t9address_t3uriE"></span><span id="_CPPv2N24esp_mqtt_client_config_t8broker_t9address_t3uriE"></span><span id="esp_mqtt_client_config_t::broker_t::address_t::uri__cCP"></span><span class="target" id="structesp__mqtt__client__config__t_1_1broker__t_1_1address__t_1a3a8e3e2f3a417edc29c82e49941c3b6f"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">uri</span></span></span><a class="headerlink" href="#_CPPv4N24esp_mqtt_client_config_t8broker_t9address_t3uriE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Complete <em>MQTT</em> broker URI </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24esp_mqtt_client_config_t8broker_t9address_t8hostnameE">
<span id="_CPPv3N24esp_mqtt_client_config_t8broker_t9address_t8hostnameE"></span><span id="_CPPv2N24esp_mqtt_client_config_t8broker_t9address_t8hostnameE"></span><span id="esp_mqtt_client_config_t::broker_t::address_t::hostname__cCP"></span><span class="target" id="structesp__mqtt__client__config__t_1_1broker__t_1_1address__t_1af1ca48049e88c8c97de3f4d4b78e71dd"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">hostname</span></span></span><a class="headerlink" href="#_CPPv4N24esp_mqtt_client_config_t8broker_t9address_t8hostnameE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Hostname, to set ipv4 pass it as string) </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24esp_mqtt_client_config_t8broker_t9address_t9transportE">
<span id="_CPPv3N24esp_mqtt_client_config_t8broker_t9address_t9transportE"></span><span id="_CPPv2N24esp_mqtt_client_config_t8broker_t9address_t9transportE"></span><span id="esp_mqtt_client_config_t::broker_t::address_t::transport__esp_mqtt_transport_t"></span><span class="target" id="structesp__mqtt__client__config__t_1_1broker__t_1_1address__t_1ac5524900d8b5198f823ad7c8856185a3"></span><a class="reference internal" href="#_CPPv420esp_mqtt_transport_t" title="esp_mqtt_transport_t"><span class="n"><span class="pre">esp_mqtt_transport_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">transport</span></span></span><a class="headerlink" href="#_CPPv4N24esp_mqtt_client_config_t8broker_t9address_t9transportE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Selects transport </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24esp_mqtt_client_config_t8broker_t9address_t4pathE">
<span id="_CPPv3N24esp_mqtt_client_config_t8broker_t9address_t4pathE"></span><span id="_CPPv2N24esp_mqtt_client_config_t8broker_t9address_t4pathE"></span><span id="esp_mqtt_client_config_t::broker_t::address_t::path__cCP"></span><span class="target" id="structesp__mqtt__client__config__t_1_1broker__t_1_1address__t_1aaca2bf6b1a1be6f70c9f4f3f813c1228"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">path</span></span></span><a class="headerlink" href="#_CPPv4N24esp_mqtt_client_config_t8broker_t9address_t4pathE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Path in the URI </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24esp_mqtt_client_config_t8broker_t9address_t4portE">
<span id="_CPPv3N24esp_mqtt_client_config_t8broker_t9address_t4portE"></span><span id="_CPPv2N24esp_mqtt_client_config_t8broker_t9address_t4portE"></span><span id="esp_mqtt_client_config_t::broker_t::address_t::port__uint32_t"></span><span class="target" id="structesp__mqtt__client__config__t_1_1broker__t_1_1address__t_1a0c02d91f9f2262e62b6ac7ed7925bcaa"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">port</span></span></span><a class="headerlink" href="#_CPPv4N24esp_mqtt_client_config_t8broker_t9address_t4portE" title="Permalink to this definition"></a><br /></dt>
<dd><p><em>MQTT</em> server port </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv4N24esp_mqtt_client_config_t8broker_t14verification_tE">
<span id="_CPPv3N24esp_mqtt_client_config_t8broker_t14verification_tE"></span><span id="_CPPv2N24esp_mqtt_client_config_t8broker_t14verification_tE"></span><span id="esp_mqtt_client_config_t::broker_t::verification_t"></span><span class="target" id="structesp__mqtt__client__config__t_1_1broker__t_1_1verification__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">verification_t</span></span></span><a class="headerlink" href="#_CPPv4N24esp_mqtt_client_config_t8broker_t14verification_tE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Broker identity verification</p>
<p>If fields are not set broker's identity isn't verified. it's recommended to set the options in this struct for security reasons. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24esp_mqtt_client_config_t8broker_t14verification_t19use_global_ca_storeE">
<span id="_CPPv3N24esp_mqtt_client_config_t8broker_t14verification_t19use_global_ca_storeE"></span><span id="_CPPv2N24esp_mqtt_client_config_t8broker_t14verification_t19use_global_ca_storeE"></span><span id="esp_mqtt_client_config_t::broker_t::verification_t::use_global_ca_store__b"></span><span class="target" id="structesp__mqtt__client__config__t_1_1broker__t_1_1verification__t_1afbca9f3c9a5974f0622cbb200640ce46"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">use_global_ca_store</span></span></span><a class="headerlink" href="#_CPPv4N24esp_mqtt_client_config_t8broker_t14verification_t19use_global_ca_storeE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Use a global ca_store, look esp-tls documentation for details. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24esp_mqtt_client_config_t8broker_t14verification_t17crt_bundle_attachE">
<span id="_CPPv3N24esp_mqtt_client_config_t8broker_t14verification_t17crt_bundle_attachE"></span><span id="_CPPv2N24esp_mqtt_client_config_t8broker_t14verification_t17crt_bundle_attachE"></span><span class="target" id="structesp__mqtt__client__config__t_1_1broker__t_1_1verification__t_1ab8468cfa24c8663b01eb8990b56a3fa4"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">crt_bundle_attach</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">conf</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#_CPPv4N24esp_mqtt_client_config_t8broker_t14verification_t17crt_bundle_attachE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Pointer to ESP x509 Certificate Bundle attach function for the usage of certificate bundles. Client only attach the bundle, the clean up must be done by the user. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24esp_mqtt_client_config_t8broker_t14verification_t11certificateE">
<span id="_CPPv3N24esp_mqtt_client_config_t8broker_t14verification_t11certificateE"></span><span id="_CPPv2N24esp_mqtt_client_config_t8broker_t14verification_t11certificateE"></span><span id="esp_mqtt_client_config_t::broker_t::verification_t::certificate__cCP"></span><span class="target" id="structesp__mqtt__client__config__t_1_1broker__t_1_1verification__t_1a6d5025088b22514d98c469496f7a03ff"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">certificate</span></span></span><a class="headerlink" href="#_CPPv4N24esp_mqtt_client_config_t8broker_t14verification_t11certificateE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Certificate data, default is NULL. It's not copied nor freed by the client, user needs to clean up. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24esp_mqtt_client_config_t8broker_t14verification_t15certificate_lenE">
<span id="_CPPv3N24esp_mqtt_client_config_t8broker_t14verification_t15certificate_lenE"></span><span id="_CPPv2N24esp_mqtt_client_config_t8broker_t14verification_t15certificate_lenE"></span><span id="esp_mqtt_client_config_t::broker_t::verification_t::certificate_len__s"></span><span class="target" id="structesp__mqtt__client__config__t_1_1broker__t_1_1verification__t_1a3a8bfdc1b396dee1e4f23afc611c5210"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">certificate_len</span></span></span><a class="headerlink" href="#_CPPv4N24esp_mqtt_client_config_t8broker_t14verification_t15certificate_lenE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Length of the buffer pointed to by certificate. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24esp_mqtt_client_config_t8broker_t14verification_t12psk_hint_keyE">
<span id="_CPPv3N24esp_mqtt_client_config_t8broker_t14verification_t12psk_hint_keyE"></span><span id="_CPPv2N24esp_mqtt_client_config_t8broker_t14verification_t12psk_hint_keyE"></span><span id="esp_mqtt_client_config_t::broker_t::verification_t::psk_hint_key__psk_key_hintCP"></span><span class="target" id="structesp__mqtt__client__config__t_1_1broker__t_1_1verification__t_1a6865b39390cc81f2f3a192da60da71be"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="esp_tls.html#_CPPv412psk_key_hint" title="psk_key_hint"><span class="n"><span class="pre">psk_key_hint</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">psk_hint_key</span></span></span><a class="headerlink" href="#_CPPv4N24esp_mqtt_client_config_t8broker_t14verification_t12psk_hint_keyE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Pointer to PSK struct defined in esp_tls.h to enable PSK authentication (as alternative to certificate verification). PSK is enabled only if there are no other ways to verify broker. It's not copied nor freed by the client, user needs to clean up. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24esp_mqtt_client_config_t8broker_t14verification_t27skip_cert_common_name_checkE">
<span id="_CPPv3N24esp_mqtt_client_config_t8broker_t14verification_t27skip_cert_common_name_checkE"></span><span id="_CPPv2N24esp_mqtt_client_config_t8broker_t14verification_t27skip_cert_common_name_checkE"></span><span id="esp_mqtt_client_config_t::broker_t::verification_t::skip_cert_common_name_check__b"></span><span class="target" id="structesp__mqtt__client__config__t_1_1broker__t_1_1verification__t_1ac98ae01adae2b7f67d7345e6509a2adc"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">skip_cert_common_name_check</span></span></span><a class="headerlink" href="#_CPPv4N24esp_mqtt_client_config_t8broker_t14verification_t27skip_cert_common_name_checkE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Skip any validation of server certificate CN field, this reduces the security of TLS and makes the <em>MQTT</em> client susceptible to MITM attacks </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24esp_mqtt_client_config_t8broker_t14verification_t11alpn_protosE">
<span id="_CPPv3N24esp_mqtt_client_config_t8broker_t14verification_t11alpn_protosE"></span><span id="_CPPv2N24esp_mqtt_client_config_t8broker_t14verification_t11alpn_protosE"></span><span id="esp_mqtt_client_config_t::broker_t::verification_t::alpn_protos__cCPP"></span><span class="target" id="structesp__mqtt__client__config__t_1_1broker__t_1_1verification__t_1ad6824faba7c1463da31929672a0d77f0"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">alpn_protos</span></span></span><a class="headerlink" href="#_CPPv4N24esp_mqtt_client_config_t8broker_t14verification_t11alpn_protosE" title="Permalink to this definition"></a><br /></dt>
<dd><p>NULL-terminated list of supported application protocols to be used for ALPN. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24esp_mqtt_client_config_t8broker_t14verification_t11common_nameE">
<span id="_CPPv3N24esp_mqtt_client_config_t8broker_t14verification_t11common_nameE"></span><span id="_CPPv2N24esp_mqtt_client_config_t8broker_t14verification_t11common_nameE"></span><span id="esp_mqtt_client_config_t::broker_t::verification_t::common_name__cCP"></span><span class="target" id="structesp__mqtt__client__config__t_1_1broker__t_1_1verification__t_1a99dd8d5a741a5b994e92edad1120c31a"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">common_name</span></span></span><a class="headerlink" href="#_CPPv4N24esp_mqtt_client_config_t8broker_t14verification_t11common_nameE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Pointer to the string containing server certificate common name. If non-NULL, server certificate CN must match this name, If NULL, server certificate CN must match hostname. This is ignored if skip_cert_common_name_check=true. It's not copied nor freed by the client, user needs to clean up. </p>
</dd></dl>

</div>
</dd></dl>

</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv4N24esp_mqtt_client_config_t8buffer_tE">
<span id="_CPPv3N24esp_mqtt_client_config_t8buffer_tE"></span><span id="_CPPv2N24esp_mqtt_client_config_t8buffer_tE"></span><span id="esp_mqtt_client_config_t::buffer_t"></span><span class="target" id="structesp__mqtt__client__config__t_1_1buffer__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">buffer_t</span></span></span><a class="headerlink" href="#_CPPv4N24esp_mqtt_client_config_t8buffer_tE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Client buffer size configuration</p>
<p>Client have two buffers for input and output respectivelly. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24esp_mqtt_client_config_t8buffer_t4sizeE">
<span id="_CPPv3N24esp_mqtt_client_config_t8buffer_t4sizeE"></span><span id="_CPPv2N24esp_mqtt_client_config_t8buffer_t4sizeE"></span><span id="esp_mqtt_client_config_t::buffer_t::size__i"></span><span class="target" id="structesp__mqtt__client__config__t_1_1buffer__t_1a2812bf0d788f5759ef28461818262714"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">size</span></span></span><a class="headerlink" href="#_CPPv4N24esp_mqtt_client_config_t8buffer_t4sizeE" title="Permalink to this definition"></a><br /></dt>
<dd><p>size of <em>MQTT</em> send/receive buffer </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24esp_mqtt_client_config_t8buffer_t8out_sizeE">
<span id="_CPPv3N24esp_mqtt_client_config_t8buffer_t8out_sizeE"></span><span id="_CPPv2N24esp_mqtt_client_config_t8buffer_t8out_sizeE"></span><span id="esp_mqtt_client_config_t::buffer_t::out_size__i"></span><span class="target" id="structesp__mqtt__client__config__t_1_1buffer__t_1adaf0fa777315101d4a60801e3a383a40"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">out_size</span></span></span><a class="headerlink" href="#_CPPv4N24esp_mqtt_client_config_t8buffer_t8out_sizeE" title="Permalink to this definition"></a><br /></dt>
<dd><p>size of <em>MQTT</em> output buffer. If not defined, defaults to the size defined by <code class="docutils literal notranslate"><span class="pre">buffer_size</span></code></p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv4N24esp_mqtt_client_config_t13credentials_tE">
<span id="_CPPv3N24esp_mqtt_client_config_t13credentials_tE"></span><span id="_CPPv2N24esp_mqtt_client_config_t13credentials_tE"></span><span id="esp_mqtt_client_config_t::credentials_t"></span><span class="target" id="structesp__mqtt__client__config__t_1_1credentials__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">credentials_t</span></span></span><a class="headerlink" href="#_CPPv4N24esp_mqtt_client_config_t13credentials_tE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Client related credentials for authentication. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24esp_mqtt_client_config_t13credentials_t8usernameE">
<span id="_CPPv3N24esp_mqtt_client_config_t13credentials_t8usernameE"></span><span id="_CPPv2N24esp_mqtt_client_config_t13credentials_t8usernameE"></span><span id="esp_mqtt_client_config_t::credentials_t::username__cCP"></span><span class="target" id="structesp__mqtt__client__config__t_1_1credentials__t_1a1e409bc57ff5c874fcd7372ad1eba2d2"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">username</span></span></span><a class="headerlink" href="#_CPPv4N24esp_mqtt_client_config_t13credentials_t8usernameE" title="Permalink to this definition"></a><br /></dt>
<dd><p><em>MQTT</em> username </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24esp_mqtt_client_config_t13credentials_t9client_idE">
<span id="_CPPv3N24esp_mqtt_client_config_t13credentials_t9client_idE"></span><span id="_CPPv2N24esp_mqtt_client_config_t13credentials_t9client_idE"></span><span id="esp_mqtt_client_config_t::credentials_t::client_id__cCP"></span><span class="target" id="structesp__mqtt__client__config__t_1_1credentials__t_1a1257dbff2d8a4b13b1108da8f4655218"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">client_id</span></span></span><a class="headerlink" href="#_CPPv4N24esp_mqtt_client_config_t13credentials_t9client_idE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Set <em>MQTT</em> client identifier. Ignored if set_null_client_id == true If NULL set the default client id. Default client id is <code class="docutils literal notranslate"><span class="pre">ESP32_CHIPID%</span></code> where <code class="docutils literal notranslate"><span class="pre">CHIPID%</span></code> are last 3 bytes of MAC address in hex format </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24esp_mqtt_client_config_t13credentials_t18set_null_client_idE">
<span id="_CPPv3N24esp_mqtt_client_config_t13credentials_t18set_null_client_idE"></span><span id="_CPPv2N24esp_mqtt_client_config_t13credentials_t18set_null_client_idE"></span><span id="esp_mqtt_client_config_t::credentials_t::set_null_client_id__b"></span><span class="target" id="structesp__mqtt__client__config__t_1_1credentials__t_1a1d2d43c23c6e923d1bbb628270f1a37d"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">set_null_client_id</span></span></span><a class="headerlink" href="#_CPPv4N24esp_mqtt_client_config_t13credentials_t18set_null_client_idE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Selects a NULL client id </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24esp_mqtt_client_config_t13credentials_t14authenticationE">
<span id="_CPPv3N24esp_mqtt_client_config_t13credentials_t14authenticationE"></span><span id="_CPPv2N24esp_mqtt_client_config_t13credentials_t14authenticationE"></span><span id="esp_mqtt_client_config_t::credentials_t::authentication__esp_mqtt_client_config_t::credentials_t::authentication_t"></span><span class="target" id="structesp__mqtt__client__config__t_1_1credentials__t_1ad5cf51d0b57bdc1ee2bb7906fa700893"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv424esp_mqtt_client_config_t" title="esp_mqtt_client_config_t"><span class="n"><span class="pre">esp_mqtt_client_config_t</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="#_CPPv4N24esp_mqtt_client_config_t13credentials_tE" title="esp_mqtt_client_config_t::credentials_t"><span class="n"><span class="pre">credentials_t</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="#_CPPv4N24esp_mqtt_client_config_t13credentials_t16authentication_tE" title="esp_mqtt_client_config_t::credentials_t::authentication_t"><span class="n"><span class="pre">authentication_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">authentication</span></span></span><a class="headerlink" href="#_CPPv4N24esp_mqtt_client_config_t13credentials_t14authenticationE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Client authentication </p>
</dd></dl>

</div>
<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv4N24esp_mqtt_client_config_t13credentials_t16authentication_tE">
<span id="_CPPv3N24esp_mqtt_client_config_t13credentials_t16authentication_tE"></span><span id="_CPPv2N24esp_mqtt_client_config_t13credentials_t16authentication_tE"></span><span id="esp_mqtt_client_config_t::credentials_t::authentication_t"></span><span class="target" id="structesp__mqtt__client__config__t_1_1credentials__t_1_1authentication__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">authentication_t</span></span></span><a class="headerlink" href="#_CPPv4N24esp_mqtt_client_config_t13credentials_t16authentication_tE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Client authentication</p>
<p>Fields related to client authentication by broker</p>
<p>For mutual authentication using TLS, user could select certificate and key, secure element or digital signature peripheral if available. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24esp_mqtt_client_config_t13credentials_t16authentication_t8passwordE">
<span id="_CPPv3N24esp_mqtt_client_config_t13credentials_t16authentication_t8passwordE"></span><span id="_CPPv2N24esp_mqtt_client_config_t13credentials_t16authentication_t8passwordE"></span><span id="esp_mqtt_client_config_t::credentials_t::authentication_t::password__cCP"></span><span class="target" id="structesp__mqtt__client__config__t_1_1credentials__t_1_1authentication__t_1a54e90688bc4c0da3f722074b1d9de75c"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">password</span></span></span><a class="headerlink" href="#_CPPv4N24esp_mqtt_client_config_t13credentials_t16authentication_t8passwordE" title="Permalink to this definition"></a><br /></dt>
<dd><p><em>MQTT</em> password </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24esp_mqtt_client_config_t13credentials_t16authentication_t11certificateE">
<span id="_CPPv3N24esp_mqtt_client_config_t13credentials_t16authentication_t11certificateE"></span><span id="_CPPv2N24esp_mqtt_client_config_t13credentials_t16authentication_t11certificateE"></span><span id="esp_mqtt_client_config_t::credentials_t::authentication_t::certificate__cCP"></span><span class="target" id="structesp__mqtt__client__config__t_1_1credentials__t_1_1authentication__t_1a3710096f900393caf31eeda08ca8f96f"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">certificate</span></span></span><a class="headerlink" href="#_CPPv4N24esp_mqtt_client_config_t13credentials_t16authentication_t11certificateE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Certificate for ssl mutual authentication, not required if mutual authentication is not needed. Must be provided with <code class="docutils literal notranslate"><span class="pre">key</span></code>. It's not copied nor freed by the client, user needs to clean up. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24esp_mqtt_client_config_t13credentials_t16authentication_t15certificate_lenE">
<span id="_CPPv3N24esp_mqtt_client_config_t13credentials_t16authentication_t15certificate_lenE"></span><span id="_CPPv2N24esp_mqtt_client_config_t13credentials_t16authentication_t15certificate_lenE"></span><span id="esp_mqtt_client_config_t::credentials_t::authentication_t::certificate_len__s"></span><span class="target" id="structesp__mqtt__client__config__t_1_1credentials__t_1_1authentication__t_1a1e96cb17874d59619fdae0b88bc844de"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">certificate_len</span></span></span><a class="headerlink" href="#_CPPv4N24esp_mqtt_client_config_t13credentials_t16authentication_t15certificate_lenE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Length of the buffer pointed to by certificate. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24esp_mqtt_client_config_t13credentials_t16authentication_t3keyE">
<span id="_CPPv3N24esp_mqtt_client_config_t13credentials_t16authentication_t3keyE"></span><span id="_CPPv2N24esp_mqtt_client_config_t13credentials_t16authentication_t3keyE"></span><span id="esp_mqtt_client_config_t::credentials_t::authentication_t::key__cCP"></span><span class="target" id="structesp__mqtt__client__config__t_1_1credentials__t_1_1authentication__t_1a43db0dc3aa71867455ecc33b0f221f07"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">key</span></span></span><a class="headerlink" href="#_CPPv4N24esp_mqtt_client_config_t13credentials_t16authentication_t3keyE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Private key for SSL mutual authentication, not required if mutual authentication is not needed. If it is not NULL, also <code class="docutils literal notranslate"><span class="pre">certificate</span></code> has to be provided. It's not copied nor freed by the client, user needs to clean up. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24esp_mqtt_client_config_t13credentials_t16authentication_t7key_lenE">
<span id="_CPPv3N24esp_mqtt_client_config_t13credentials_t16authentication_t7key_lenE"></span><span id="_CPPv2N24esp_mqtt_client_config_t13credentials_t16authentication_t7key_lenE"></span><span id="esp_mqtt_client_config_t::credentials_t::authentication_t::key_len__s"></span><span class="target" id="structesp__mqtt__client__config__t_1_1credentials__t_1_1authentication__t_1ab9513af4847318caa002ffebe4570824"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">key_len</span></span></span><a class="headerlink" href="#_CPPv4N24esp_mqtt_client_config_t13credentials_t16authentication_t7key_lenE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Length of the buffer pointed to by key. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24esp_mqtt_client_config_t13credentials_t16authentication_t12key_passwordE">
<span id="_CPPv3N24esp_mqtt_client_config_t13credentials_t16authentication_t12key_passwordE"></span><span id="_CPPv2N24esp_mqtt_client_config_t13credentials_t16authentication_t12key_passwordE"></span><span id="esp_mqtt_client_config_t::credentials_t::authentication_t::key_password__cCP"></span><span class="target" id="structesp__mqtt__client__config__t_1_1credentials__t_1_1authentication__t_1a07279333670ebaf42dc3ad7ac97f3cf3"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">key_password</span></span></span><a class="headerlink" href="#_CPPv4N24esp_mqtt_client_config_t13credentials_t16authentication_t12key_passwordE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Client key decryption password, not PEM nor DER, if provided <code class="docutils literal notranslate"><span class="pre">key_password_len</span></code> must be correctly set. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24esp_mqtt_client_config_t13credentials_t16authentication_t16key_password_lenE">
<span id="_CPPv3N24esp_mqtt_client_config_t13credentials_t16authentication_t16key_password_lenE"></span><span id="_CPPv2N24esp_mqtt_client_config_t13credentials_t16authentication_t16key_password_lenE"></span><span id="esp_mqtt_client_config_t::credentials_t::authentication_t::key_password_len__i"></span><span class="target" id="structesp__mqtt__client__config__t_1_1credentials__t_1_1authentication__t_1a3d943fb896542bdf65611badddc59044"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">key_password_len</span></span></span><a class="headerlink" href="#_CPPv4N24esp_mqtt_client_config_t13credentials_t16authentication_t16key_password_lenE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Length of the password pointed to by <code class="docutils literal notranslate"><span class="pre">key_password</span></code></p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24esp_mqtt_client_config_t13credentials_t16authentication_t18use_secure_elementE">
<span id="_CPPv3N24esp_mqtt_client_config_t13credentials_t16authentication_t18use_secure_elementE"></span><span id="_CPPv2N24esp_mqtt_client_config_t13credentials_t16authentication_t18use_secure_elementE"></span><span id="esp_mqtt_client_config_t::credentials_t::authentication_t::use_secure_element__b"></span><span class="target" id="structesp__mqtt__client__config__t_1_1credentials__t_1_1authentication__t_1a4b9ef93d4639413faa3182d09eafb46a"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">use_secure_element</span></span></span><a class="headerlink" href="#_CPPv4N24esp_mqtt_client_config_t13credentials_t16authentication_t18use_secure_elementE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Enable secure element, available in ESP32-ROOM-32SE, for SSL connection </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24esp_mqtt_client_config_t13credentials_t16authentication_t7ds_dataE">
<span id="_CPPv3N24esp_mqtt_client_config_t13credentials_t16authentication_t7ds_dataE"></span><span id="_CPPv2N24esp_mqtt_client_config_t13credentials_t16authentication_t7ds_dataE"></span><span id="esp_mqtt_client_config_t::credentials_t::authentication_t::ds_data__voidP"></span><span class="target" id="structesp__mqtt__client__config__t_1_1credentials__t_1_1authentication__t_1a0a1452a8e50680298efd9613d8b43160"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">ds_data</span></span></span><a class="headerlink" href="#_CPPv4N24esp_mqtt_client_config_t13credentials_t16authentication_t7ds_dataE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Carrier of handle for digital signature parameters, digital signature peripheral is available in some Espressif devices. It's not copied nor freed by the client, user needs to clean up. </p>
</dd></dl>

</div>
</dd></dl>

</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv4N24esp_mqtt_client_config_t9network_tE">
<span id="_CPPv3N24esp_mqtt_client_config_t9network_tE"></span><span id="_CPPv2N24esp_mqtt_client_config_t9network_tE"></span><span id="esp_mqtt_client_config_t::network_t"></span><span class="target" id="structesp__mqtt__client__config__t_1_1network__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">network_t</span></span></span><a class="headerlink" href="#_CPPv4N24esp_mqtt_client_config_t9network_tE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Network related configuration </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24esp_mqtt_client_config_t9network_t20reconnect_timeout_msE">
<span id="_CPPv3N24esp_mqtt_client_config_t9network_t20reconnect_timeout_msE"></span><span id="_CPPv2N24esp_mqtt_client_config_t9network_t20reconnect_timeout_msE"></span><span id="esp_mqtt_client_config_t::network_t::reconnect_timeout_ms__i"></span><span class="target" id="structesp__mqtt__client__config__t_1_1network__t_1ad02d56084b1841927b210c0551cce2c4"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">reconnect_timeout_ms</span></span></span><a class="headerlink" href="#_CPPv4N24esp_mqtt_client_config_t9network_t20reconnect_timeout_msE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Reconnect to the broker after this value in miliseconds if auto reconnect is not disabled (defaults to 10s) </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24esp_mqtt_client_config_t9network_t10timeout_msE">
<span id="_CPPv3N24esp_mqtt_client_config_t9network_t10timeout_msE"></span><span id="_CPPv2N24esp_mqtt_client_config_t9network_t10timeout_msE"></span><span id="esp_mqtt_client_config_t::network_t::timeout_ms__i"></span><span class="target" id="structesp__mqtt__client__config__t_1_1network__t_1a747cd31b0cc2f487d375b49a5821ed45"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">timeout_ms</span></span></span><a class="headerlink" href="#_CPPv4N24esp_mqtt_client_config_t9network_t10timeout_msE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Abort network operation if it is not completed after this value, in milliseconds (defaults to 10s). </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24esp_mqtt_client_config_t9network_t27refresh_connection_after_msE">
<span id="_CPPv3N24esp_mqtt_client_config_t9network_t27refresh_connection_after_msE"></span><span id="_CPPv2N24esp_mqtt_client_config_t9network_t27refresh_connection_after_msE"></span><span id="esp_mqtt_client_config_t::network_t::refresh_connection_after_ms__i"></span><span class="target" id="structesp__mqtt__client__config__t_1_1network__t_1ac5885baf8c8095b950bbf4e6cac8f554"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">refresh_connection_after_ms</span></span></span><a class="headerlink" href="#_CPPv4N24esp_mqtt_client_config_t9network_t27refresh_connection_after_msE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Refresh connection after this value (in milliseconds) </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24esp_mqtt_client_config_t9network_t22disable_auto_reconnectE">
<span id="_CPPv3N24esp_mqtt_client_config_t9network_t22disable_auto_reconnectE"></span><span id="_CPPv2N24esp_mqtt_client_config_t9network_t22disable_auto_reconnectE"></span><span id="esp_mqtt_client_config_t::network_t::disable_auto_reconnect__b"></span><span class="target" id="structesp__mqtt__client__config__t_1_1network__t_1a5186af0797128b942c07e7bd8e7369c1"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">disable_auto_reconnect</span></span></span><a class="headerlink" href="#_CPPv4N24esp_mqtt_client_config_t9network_t22disable_auto_reconnectE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Client will reconnect to server (when errors/disconnect). Set <code class="docutils literal notranslate"><span class="pre">disable_auto_reconnect=true</span></code> to disable </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24esp_mqtt_client_config_t9network_t9transportE">
<span id="_CPPv3N24esp_mqtt_client_config_t9network_t9transportE"></span><span id="_CPPv2N24esp_mqtt_client_config_t9network_t9transportE"></span><span id="esp_mqtt_client_config_t::network_t::transport__esp_transport_handle_t"></span><span class="target" id="structesp__mqtt__client__config__t_1_1network__t_1a46907ce0a3fd07ceab2b6d78fbf177e7"></span><span class="n"><span class="pre">esp_transport_handle_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">transport</span></span></span><a class="headerlink" href="#_CPPv4N24esp_mqtt_client_config_t9network_t9transportE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Custom transport handle to use. Warning: The transport should be valid during the client lifetime and is destroyed when esp_mqtt_client_destroy is called. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24esp_mqtt_client_config_t9network_t7if_nameE">
<span id="_CPPv3N24esp_mqtt_client_config_t9network_t7if_nameE"></span><span id="_CPPv2N24esp_mqtt_client_config_t9network_t7if_nameE"></span><span id="esp_mqtt_client_config_t::network_t::if_name__ifreqP"></span><span class="target" id="structesp__mqtt__client__config__t_1_1network__t_1ab712e0ab6b021d9578dbf8dc615b9afc"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">ifreq</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">if_name</span></span></span><a class="headerlink" href="#_CPPv4N24esp_mqtt_client_config_t9network_t7if_nameE" title="Permalink to this definition"></a><br /></dt>
<dd><p>The name of interface for data to go through. Use the default interface without setting </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv4N24esp_mqtt_client_config_t15outbox_config_tE">
<span id="_CPPv3N24esp_mqtt_client_config_t15outbox_config_tE"></span><span id="_CPPv2N24esp_mqtt_client_config_t15outbox_config_tE"></span><span id="esp_mqtt_client_config_t::outbox_config_t"></span><span class="target" id="structesp__mqtt__client__config__t_1_1outbox__config__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">outbox_config_t</span></span></span><a class="headerlink" href="#_CPPv4N24esp_mqtt_client_config_t15outbox_config_tE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Client outbox configuration options. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24esp_mqtt_client_config_t15outbox_config_t5limitE">
<span id="_CPPv3N24esp_mqtt_client_config_t15outbox_config_t5limitE"></span><span id="_CPPv2N24esp_mqtt_client_config_t15outbox_config_t5limitE"></span><span id="esp_mqtt_client_config_t::outbox_config_t::limit__uint64_t"></span><span class="target" id="structesp__mqtt__client__config__t_1_1outbox__config__t_1acaeee988ced01a06bd75cf541e5b7145"></span><span class="n"><span class="pre">uint64_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">limit</span></span></span><a class="headerlink" href="#_CPPv4N24esp_mqtt_client_config_t15outbox_config_t5limitE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Size limit for the outbox in bytes. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv4N24esp_mqtt_client_config_t9session_tE">
<span id="_CPPv3N24esp_mqtt_client_config_t9session_tE"></span><span id="_CPPv2N24esp_mqtt_client_config_t9session_tE"></span><span id="esp_mqtt_client_config_t::session_t"></span><span class="target" id="structesp__mqtt__client__config__t_1_1session__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">session_t</span></span></span><a class="headerlink" href="#_CPPv4N24esp_mqtt_client_config_t9session_tE" title="Permalink to this definition"></a><br /></dt>
<dd><p><em>MQTT</em> Session related configuration </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24esp_mqtt_client_config_t9session_t9last_willE">
<span id="_CPPv3N24esp_mqtt_client_config_t9session_t9last_willE"></span><span id="_CPPv2N24esp_mqtt_client_config_t9session_t9last_willE"></span><span id="esp_mqtt_client_config_t::session_t::last_will__esp_mqtt_client_config_t::session_t::last_will_t"></span><span class="target" id="structesp__mqtt__client__config__t_1_1session__t_1ae54029caa2f932fee2658ebdb25399a3"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv424esp_mqtt_client_config_t" title="esp_mqtt_client_config_t"><span class="n"><span class="pre">esp_mqtt_client_config_t</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="#_CPPv4N24esp_mqtt_client_config_t9session_tE" title="esp_mqtt_client_config_t::session_t"><span class="n"><span class="pre">session_t</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="#_CPPv4N24esp_mqtt_client_config_t9session_t11last_will_tE" title="esp_mqtt_client_config_t::session_t::last_will_t"><span class="n"><span class="pre">last_will_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">last_will</span></span></span><a class="headerlink" href="#_CPPv4N24esp_mqtt_client_config_t9session_t9last_willE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Last will configuration </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24esp_mqtt_client_config_t9session_t21disable_clean_sessionE">
<span id="_CPPv3N24esp_mqtt_client_config_t9session_t21disable_clean_sessionE"></span><span id="_CPPv2N24esp_mqtt_client_config_t9session_t21disable_clean_sessionE"></span><span id="esp_mqtt_client_config_t::session_t::disable_clean_session__b"></span><span class="target" id="structesp__mqtt__client__config__t_1_1session__t_1a7aecc038ced45e8f9673ed3a79739c6e"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">disable_clean_session</span></span></span><a class="headerlink" href="#_CPPv4N24esp_mqtt_client_config_t9session_t21disable_clean_sessionE" title="Permalink to this definition"></a><br /></dt>
<dd><p><em>MQTT</em> clean session, default clean_session is true </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24esp_mqtt_client_config_t9session_t9keepaliveE">
<span id="_CPPv3N24esp_mqtt_client_config_t9session_t9keepaliveE"></span><span id="_CPPv2N24esp_mqtt_client_config_t9session_t9keepaliveE"></span><span id="esp_mqtt_client_config_t::session_t::keepalive__i"></span><span class="target" id="structesp__mqtt__client__config__t_1_1session__t_1a57eecc93931d35ac007c7f447fa68daf"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">keepalive</span></span></span><a class="headerlink" href="#_CPPv4N24esp_mqtt_client_config_t9session_t9keepaliveE" title="Permalink to this definition"></a><br /></dt>
<dd><p><em>MQTT</em> keepalive, default is 120 seconds When configuring this value, keep in mind that the client attempts to communicate with the broker at half the interval that is actually set. This conservative approach allows for more attempts before the broker's timeout occurs </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24esp_mqtt_client_config_t9session_t17disable_keepaliveE">
<span id="_CPPv3N24esp_mqtt_client_config_t9session_t17disable_keepaliveE"></span><span id="_CPPv2N24esp_mqtt_client_config_t9session_t17disable_keepaliveE"></span><span id="esp_mqtt_client_config_t::session_t::disable_keepalive__b"></span><span class="target" id="structesp__mqtt__client__config__t_1_1session__t_1a6865ac1bac6408004b3fc1e2270bbcd0"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">disable_keepalive</span></span></span><a class="headerlink" href="#_CPPv4N24esp_mqtt_client_config_t9session_t17disable_keepaliveE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Set <code class="docutils literal notranslate"><span class="pre">disable_keepalive=true</span></code> to turn off keep-alive mechanism, keepalive is active by default. Note: setting the config value <code class="docutils literal notranslate"><span class="pre">keepalive</span></code> to <code class="docutils literal notranslate"><span class="pre">0</span></code> doesn't disable keepalive feature, but uses a default keepalive period </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24esp_mqtt_client_config_t9session_t12protocol_verE">
<span id="_CPPv3N24esp_mqtt_client_config_t9session_t12protocol_verE"></span><span id="_CPPv2N24esp_mqtt_client_config_t9session_t12protocol_verE"></span><span id="esp_mqtt_client_config_t::session_t::protocol_ver__esp_mqtt_protocol_ver_t"></span><span class="target" id="structesp__mqtt__client__config__t_1_1session__t_1afdd2809f91d4ce14dc83c29691290eea"></span><a class="reference internal" href="#_CPPv423esp_mqtt_protocol_ver_t" title="esp_mqtt_protocol_ver_t"><span class="n"><span class="pre">esp_mqtt_protocol_ver_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">protocol_ver</span></span></span><a class="headerlink" href="#_CPPv4N24esp_mqtt_client_config_t9session_t12protocol_verE" title="Permalink to this definition"></a><br /></dt>
<dd><p><em>MQTT</em> protocol version used for connection. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24esp_mqtt_client_config_t9session_t26message_retransmit_timeoutE">
<span id="_CPPv3N24esp_mqtt_client_config_t9session_t26message_retransmit_timeoutE"></span><span id="_CPPv2N24esp_mqtt_client_config_t9session_t26message_retransmit_timeoutE"></span><span id="esp_mqtt_client_config_t::session_t::message_retransmit_timeout__i"></span><span class="target" id="structesp__mqtt__client__config__t_1_1session__t_1a69a5a8dbdca96dd7c4e17a7b11f48aba"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">message_retransmit_timeout</span></span></span><a class="headerlink" href="#_CPPv4N24esp_mqtt_client_config_t9session_t26message_retransmit_timeoutE" title="Permalink to this definition"></a><br /></dt>
<dd><p>timeout for retransmitting of failed packet </p>
</dd></dl>

</div>
<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv4N24esp_mqtt_client_config_t9session_t11last_will_tE">
<span id="_CPPv3N24esp_mqtt_client_config_t9session_t11last_will_tE"></span><span id="_CPPv2N24esp_mqtt_client_config_t9session_t11last_will_tE"></span><span id="esp_mqtt_client_config_t::session_t::last_will_t"></span><span class="target" id="structesp__mqtt__client__config__t_1_1session__t_1_1last__will__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">last_will_t</span></span></span><a class="headerlink" href="#_CPPv4N24esp_mqtt_client_config_t9session_t11last_will_tE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Last Will and Testament message configuration. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24esp_mqtt_client_config_t9session_t11last_will_t5topicE">
<span id="_CPPv3N24esp_mqtt_client_config_t9session_t11last_will_t5topicE"></span><span id="_CPPv2N24esp_mqtt_client_config_t9session_t11last_will_t5topicE"></span><span id="esp_mqtt_client_config_t::session_t::last_will_t::topic__cCP"></span><span class="target" id="structesp__mqtt__client__config__t_1_1session__t_1_1last__will__t_1ab9cfe43964c91c88d9cf64889eb9c4c5"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">topic</span></span></span><a class="headerlink" href="#_CPPv4N24esp_mqtt_client_config_t9session_t11last_will_t5topicE" title="Permalink to this definition"></a><br /></dt>
<dd><p>LWT (Last Will and Testament) message topic </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24esp_mqtt_client_config_t9session_t11last_will_t3msgE">
<span id="_CPPv3N24esp_mqtt_client_config_t9session_t11last_will_t3msgE"></span><span id="_CPPv2N24esp_mqtt_client_config_t9session_t11last_will_t3msgE"></span><span id="esp_mqtt_client_config_t::session_t::last_will_t::msg__cCP"></span><span class="target" id="structesp__mqtt__client__config__t_1_1session__t_1_1last__will__t_1a1c137c656368ca113fa73a37758a25e5"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">msg</span></span></span><a class="headerlink" href="#_CPPv4N24esp_mqtt_client_config_t9session_t11last_will_t3msgE" title="Permalink to this definition"></a><br /></dt>
<dd><p>LWT message, may be NULL terminated </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24esp_mqtt_client_config_t9session_t11last_will_t7msg_lenE">
<span id="_CPPv3N24esp_mqtt_client_config_t9session_t11last_will_t7msg_lenE"></span><span id="_CPPv2N24esp_mqtt_client_config_t9session_t11last_will_t7msg_lenE"></span><span id="esp_mqtt_client_config_t::session_t::last_will_t::msg_len__i"></span><span class="target" id="structesp__mqtt__client__config__t_1_1session__t_1_1last__will__t_1ab22ddd1b4e7d92ead66e474d40344fff"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">msg_len</span></span></span><a class="headerlink" href="#_CPPv4N24esp_mqtt_client_config_t9session_t11last_will_t7msg_lenE" title="Permalink to this definition"></a><br /></dt>
<dd><p>LWT message length, if msg isn't NULL terminated must have the correct length </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24esp_mqtt_client_config_t9session_t11last_will_t3qosE">
<span id="_CPPv3N24esp_mqtt_client_config_t9session_t11last_will_t3qosE"></span><span id="_CPPv2N24esp_mqtt_client_config_t9session_t11last_will_t3qosE"></span><span id="esp_mqtt_client_config_t::session_t::last_will_t::qos__i"></span><span class="target" id="structesp__mqtt__client__config__t_1_1session__t_1_1last__will__t_1a668296bdd357d771e461fe08c2b36c36"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">qos</span></span></span><a class="headerlink" href="#_CPPv4N24esp_mqtt_client_config_t9session_t11last_will_t3qosE" title="Permalink to this definition"></a><br /></dt>
<dd><p>LWT message QoS </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24esp_mqtt_client_config_t9session_t11last_will_t6retainE">
<span id="_CPPv3N24esp_mqtt_client_config_t9session_t11last_will_t6retainE"></span><span id="_CPPv2N24esp_mqtt_client_config_t9session_t11last_will_t6retainE"></span><span id="esp_mqtt_client_config_t::session_t::last_will_t::retain__i"></span><span class="target" id="structesp__mqtt__client__config__t_1_1session__t_1_1last__will__t_1ad20179f338e9a314e14d97036808565a"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">retain</span></span></span><a class="headerlink" href="#_CPPv4N24esp_mqtt_client_config_t9session_t11last_will_t6retainE" title="Permalink to this definition"></a><br /></dt>
<dd><p>LWT retained message flag </p>
</dd></dl>

</div>
</dd></dl>

</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv4N24esp_mqtt_client_config_t6task_tE">
<span id="_CPPv3N24esp_mqtt_client_config_t6task_tE"></span><span id="_CPPv2N24esp_mqtt_client_config_t6task_tE"></span><span id="esp_mqtt_client_config_t::task_t"></span><span class="target" id="structesp__mqtt__client__config__t_1_1task__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">task_t</span></span></span><a class="headerlink" href="#_CPPv4N24esp_mqtt_client_config_t6task_tE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Client task configuration </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24esp_mqtt_client_config_t6task_t8priorityE">
<span id="_CPPv3N24esp_mqtt_client_config_t6task_t8priorityE"></span><span id="_CPPv2N24esp_mqtt_client_config_t6task_t8priorityE"></span><span id="esp_mqtt_client_config_t::task_t::priority__i"></span><span class="target" id="structesp__mqtt__client__config__t_1_1task__t_1a7836fa807e94b6b20ea6c2313f87260f"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">priority</span></span></span><a class="headerlink" href="#_CPPv4N24esp_mqtt_client_config_t6task_t8priorityE" title="Permalink to this definition"></a><br /></dt>
<dd><p><em>MQTT</em> task priority </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24esp_mqtt_client_config_t6task_t10stack_sizeE">
<span id="_CPPv3N24esp_mqtt_client_config_t6task_t10stack_sizeE"></span><span id="_CPPv2N24esp_mqtt_client_config_t6task_t10stack_sizeE"></span><span id="esp_mqtt_client_config_t::task_t::stack_size__i"></span><span class="target" id="structesp__mqtt__client__config__t_1_1task__t_1a49e050b7061a7e99cf2ec4b1fecef131"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">stack_size</span></span></span><a class="headerlink" href="#_CPPv4N24esp_mqtt_client_config_t6task_t10stack_sizeE" title="Permalink to this definition"></a><br /></dt>
<dd><p><em>MQTT</em> task stack size </p>
</dd></dl>

</div>
</dd></dl>

</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv47topic_t">
<span id="_CPPv37topic_t"></span><span id="_CPPv27topic_t"></span><span id="topic_t"></span><span class="target" id="structtopic__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">topic_t</span></span></span><a class="headerlink" href="#_CPPv47topic_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Topic definition struct </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N7topic_t6filterE">
<span id="_CPPv3N7topic_t6filterE"></span><span id="_CPPv2N7topic_t6filterE"></span><span id="topic_t::filter__cCP"></span><span class="target" id="structtopic__t_1a26038da921accbacd0f126fa48b7d8b6"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">filter</span></span></span><a class="headerlink" href="#_CPPv4N7topic_t6filterE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Topic filter to subscribe </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N7topic_t3qosE">
<span id="_CPPv3N7topic_t3qosE"></span><span id="_CPPv2N7topic_t3qosE"></span><span id="topic_t::qos__i"></span><span class="target" id="structtopic__t_1a2ff8fb786d524064f9cb7bcb48880826"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">qos</span></span></span><a class="headerlink" href="#_CPPv4N7topic_t3qosE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Max QoS level of the subscription </p>
</dd></dl>

</div>
</dd></dl>

</section>
<section id="macros">
<h3>Macros<a class="headerlink" href="#macros" title="Permalink to this heading"></a></h3>
<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MQTT_ERROR_TYPE_ESP_TLS">
<span class="target" id="mqtt__client_8h_1a8e31049f0eed57ffaa184fb9826b2057"></span><span class="sig-name descname"><span class="n"><span class="pre">MQTT_ERROR_TYPE_ESP_TLS</span></span></span><a class="headerlink" href="#c.MQTT_ERROR_TYPE_ESP_TLS" title="Permalink to this definition"></a><br /></dt>
<dd><p>MQTT_ERROR_TYPE_TCP_TRANSPORT error type hold all sorts of transport layer errors, including ESP-TLS error, but in the past only the errors from MQTT_ERROR_TYPE_ESP_TLS layer were reported, so the ESP-TLS error type is re-defined here for backward compatibility </p>
</dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.esp_mqtt_client_subscribe">
<span class="target" id="mqtt__client_8h_1a4946b11d73f50e2aba19af1282d65813"></span><span class="sig-name descname"><span class="n"><span class="pre">esp_mqtt_client_subscribe</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">client_handle</span></span>, <span class="n"><span class="pre">topic_type</span></span>, <span class="n"><span class="pre">qos_or_size</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.esp_mqtt_client_subscribe" title="Permalink to this definition"></a><br /></dt>
<dd><p>Convenience macro to select subscribe function to use. </p>
<p>Notes:<ul class="simple">
<li><p>Usage of <code class="docutils literal notranslate"><span class="pre">esp_mqtt_client_subscribe_single</span></code> is the same as previous esp_mqtt_client_subscribe, refer to it for details.</p></li>
</ul>
</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>client_handle</strong> -- <em>MQTT</em> client handle </p></li>
<li><p><strong>topic_type</strong> -- Needs to be char* for single subscription or <code class="docutils literal notranslate"><span class="pre">esp_mqtt_topic_t</span></code> for multiple topics </p></li>
<li><p><strong>qos_or_size</strong> -- It's either a qos when subscribing to a single topic or the size of the subscription array when subscribing to multiple topics.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>message_id of the subscribe message on success -1 on failure -2 in case of full outbox. </p>
</dd>
</dl>
</dd></dl>

</section>
<section id="type-definitions">
<h3>Type Definitions<a class="headerlink" href="#type-definitions" title="Permalink to this heading"></a></h3>
<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv424esp_mqtt_client_handle_t">
<span id="_CPPv324esp_mqtt_client_handle_t"></span><span id="_CPPv224esp_mqtt_client_handle_t"></span><span id="esp_mqtt_client_handle_t"></span><span class="target" id="mqtt__client_8h_1aa32a33a6f15f0c3c0669c6cf6f6af3d4"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">esp_mqtt_client</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">esp_mqtt_client_handle_t</span></span></span><a class="headerlink" href="#_CPPv424esp_mqtt_client_handle_t" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv419esp_mqtt_event_id_t">
<span id="_CPPv319esp_mqtt_event_id_t"></span><span id="_CPPv219esp_mqtt_event_id_t"></span><span id="esp_mqtt_event_id_t"></span><span class="target" id="mqtt__client_8h_1ad36af73bbe454d48bf4f3302bb720a98"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv419esp_mqtt_event_id_t" title="esp_mqtt_event_id_t"><span class="n"><span class="pre">esp_mqtt_event_id_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_mqtt_event_id_t</span></span></span><a class="headerlink" href="#_CPPv419esp_mqtt_event_id_t" title="Permalink to this definition"></a><br /></dt>
<dd><p><em>MQTT</em> event types. </p>
<p>User event handler receives context data in <code class="docutils literal notranslate"><a class="reference internal" href="#structesp__mqtt__event__t"><span class="std std-ref"><span class="pre">esp_mqtt_event_t</span></span></a></code> structure with<ul class="simple">
<li><p>client - <em>MQTT</em> client handle</p></li>
<li><p>various other data depending on event type </p></li>
</ul>
</p>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv430esp_mqtt_connect_return_code_t">
<span id="_CPPv330esp_mqtt_connect_return_code_t"></span><span id="_CPPv230esp_mqtt_connect_return_code_t"></span><span id="esp_mqtt_connect_return_code_t"></span><span class="target" id="mqtt__client_8h_1a8c6a604af5ed9d155dcfee64de953424"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv430esp_mqtt_connect_return_code_t" title="esp_mqtt_connect_return_code_t"><span class="n"><span class="pre">esp_mqtt_connect_return_code_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_mqtt_connect_return_code_t</span></span></span><a class="headerlink" href="#_CPPv430esp_mqtt_connect_return_code_t" title="Permalink to this definition"></a><br /></dt>
<dd><p><em>MQTT</em> connection error codes propagated via ERROR event </p>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv421esp_mqtt_error_type_t">
<span id="_CPPv321esp_mqtt_error_type_t"></span><span id="_CPPv221esp_mqtt_error_type_t"></span><span id="esp_mqtt_error_type_t"></span><span class="target" id="mqtt__client_8h_1a2e5dbff6ce23e5b820804ca2304c4be1"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv421esp_mqtt_error_type_t" title="esp_mqtt_error_type_t"><span class="n"><span class="pre">esp_mqtt_error_type_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_mqtt_error_type_t</span></span></span><a class="headerlink" href="#_CPPv421esp_mqtt_error_type_t" title="Permalink to this definition"></a><br /></dt>
<dd><p><em>MQTT</em> connection error codes propagated via ERROR event </p>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv420esp_mqtt_transport_t">
<span id="_CPPv320esp_mqtt_transport_t"></span><span id="_CPPv220esp_mqtt_transport_t"></span><span id="esp_mqtt_transport_t"></span><span class="target" id="mqtt__client_8h_1a90f8af75444a771bc553596f8cbeff75"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv420esp_mqtt_transport_t" title="esp_mqtt_transport_t"><span class="n"><span class="pre">esp_mqtt_transport_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_mqtt_transport_t</span></span></span><a class="headerlink" href="#_CPPv420esp_mqtt_transport_t" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv423esp_mqtt_protocol_ver_t">
<span id="_CPPv323esp_mqtt_protocol_ver_t"></span><span id="_CPPv223esp_mqtt_protocol_ver_t"></span><span id="esp_mqtt_protocol_ver_t"></span><span class="target" id="mqtt__client_8h_1a74f38b08e16a500029bfcdce2b29d28d"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv423esp_mqtt_protocol_ver_t" title="esp_mqtt_protocol_ver_t"><span class="n"><span class="pre">esp_mqtt_protocol_ver_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_mqtt_protocol_ver_t</span></span></span><a class="headerlink" href="#_CPPv423esp_mqtt_protocol_ver_t" title="Permalink to this definition"></a><br /></dt>
<dd><p><em>MQTT</em> protocol version used for connection </p>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv422esp_mqtt_error_codes_t">
<span id="_CPPv322esp_mqtt_error_codes_t"></span><span id="_CPPv222esp_mqtt_error_codes_t"></span><span id="esp_mqtt_error_codes_t"></span><span class="target" id="mqtt__client_8h_1a559d794402351a1593fafcd2c813080b"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv420esp_mqtt_error_codes" title="esp_mqtt_error_codes"><span class="n"><span class="pre">esp_mqtt_error_codes</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_mqtt_error_codes_t</span></span></span><a class="headerlink" href="#_CPPv422esp_mqtt_error_codes_t" title="Permalink to this definition"></a><br /></dt>
<dd><p><em>MQTT</em> error code structure to be passed as a contextual information into ERROR event </p>
<p>Important: This structure extends <code class="docutils literal notranslate"><a class="reference internal" href="esp_tls.html#structesp__tls__last__error"><span class="std std-ref"><span class="pre">esp_tls_last_error</span></span></a></code> error structure and is backward compatible with it (so might be down-casted and treated as <code class="docutils literal notranslate"><a class="reference internal" href="esp_tls.html#structesp__tls__last__error"><span class="std std-ref"><span class="pre">esp_tls_last_error</span></span></a></code> error, but recommended to update applications if used this way previously)</p>
<p>Use this structure directly checking error_type first and then appropriate error code depending on the source of the error:</p>
<p>| error_type | related member variables | note | | MQTT_ERROR_TYPE_TCP_TRANSPORT | esp_tls_last_esp_err, esp_tls_stack_err, esp_tls_cert_verify_flags, sock_errno | Error reported from tcp_transport/esp-tls | | MQTT_ERROR_TYPE_CONNECTION_REFUSED | connect_return_code | Internal error reported from <em>MQTT</em> broker on connection | </p>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp">
<span class="target" id="mqtt__client_8h_1a3eabae14bc29c5b79e28398d84cf97e5"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv416esp_mqtt_event_t" title="esp_mqtt_event_t"><span class="n"><span class="pre">esp_mqtt_event_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_mqtt_event_t</span></span></span><br /></dt>
<dd><p><em>MQTT</em> event configuration structure </p>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv423esp_mqtt_event_handle_t">
<span id="_CPPv323esp_mqtt_event_handle_t"></span><span id="_CPPv223esp_mqtt_event_handle_t"></span><span id="esp_mqtt_event_handle_t"></span><span class="target" id="mqtt__client_8h_1a3a20d2e793441bb4f2ef4de23d10b7da"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv416esp_mqtt_event_t" title="esp_mqtt_event_t"><span class="n"><span class="pre">esp_mqtt_event_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">esp_mqtt_event_handle_t</span></span></span><a class="headerlink" href="#_CPPv423esp_mqtt_event_handle_t" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp">
<span class="target" id="mqtt__client_8h_1a4df82db0455d0cce1f97239c6be40eea"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv424esp_mqtt_client_config_t" title="esp_mqtt_client_config_t"><span class="n"><span class="pre">esp_mqtt_client_config_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_mqtt_client_config_t</span></span></span><br /></dt>
<dd><p><em>MQTT</em> client configuration structure</p>
<p><ul class="simple">
<li><p>Default values can be set via menuconfig</p></li>
<li><p>All certificates and key data could be passed in PEM or DER format. PEM format must have a terminating NULL character and the related len field set to 0. DER format requires a related len field set to the correct length. </p></li>
</ul>
</p>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv416esp_mqtt_topic_t">
<span id="_CPPv316esp_mqtt_topic_t"></span><span id="_CPPv216esp_mqtt_topic_t"></span><span id="esp_mqtt_topic_t"></span><span class="target" id="mqtt__client_8h_1ac9c09aca490d22e589a466595cf8fe9d"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv47topic_t" title="topic_t"><span class="n"><span class="pre">topic_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_mqtt_topic_t</span></span></span><a class="headerlink" href="#_CPPv416esp_mqtt_topic_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Topic definition struct </p>
</dd></dl>

</section>
<section id="enumerations">
<h3>Enumerations<a class="headerlink" href="#enumerations" title="Permalink to this heading"></a></h3>
<dl class="cpp enum">
<dt class="sig sig-object cpp">
<span class="target" id="mqtt__client_8h_1ac7683a1edce4b5e816943006a3a8d021"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_mqtt_event_id_t</span></span></span><br /></dt>
<dd><p><em>MQTT</em> event types. </p>
<p>User event handler receives context data in <code class="docutils literal notranslate"><a class="reference internal" href="#structesp__mqtt__event__t"><span class="std std-ref"><span class="pre">esp_mqtt_event_t</span></span></a></code> structure with<ul class="simple">
<li><p>client - <em>MQTT</em> client handle</p></li>
<li><p>various other data depending on event type </p></li>
</ul>
</p>
<p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N19esp_mqtt_event_id_t14MQTT_EVENT_ANYE">
<span id="_CPPv3N19esp_mqtt_event_id_t14MQTT_EVENT_ANYE"></span><span id="_CPPv2N19esp_mqtt_event_id_t14MQTT_EVENT_ANYE"></span><span class="target" id="mqtt__client_8h_1ac7683a1edce4b5e816943006a3a8d021adb2a130466244647ee653cdc9518a9a3"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MQTT_EVENT_ANY</span></span></span><a class="headerlink" href="#_CPPv4N19esp_mqtt_event_id_t14MQTT_EVENT_ANYE" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N19esp_mqtt_event_id_t16MQTT_EVENT_ERRORE">
<span id="_CPPv3N19esp_mqtt_event_id_t16MQTT_EVENT_ERRORE"></span><span id="_CPPv2N19esp_mqtt_event_id_t16MQTT_EVENT_ERRORE"></span><span class="target" id="mqtt__client_8h_1ac7683a1edce4b5e816943006a3a8d021a1c05926ed3b69d298e253ab5477a2837"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MQTT_EVENT_ERROR</span></span></span><a class="headerlink" href="#_CPPv4N19esp_mqtt_event_id_t16MQTT_EVENT_ERRORE" title="Permalink to this definition"></a><br /></dt>
<dd><p>on error event, additional context: connection return code, error handle from esp_tls (if supported) </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N19esp_mqtt_event_id_t20MQTT_EVENT_CONNECTEDE">
<span id="_CPPv3N19esp_mqtt_event_id_t20MQTT_EVENT_CONNECTEDE"></span><span id="_CPPv2N19esp_mqtt_event_id_t20MQTT_EVENT_CONNECTEDE"></span><span class="target" id="mqtt__client_8h_1ac7683a1edce4b5e816943006a3a8d021a389dab7d667392932a622de052a25601"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MQTT_EVENT_CONNECTED</span></span></span><a class="headerlink" href="#_CPPv4N19esp_mqtt_event_id_t20MQTT_EVENT_CONNECTEDE" title="Permalink to this definition"></a><br /></dt>
<dd><p>connected event, additional context: session_present flag </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N19esp_mqtt_event_id_t23MQTT_EVENT_DISCONNECTEDE">
<span id="_CPPv3N19esp_mqtt_event_id_t23MQTT_EVENT_DISCONNECTEDE"></span><span id="_CPPv2N19esp_mqtt_event_id_t23MQTT_EVENT_DISCONNECTEDE"></span><span class="target" id="mqtt__client_8h_1ac7683a1edce4b5e816943006a3a8d021aa46c6cfa863fb0b11718e3afbd2fe1f0"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MQTT_EVENT_DISCONNECTED</span></span></span><a class="headerlink" href="#_CPPv4N19esp_mqtt_event_id_t23MQTT_EVENT_DISCONNECTEDE" title="Permalink to this definition"></a><br /></dt>
<dd><p>disconnected event </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N19esp_mqtt_event_id_t21MQTT_EVENT_SUBSCRIBEDE">
<span id="_CPPv3N19esp_mqtt_event_id_t21MQTT_EVENT_SUBSCRIBEDE"></span><span id="_CPPv2N19esp_mqtt_event_id_t21MQTT_EVENT_SUBSCRIBEDE"></span><span class="target" id="mqtt__client_8h_1ac7683a1edce4b5e816943006a3a8d021afd19f7aa79ef83e12e2dca624c897a7d"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MQTT_EVENT_SUBSCRIBED</span></span></span><a class="headerlink" href="#_CPPv4N19esp_mqtt_event_id_t21MQTT_EVENT_SUBSCRIBEDE" title="Permalink to this definition"></a><br /></dt>
<dd><p>subscribed event, additional context:<ul class="simple">
<li><p>msg_id message id</p></li>
<li><p>error_handle <code class="docutils literal notranslate"><span class="pre">error_type</span></code> in case subscribing failed</p></li>
<li><p>data pointer to broker response, check for errors.</p></li>
<li><p>data_len length of the data for this event </p></li>
</ul>
</p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N19esp_mqtt_event_id_t23MQTT_EVENT_UNSUBSCRIBEDE">
<span id="_CPPv3N19esp_mqtt_event_id_t23MQTT_EVENT_UNSUBSCRIBEDE"></span><span id="_CPPv2N19esp_mqtt_event_id_t23MQTT_EVENT_UNSUBSCRIBEDE"></span><span class="target" id="mqtt__client_8h_1ac7683a1edce4b5e816943006a3a8d021a8c91781885051efe9b866c0a3892face"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MQTT_EVENT_UNSUBSCRIBED</span></span></span><a class="headerlink" href="#_CPPv4N19esp_mqtt_event_id_t23MQTT_EVENT_UNSUBSCRIBEDE" title="Permalink to this definition"></a><br /></dt>
<dd><p>unsubscribed event, additional context: msg_id </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N19esp_mqtt_event_id_t20MQTT_EVENT_PUBLISHEDE">
<span id="_CPPv3N19esp_mqtt_event_id_t20MQTT_EVENT_PUBLISHEDE"></span><span id="_CPPv2N19esp_mqtt_event_id_t20MQTT_EVENT_PUBLISHEDE"></span><span class="target" id="mqtt__client_8h_1ac7683a1edce4b5e816943006a3a8d021af3ebab2f4e6e887c156370521df95ea9"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MQTT_EVENT_PUBLISHED</span></span></span><a class="headerlink" href="#_CPPv4N19esp_mqtt_event_id_t20MQTT_EVENT_PUBLISHEDE" title="Permalink to this definition"></a><br /></dt>
<dd><p>published event, additional context: msg_id </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N19esp_mqtt_event_id_t15MQTT_EVENT_DATAE">
<span id="_CPPv3N19esp_mqtt_event_id_t15MQTT_EVENT_DATAE"></span><span id="_CPPv2N19esp_mqtt_event_id_t15MQTT_EVENT_DATAE"></span><span class="target" id="mqtt__client_8h_1ac7683a1edce4b5e816943006a3a8d021a54e72585428883f87e5a77727a1b99e7"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MQTT_EVENT_DATA</span></span></span><a class="headerlink" href="#_CPPv4N19esp_mqtt_event_id_t15MQTT_EVENT_DATAE" title="Permalink to this definition"></a><br /></dt>
<dd><p>data event, additional context:<ul class="simple">
<li><p>msg_id message id</p></li>
<li><p>topic pointer to the received topic</p></li>
<li><p>topic_len length of the topic</p></li>
<li><p>data pointer to the received data</p></li>
<li><p>data_len length of the data for this event</p></li>
<li><p>current_data_offset offset of the current data for this event</p></li>
<li><p>total_data_len total length of the data received</p></li>
<li><p>retain retain flag of the message</p></li>
<li><p>qos QoS level of the message</p></li>
<li><p>dup dup flag of the message Note: Multiple MQTT_EVENT_DATA could be fired for one message, if it is longer than internal buffer. In that case only first event contains topic pointer and length, other contain data only with current data length and current data offset updating. </p></li>
</ul>
</p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N19esp_mqtt_event_id_t25MQTT_EVENT_BEFORE_CONNECTE">
<span id="_CPPv3N19esp_mqtt_event_id_t25MQTT_EVENT_BEFORE_CONNECTE"></span><span id="_CPPv2N19esp_mqtt_event_id_t25MQTT_EVENT_BEFORE_CONNECTE"></span><span class="target" id="mqtt__client_8h_1ac7683a1edce4b5e816943006a3a8d021a63a3057bc3c852844f9ce85a7b20d90f"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MQTT_EVENT_BEFORE_CONNECT</span></span></span><a class="headerlink" href="#_CPPv4N19esp_mqtt_event_id_t25MQTT_EVENT_BEFORE_CONNECTE" title="Permalink to this definition"></a><br /></dt>
<dd><p>The event occurs before connecting </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N19esp_mqtt_event_id_t18MQTT_EVENT_DELETEDE">
<span id="_CPPv3N19esp_mqtt_event_id_t18MQTT_EVENT_DELETEDE"></span><span id="_CPPv2N19esp_mqtt_event_id_t18MQTT_EVENT_DELETEDE"></span><span class="target" id="mqtt__client_8h_1ac7683a1edce4b5e816943006a3a8d021ac9159087f111749bca50ed7ec8e042f8"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MQTT_EVENT_DELETED</span></span></span><a class="headerlink" href="#_CPPv4N19esp_mqtt_event_id_t18MQTT_EVENT_DELETEDE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Notification on delete of one message from the internal outbox, if the message couldn't have been sent and acknowledged before expiring defined in OUTBOX_EXPIRED_TIMEOUT_MS. (events are not posted upon deletion of successfully acknowledged messages)<ul class="simple">
<li><p>This event id is posted only if MQTT_REPORT_DELETED_MESSAGES==1</p></li>
<li><p>Additional context: msg_id (id of the deleted message). </p></li>
</ul>
</p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N19esp_mqtt_event_id_t15MQTT_USER_EVENTE">
<span id="_CPPv3N19esp_mqtt_event_id_t15MQTT_USER_EVENTE"></span><span id="_CPPv2N19esp_mqtt_event_id_t15MQTT_USER_EVENTE"></span><span class="target" id="mqtt__client_8h_1ac7683a1edce4b5e816943006a3a8d021a5a7750c9866a9dda9c63ace20f7fff51"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MQTT_USER_EVENT</span></span></span><a class="headerlink" href="#_CPPv4N19esp_mqtt_event_id_t15MQTT_USER_EVENTE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Custom event used to queue tasks into mqtt event handler All fields from the <a class="reference internal" href="#structesp__mqtt__event__t"><span class="std std-ref">esp_mqtt_event_t</span></a> type could be used to pass an additional context data to the handler. </p>
</dd></dl>

</dd></dl>

<dl class="cpp enum">
<dt class="sig sig-object cpp">
<span class="target" id="mqtt__client_8h_1acbe96fe95e06da0ce202ee9a0add4d40"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_mqtt_connect_return_code_t</span></span></span><br /></dt>
<dd><p><em>MQTT</em> connection error codes propagated via ERROR event </p>
<p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N30esp_mqtt_connect_return_code_t24MQTT_CONNECTION_ACCEPTEDE">
<span id="_CPPv3N30esp_mqtt_connect_return_code_t24MQTT_CONNECTION_ACCEPTEDE"></span><span id="_CPPv2N30esp_mqtt_connect_return_code_t24MQTT_CONNECTION_ACCEPTEDE"></span><span class="target" id="mqtt__client_8h_1acbe96fe95e06da0ce202ee9a0add4d40a2fdd911a8978b8df2254766c1e3fd050"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MQTT_CONNECTION_ACCEPTED</span></span></span><a class="headerlink" href="#_CPPv4N30esp_mqtt_connect_return_code_t24MQTT_CONNECTION_ACCEPTEDE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Connection accepted </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N30esp_mqtt_connect_return_code_t31MQTT_CONNECTION_REFUSE_PROTOCOLE">
<span id="_CPPv3N30esp_mqtt_connect_return_code_t31MQTT_CONNECTION_REFUSE_PROTOCOLE"></span><span id="_CPPv2N30esp_mqtt_connect_return_code_t31MQTT_CONNECTION_REFUSE_PROTOCOLE"></span><span class="target" id="mqtt__client_8h_1acbe96fe95e06da0ce202ee9a0add4d40ace539c2e51492a856c4a359811b4268d"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MQTT_CONNECTION_REFUSE_PROTOCOL</span></span></span><a class="headerlink" href="#_CPPv4N30esp_mqtt_connect_return_code_t31MQTT_CONNECTION_REFUSE_PROTOCOLE" title="Permalink to this definition"></a><br /></dt>
<dd><p><em>MQTT</em> connection refused reason: Wrong protocol </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N30esp_mqtt_connect_return_code_t34MQTT_CONNECTION_REFUSE_ID_REJECTEDE">
<span id="_CPPv3N30esp_mqtt_connect_return_code_t34MQTT_CONNECTION_REFUSE_ID_REJECTEDE"></span><span id="_CPPv2N30esp_mqtt_connect_return_code_t34MQTT_CONNECTION_REFUSE_ID_REJECTEDE"></span><span class="target" id="mqtt__client_8h_1acbe96fe95e06da0ce202ee9a0add4d40abad20149335b341d257d4fb3a7061199"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MQTT_CONNECTION_REFUSE_ID_REJECTED</span></span></span><a class="headerlink" href="#_CPPv4N30esp_mqtt_connect_return_code_t34MQTT_CONNECTION_REFUSE_ID_REJECTEDE" title="Permalink to this definition"></a><br /></dt>
<dd><p><em>MQTT</em> connection refused reason: ID rejected </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N30esp_mqtt_connect_return_code_t41MQTT_CONNECTION_REFUSE_SERVER_UNAVAILABLEE">
<span id="_CPPv3N30esp_mqtt_connect_return_code_t41MQTT_CONNECTION_REFUSE_SERVER_UNAVAILABLEE"></span><span id="_CPPv2N30esp_mqtt_connect_return_code_t41MQTT_CONNECTION_REFUSE_SERVER_UNAVAILABLEE"></span><span class="target" id="mqtt__client_8h_1acbe96fe95e06da0ce202ee9a0add4d40a46aed302289773e8c2d2b3b19d2cace9"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MQTT_CONNECTION_REFUSE_SERVER_UNAVAILABLE</span></span></span><a class="headerlink" href="#_CPPv4N30esp_mqtt_connect_return_code_t41MQTT_CONNECTION_REFUSE_SERVER_UNAVAILABLEE" title="Permalink to this definition"></a><br /></dt>
<dd><p><em>MQTT</em> connection refused reason: Server unavailable </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N30esp_mqtt_connect_return_code_t35MQTT_CONNECTION_REFUSE_BAD_USERNAMEE">
<span id="_CPPv3N30esp_mqtt_connect_return_code_t35MQTT_CONNECTION_REFUSE_BAD_USERNAMEE"></span><span id="_CPPv2N30esp_mqtt_connect_return_code_t35MQTT_CONNECTION_REFUSE_BAD_USERNAMEE"></span><span class="target" id="mqtt__client_8h_1acbe96fe95e06da0ce202ee9a0add4d40adf142a8ac1ffc9d0600221a8ef07ceb5"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MQTT_CONNECTION_REFUSE_BAD_USERNAME</span></span></span><a class="headerlink" href="#_CPPv4N30esp_mqtt_connect_return_code_t35MQTT_CONNECTION_REFUSE_BAD_USERNAMEE" title="Permalink to this definition"></a><br /></dt>
<dd><p><em>MQTT</em> connection refused reason: Wrong user </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N30esp_mqtt_connect_return_code_t37MQTT_CONNECTION_REFUSE_NOT_AUTHORIZEDE">
<span id="_CPPv3N30esp_mqtt_connect_return_code_t37MQTT_CONNECTION_REFUSE_NOT_AUTHORIZEDE"></span><span id="_CPPv2N30esp_mqtt_connect_return_code_t37MQTT_CONNECTION_REFUSE_NOT_AUTHORIZEDE"></span><span class="target" id="mqtt__client_8h_1acbe96fe95e06da0ce202ee9a0add4d40ad90a63784fb58dcdb24417ada388a684"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MQTT_CONNECTION_REFUSE_NOT_AUTHORIZED</span></span></span><a class="headerlink" href="#_CPPv4N30esp_mqtt_connect_return_code_t37MQTT_CONNECTION_REFUSE_NOT_AUTHORIZEDE" title="Permalink to this definition"></a><br /></dt>
<dd><p><em>MQTT</em> connection refused reason: Wrong username or password </p>
</dd></dl>

</dd></dl>

<dl class="cpp enum">
<dt class="sig sig-object cpp">
<span class="target" id="mqtt__client_8h_1ac5519aa6c71ade348ec5e5bb2d9d970f"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_mqtt_error_type_t</span></span></span><br /></dt>
<dd><p><em>MQTT</em> connection error codes propagated via ERROR event </p>
<p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N21esp_mqtt_error_type_t20MQTT_ERROR_TYPE_NONEE">
<span id="_CPPv3N21esp_mqtt_error_type_t20MQTT_ERROR_TYPE_NONEE"></span><span id="_CPPv2N21esp_mqtt_error_type_t20MQTT_ERROR_TYPE_NONEE"></span><span class="target" id="mqtt__client_8h_1ac5519aa6c71ade348ec5e5bb2d9d970fab9ac86bb206c7f1a8680988d256414a6"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MQTT_ERROR_TYPE_NONE</span></span></span><a class="headerlink" href="#_CPPv4N21esp_mqtt_error_type_t20MQTT_ERROR_TYPE_NONEE" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N21esp_mqtt_error_type_t29MQTT_ERROR_TYPE_TCP_TRANSPORTE">
<span id="_CPPv3N21esp_mqtt_error_type_t29MQTT_ERROR_TYPE_TCP_TRANSPORTE"></span><span id="_CPPv2N21esp_mqtt_error_type_t29MQTT_ERROR_TYPE_TCP_TRANSPORTE"></span><span class="target" id="mqtt__client_8h_1ac5519aa6c71ade348ec5e5bb2d9d970fa5fb42c9315884a7f551ba7b3c1903bcf"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MQTT_ERROR_TYPE_TCP_TRANSPORT</span></span></span><a class="headerlink" href="#_CPPv4N21esp_mqtt_error_type_t29MQTT_ERROR_TYPE_TCP_TRANSPORTE" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N21esp_mqtt_error_type_t34MQTT_ERROR_TYPE_CONNECTION_REFUSEDE">
<span id="_CPPv3N21esp_mqtt_error_type_t34MQTT_ERROR_TYPE_CONNECTION_REFUSEDE"></span><span id="_CPPv2N21esp_mqtt_error_type_t34MQTT_ERROR_TYPE_CONNECTION_REFUSEDE"></span><span class="target" id="mqtt__client_8h_1ac5519aa6c71ade348ec5e5bb2d9d970fab24b1505c31ca59377482f341bb73e25"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MQTT_ERROR_TYPE_CONNECTION_REFUSED</span></span></span><a class="headerlink" href="#_CPPv4N21esp_mqtt_error_type_t34MQTT_ERROR_TYPE_CONNECTION_REFUSEDE" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N21esp_mqtt_error_type_t32MQTT_ERROR_TYPE_SUBSCRIBE_FAILEDE">
<span id="_CPPv3N21esp_mqtt_error_type_t32MQTT_ERROR_TYPE_SUBSCRIBE_FAILEDE"></span><span id="_CPPv2N21esp_mqtt_error_type_t32MQTT_ERROR_TYPE_SUBSCRIBE_FAILEDE"></span><span class="target" id="mqtt__client_8h_1ac5519aa6c71ade348ec5e5bb2d9d970fa0da239dc30cf71938d199529e8a44efc"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MQTT_ERROR_TYPE_SUBSCRIBE_FAILED</span></span></span><a class="headerlink" href="#_CPPv4N21esp_mqtt_error_type_t32MQTT_ERROR_TYPE_SUBSCRIBE_FAILEDE" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

</dd></dl>

<dl class="cpp enum">
<dt class="sig sig-object cpp">
<span class="target" id="mqtt__client_8h_1a543e6f53f0b091688eba50a7bb101aad"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_mqtt_transport_t</span></span></span><br /></dt>
<dd><p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N20esp_mqtt_transport_t22MQTT_TRANSPORT_UNKNOWNE">
<span id="_CPPv3N20esp_mqtt_transport_t22MQTT_TRANSPORT_UNKNOWNE"></span><span id="_CPPv2N20esp_mqtt_transport_t22MQTT_TRANSPORT_UNKNOWNE"></span><span class="target" id="mqtt__client_8h_1a543e6f53f0b091688eba50a7bb101aada7e646eb7c70521978ac5b8b16c5c77b0"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MQTT_TRANSPORT_UNKNOWN</span></span></span><a class="headerlink" href="#_CPPv4N20esp_mqtt_transport_t22MQTT_TRANSPORT_UNKNOWNE" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N20esp_mqtt_transport_t23MQTT_TRANSPORT_OVER_TCPE">
<span id="_CPPv3N20esp_mqtt_transport_t23MQTT_TRANSPORT_OVER_TCPE"></span><span id="_CPPv2N20esp_mqtt_transport_t23MQTT_TRANSPORT_OVER_TCPE"></span><span class="target" id="mqtt__client_8h_1a543e6f53f0b091688eba50a7bb101aadad547f05248833cf06b40eab173ed1084"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MQTT_TRANSPORT_OVER_TCP</span></span></span><a class="headerlink" href="#_CPPv4N20esp_mqtt_transport_t23MQTT_TRANSPORT_OVER_TCPE" title="Permalink to this definition"></a><br /></dt>
<dd><p><em>MQTT</em> over TCP, using scheme: <code class="docutils literal notranslate"><span class="pre">MQTT</span></code></p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N20esp_mqtt_transport_t23MQTT_TRANSPORT_OVER_SSLE">
<span id="_CPPv3N20esp_mqtt_transport_t23MQTT_TRANSPORT_OVER_SSLE"></span><span id="_CPPv2N20esp_mqtt_transport_t23MQTT_TRANSPORT_OVER_SSLE"></span><span class="target" id="mqtt__client_8h_1a543e6f53f0b091688eba50a7bb101aada990443456721abb2dc15fde97c9cc0cd"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MQTT_TRANSPORT_OVER_SSL</span></span></span><a class="headerlink" href="#_CPPv4N20esp_mqtt_transport_t23MQTT_TRANSPORT_OVER_SSLE" title="Permalink to this definition"></a><br /></dt>
<dd><p><em>MQTT</em> over SSL, using scheme: <code class="docutils literal notranslate"><span class="pre">MQTTS</span></code></p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N20esp_mqtt_transport_t22MQTT_TRANSPORT_OVER_WSE">
<span id="_CPPv3N20esp_mqtt_transport_t22MQTT_TRANSPORT_OVER_WSE"></span><span id="_CPPv2N20esp_mqtt_transport_t22MQTT_TRANSPORT_OVER_WSE"></span><span class="target" id="mqtt__client_8h_1a543e6f53f0b091688eba50a7bb101aada96360bf3ceb3f1650bcebfbb51fd5d4a"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MQTT_TRANSPORT_OVER_WS</span></span></span><a class="headerlink" href="#_CPPv4N20esp_mqtt_transport_t22MQTT_TRANSPORT_OVER_WSE" title="Permalink to this definition"></a><br /></dt>
<dd><p><em>MQTT</em> over Websocket, using scheme:: <code class="docutils literal notranslate"><span class="pre">ws</span></code></p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N20esp_mqtt_transport_t23MQTT_TRANSPORT_OVER_WSSE">
<span id="_CPPv3N20esp_mqtt_transport_t23MQTT_TRANSPORT_OVER_WSSE"></span><span id="_CPPv2N20esp_mqtt_transport_t23MQTT_TRANSPORT_OVER_WSSE"></span><span class="target" id="mqtt__client_8h_1a543e6f53f0b091688eba50a7bb101aadacc33f9e8bf4635f8b81ebac0fe7a0148"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MQTT_TRANSPORT_OVER_WSS</span></span></span><a class="headerlink" href="#_CPPv4N20esp_mqtt_transport_t23MQTT_TRANSPORT_OVER_WSSE" title="Permalink to this definition"></a><br /></dt>
<dd><p><em>MQTT</em> over Websocket Secure, using scheme: <code class="docutils literal notranslate"><span class="pre">wss</span></code></p>
</dd></dl>

</dd></dl>

<dl class="cpp enum">
<dt class="sig sig-object cpp">
<span class="target" id="mqtt__client_8h_1ad12db81a8ce4d2d4de683dcfea5507fb"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">esp_mqtt_protocol_ver_t</span></span></span><br /></dt>
<dd><p><em>MQTT</em> protocol version used for connection </p>
<p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N23esp_mqtt_protocol_ver_t23MQTT_PROTOCOL_UNDEFINEDE">
<span id="_CPPv3N23esp_mqtt_protocol_ver_t23MQTT_PROTOCOL_UNDEFINEDE"></span><span id="_CPPv2N23esp_mqtt_protocol_ver_t23MQTT_PROTOCOL_UNDEFINEDE"></span><span class="target" id="mqtt__client_8h_1ad12db81a8ce4d2d4de683dcfea5507fba9132102c46fa187cbf5385cc570ef7e7"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MQTT_PROTOCOL_UNDEFINED</span></span></span><a class="headerlink" href="#_CPPv4N23esp_mqtt_protocol_ver_t23MQTT_PROTOCOL_UNDEFINEDE" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N23esp_mqtt_protocol_ver_t19MQTT_PROTOCOL_V_3_1E">
<span id="_CPPv3N23esp_mqtt_protocol_ver_t19MQTT_PROTOCOL_V_3_1E"></span><span id="_CPPv2N23esp_mqtt_protocol_ver_t19MQTT_PROTOCOL_V_3_1E"></span><span class="target" id="mqtt__client_8h_1ad12db81a8ce4d2d4de683dcfea5507fba23db76c7902fabb78ba88e4f372bbcd7"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MQTT_PROTOCOL_V_3_1</span></span></span><a class="headerlink" href="#_CPPv4N23esp_mqtt_protocol_ver_t19MQTT_PROTOCOL_V_3_1E" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N23esp_mqtt_protocol_ver_t21MQTT_PROTOCOL_V_3_1_1E">
<span id="_CPPv3N23esp_mqtt_protocol_ver_t21MQTT_PROTOCOL_V_3_1_1E"></span><span id="_CPPv2N23esp_mqtt_protocol_ver_t21MQTT_PROTOCOL_V_3_1_1E"></span><span class="target" id="mqtt__client_8h_1ad12db81a8ce4d2d4de683dcfea5507fbacc1b206f5f75ed12a7f250cef8d76417"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MQTT_PROTOCOL_V_3_1_1</span></span></span><a class="headerlink" href="#_CPPv4N23esp_mqtt_protocol_ver_t21MQTT_PROTOCOL_V_3_1_1E" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N23esp_mqtt_protocol_ver_t17MQTT_PROTOCOL_V_5E">
<span id="_CPPv3N23esp_mqtt_protocol_ver_t17MQTT_PROTOCOL_V_5E"></span><span id="_CPPv2N23esp_mqtt_protocol_ver_t17MQTT_PROTOCOL_V_5E"></span><span class="target" id="mqtt__client_8h_1ad12db81a8ce4d2d4de683dcfea5507fba79e6c333d2788fb106e898ec582aa5da"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MQTT_PROTOCOL_V_5</span></span></span><a class="headerlink" href="#_CPPv4N23esp_mqtt_protocol_ver_t17MQTT_PROTOCOL_V_5E" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

</dd></dl>

</section>
</section>
</section>

    <script type="text/javascript">
        function init() {
            WaveDrom.ProcessAll();
        }
        window.onload = init;
    </script>

           </div>
             <div class="articleComments">

<style>
    .expand-feedback-content {
        display: none;
    }
    .click-like-or-dislike {
        background-color: #d3d3d3;
        pointer-events: none;
    }
</style>

<script>
    function submitFeedbackForm(user_likes_document) {
        // Send to GA4 the user reaction
        gtag('event', 'user_reaction', {
            'user_likes_document': user_likes_document
        });

        if (user_likes_document === 1) {
            document.querySelector('.like-btn').classList.add('click-like-or-dislike');
            document.getElementById("expandContentLike").style.display = 'block';
        } else {
            document.querySelector('.dislike-btn').classList.add('click-like-or-dislike');
            document.getElementById("expandContent").style.display = 'block';
        }

        document.querySelector('.like-btn').style.pointerEvents = 'none';
        document.querySelector('.dislike-btn').style.pointerEvents = 'none';
    }
</script>

<hr>

<p style="text-align:center"><strong>Was this page helpful?</strong></p>
<p style="text-align:center">
    <button class="like-btn" onclick="submitFeedbackForm(1)">
        <svg aria-hidden="true" focusable="false" class="color-fg-muted" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible">
            <path d="M8.834.066c.763.087 1.5.295 2.01.884.505.581.656 1.378.656 2.3 0 .467-.087 1.119-.157 1.637L11.328 5h1.422c.603 0 1.174.085 1.668.333.508.254.911.679 1.137 1.2.453.998.438 2.447.188 4.316l-.04.306c-.105.79-.195 1.473-.313 2.033-.131.63-.315 1.209-.668 1.672C13.97 15.847 12.706 16 11 16c-1.848 0-3.234-.333-4.388-.653-.165-.045-.323-.09-.475-.133-.658-.186-1.2-.34-1.725-.415A1.75 1.75 0 0 1 2.75 16h-1A1.75 1.75 0 0 1 0 14.25v-7.5C0 5.784.784 5 1.75 5h1a1.75 1.75 0 0 1 1.514.872c.258-.105.59-.268.918-.508C5.853 4.874 6.5 4.079 6.5 2.75v-.5c0-1.202.994-2.337 2.334-2.184ZM4.5 13.3c.705.088 1.39.284 2.072.478l.441.125c1.096.305 2.334.598 3.987.598 1.794 0 2.28-.223 2.528-.549.147-.193.276-.505.394-1.07.105-.502.188-1.124.295-1.93l.04-.3c.25-1.882.189-2.933-.068-3.497a.921.921 0 0 0-.442-.48c-.208-.104-.52-.174-.997-.174H11c-.686 0-1.295-.577-1.206-1.336.023-.192.05-.39.076-.586.065-.488.13-.97.13-1.328 0-.809-.144-1.15-.288-1.316-.137-.158-.402-.304-1.048-.378C8.357 1.521 8 1.793 8 2.25v.5c0 1.922-.978 3.128-1.933 3.825a5.831 5.831 0 0 1-1.567.81ZM2.75 6.5h-1a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h1a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
        </svg>
    </button>
    <button class="dislike-btn" onclick="submitFeedbackForm(0)">
        <svg aria-hidden="true" focusable="false" class="" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible">
            <path d="M7.083 15.986c-.763-.087-1.499-.295-2.011-.884-.504-.581-.655-1.378-.655-2.299 0-.468.087-1.12.157-1.638l.015-.112H3.167c-.603 0-1.174-.086-1.669-.334a2.415 2.415 0 0 1-1.136-1.2c-.454-.998-.438-2.447-.188-4.316l.04-.306C.32 4.108.41 3.424.526 2.864c.132-.63.316-1.209.669-1.672C1.947.205 3.211.053 4.917.053c1.848 0 3.234.332 4.388.652l.474.133c.658.187 1.201.341 1.726.415a1.75 1.75 0 0 1 1.662-1.2h1c.966 0 1.75.784 1.75 1.75v7.5a1.75 1.75 0 0 1-1.75 1.75h-1a1.75 1.75 0 0 1-1.514-.872c-.259.105-.59.268-.919.508-.671.491-1.317 1.285-1.317 2.614v.5c0 1.201-.994 2.336-2.334 2.183Zm4.334-13.232c-.706-.089-1.39-.284-2.072-.479l-.441-.125c-1.096-.304-2.335-.597-3.987-.597-1.794 0-2.28.222-2.529.548-.147.193-.275.505-.393 1.07-.105.502-.188 1.124-.295 1.93l-.04.3c-.25 1.882-.19 2.933.067 3.497a.923.923 0 0 0 .443.48c.208.104.52.175.997.175h1.75c.685 0 1.295.577 1.205 1.335-.022.192-.049.39-.075.586-.066.488-.13.97-.13 1.329 0 .808.144 1.15.288 1.316.137.157.401.303 1.048.377.307.035.664-.237.664-.693v-.5c0-1.922.978-3.127 1.932-3.825a5.878 5.878 0 0 1 1.568-.809Zm1.75 6.798h1a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25h-1a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25Z"></path>
        </svg>
    </button>
</p>

<div class="expand-feedback-content" id="expandContentLike">
    <ul style="text-align:center">
        <li>Thank you! We received your feedback.</li>
        <li>If you have any comments, fill in <a href='https://www.espressif.com/en/company/documents/documentation_feedback?docId=4287&sections=ESP-MQTT (api-reference/protocols/mqtt)&version=esp32 v5.4.2 (v5.4.2)'>Espressif Documentation Feedback Form</a>.</li>
    </ul>
</div>

<div class="expand-feedback-content" id="expandContent">
    <ul style="text-align:center">
        <li>We value your feedback.</li>
        <li>Let us know how we can improve this page by filling in <a href='https://www.espressif.com/en/company/documents/documentation_feedback?docId=4287&sections=ESP-MQTT (api-reference/protocols/mqtt)&version=esp32 v5.4.2 (v5.4.2)'>Espressif Documentation Feedback Form</a>.</li>
    </ul>
</div>

<br>


             </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="modbus.html" class="btn btn-neutral float-left" title="ESP-Modbus" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="esp_tls.html" class="btn btn-neutral float-right" title="ESP-TLS" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2016 - 2025, Espressif Systems (Shanghai) Co., Ltd.</p>
  </div>

  <ul class="footer">
        <li>
	    
            
            Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/espressif/sphinx_idf_theme">theme</a>  based on <a href="https://github.com/readthedocs/sphinx_rtd_theme">Read the Docs Sphinx Theme</a>.
         </li>
    <li class="footer-aside">
        <a href="../../esp-idf-en-v5.4.2.zip"> Download HTML</a>
    </li>

  </ul> 

</footer>
        </div>
      </div>
    </section>
  </div>

  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>